(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();function b1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var hf={exports:{}},yo={};var Ob;function CC(){if(Ob)return yo;Ob=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,a,o){var u=null;if(o!==void 0&&(u=""+o),a.key!==void 0&&(u=""+a.key),"key"in a){o={};for(var h in a)h!=="key"&&(o[h]=a[h])}else o=a;return a=o.ref,{$$typeof:t,type:r,key:u,ref:a!==void 0?a:null,props:o}}return yo.Fragment=e,yo.jsx=n,yo.jsxs=n,yo}var Rb;function OC(){return Rb||(Rb=1,hf.exports=CC()),hf.exports}var S=OC(),df={exports:{}},_e={};var Db;function RC(){if(Db)return _e;Db=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),v=Symbol.iterator;function b(j){return j===null||typeof j!="object"?null:(j=v&&j[v]||j["@@iterator"],typeof j=="function"?j:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,T={};function A(j,q,k){this.props=j,this.context=q,this.refs=T,this.updater=k||x}A.prototype.isReactComponent={},A.prototype.setState=function(j,q){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,q,"setState")},A.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function R(){}R.prototype=A.prototype;function C(j,q,k){this.props=j,this.context=q,this.refs=T,this.updater=k||x}var D=C.prototype=new R;D.constructor=C,E(D,A.prototype),D.isPureReactComponent=!0;var $=Array.isArray;function M(){}var F={H:null,A:null,T:null,S:null},Y=Object.prototype.hasOwnProperty;function ee(j,q,k){var Z=k.ref;return{$$typeof:t,type:j,key:q,ref:Z!==void 0?Z:null,props:k}}function oe(j,q){return ee(j.type,q,j.props)}function ne(j){return typeof j=="object"&&j!==null&&j.$$typeof===t}function ie(j){var q={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(k){return q[k]})}var he=/\/+/g;function ae(j,q){return typeof j=="object"&&j!==null&&j.key!=null?ie(""+j.key):q.toString(36)}function Q(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(M,M):(j.status="pending",j.then(function(q){j.status==="pending"&&(j.status="fulfilled",j.value=q)},function(q){j.status==="pending"&&(j.status="rejected",j.reason=q)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function P(j,q,k,Z,de){var fe=typeof j;(fe==="undefined"||fe==="boolean")&&(j=null);var Re=!1;if(j===null)Re=!0;else switch(fe){case"bigint":case"string":case"number":Re=!0;break;case"object":switch(j.$$typeof){case t:case e:Re=!0;break;case g:return Re=j._init,P(Re(j._payload),q,k,Z,de)}}if(Re)return de=de(j),Re=Z===""?"."+ae(j,0):Z,$(de)?(k="",Re!=null&&(k=Re.replace(he,"$&/")+"/"),P(de,q,k,"",function(Ut){return Ut})):de!=null&&(ne(de)&&(de=oe(de,k+(de.key==null||j&&j.key===de.key?"":(""+de.key).replace(he,"$&/")+"/")+Re)),q.push(de)),1;Re=0;var We=Z===""?".":Z+":";if($(j))for(var ze=0;ze<j.length;ze++)Z=j[ze],fe=We+ae(Z,ze),Re+=P(Z,q,k,fe,de);else if(ze=b(j),typeof ze=="function")for(j=ze.call(j),ze=0;!(Z=j.next()).done;)Z=Z.value,fe=We+ae(Z,ze++),Re+=P(Z,q,k,fe,de);else if(fe==="object"){if(typeof j.then=="function")return P(Q(j),q,k,Z,de);throw q=String(j),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return Re}function K(j,q,k){if(j==null)return j;var Z=[],de=0;return P(j,Z,"","",function(fe){return q.call(k,fe,de++)}),Z}function re(j){if(j._status===-1){var q=j._result;q=q(),q.then(function(k){(j._status===0||j._status===-1)&&(j._status=1,j._result=k)},function(k){(j._status===0||j._status===-1)&&(j._status=2,j._result=k)}),j._status===-1&&(j._status=0,j._result=q)}if(j._status===1)return j._result.default;throw j._result}var ge=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},O={map:K,forEach:function(j,q,k){K(j,function(){q.apply(this,arguments)},k)},count:function(j){var q=0;return K(j,function(){q++}),q},toArray:function(j){return K(j,function(q){return q})||[]},only:function(j){if(!ne(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return _e.Activity=y,_e.Children=O,_e.Component=A,_e.Fragment=n,_e.Profiler=a,_e.PureComponent=C,_e.StrictMode=r,_e.Suspense=f,_e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,_e.__COMPILER_RUNTIME={__proto__:null,c:function(j){return F.H.useMemoCache(j)}},_e.cache=function(j){return function(){return j.apply(null,arguments)}},_e.cacheSignal=function(){return null},_e.cloneElement=function(j,q,k){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var Z=E({},j.props),de=j.key;if(q!=null)for(fe in q.key!==void 0&&(de=""+q.key),q)!Y.call(q,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&q.ref===void 0||(Z[fe]=q[fe]);var fe=arguments.length-2;if(fe===1)Z.children=k;else if(1<fe){for(var Re=Array(fe),We=0;We<fe;We++)Re[We]=arguments[We+2];Z.children=Re}return ee(j.type,de,Z)},_e.createContext=function(j){return j={$$typeof:u,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:o,_context:j},j},_e.createElement=function(j,q,k){var Z,de={},fe=null;if(q!=null)for(Z in q.key!==void 0&&(fe=""+q.key),q)Y.call(q,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(de[Z]=q[Z]);var Re=arguments.length-2;if(Re===1)de.children=k;else if(1<Re){for(var We=Array(Re),ze=0;ze<Re;ze++)We[ze]=arguments[ze+2];de.children=We}if(j&&j.defaultProps)for(Z in Re=j.defaultProps,Re)de[Z]===void 0&&(de[Z]=Re[Z]);return ee(j,fe,de)},_e.createRef=function(){return{current:null}},_e.forwardRef=function(j){return{$$typeof:h,render:j}},_e.isValidElement=ne,_e.lazy=function(j){return{$$typeof:g,_payload:{_status:-1,_result:j},_init:re}},_e.memo=function(j,q){return{$$typeof:d,type:j,compare:q===void 0?null:q}},_e.startTransition=function(j){var q=F.T,k={};F.T=k;try{var Z=j(),de=F.S;de!==null&&de(k,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(M,ge)}catch(fe){ge(fe)}finally{q!==null&&k.types!==null&&(q.types=k.types),F.T=q}},_e.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},_e.use=function(j){return F.H.use(j)},_e.useActionState=function(j,q,k){return F.H.useActionState(j,q,k)},_e.useCallback=function(j,q){return F.H.useCallback(j,q)},_e.useContext=function(j){return F.H.useContext(j)},_e.useDebugValue=function(){},_e.useDeferredValue=function(j,q){return F.H.useDeferredValue(j,q)},_e.useEffect=function(j,q){return F.H.useEffect(j,q)},_e.useEffectEvent=function(j){return F.H.useEffectEvent(j)},_e.useId=function(){return F.H.useId()},_e.useImperativeHandle=function(j,q,k){return F.H.useImperativeHandle(j,q,k)},_e.useInsertionEffect=function(j,q){return F.H.useInsertionEffect(j,q)},_e.useLayoutEffect=function(j,q){return F.H.useLayoutEffect(j,q)},_e.useMemo=function(j,q){return F.H.useMemo(j,q)},_e.useOptimistic=function(j,q){return F.H.useOptimistic(j,q)},_e.useReducer=function(j,q,k){return F.H.useReducer(j,q,k)},_e.useRef=function(j){return F.H.useRef(j)},_e.useState=function(j){return F.H.useState(j)},_e.useSyncExternalStore=function(j,q,k){return F.H.useSyncExternalStore(j,q,k)},_e.useTransition=function(){return F.H.useTransition()},_e.version="19.2.3",_e}var Nb;function Eg(){return Nb||(Nb=1,df.exports=RC()),df.exports}var V=Eg(),ff={exports:{}},vo={},pf={exports:{}},gf={};var jb;function DC(){return jb||(jb=1,(function(t){function e(P,K){var re=P.length;P.push(K);e:for(;0<re;){var ge=re-1>>>1,O=P[ge];if(0<a(O,K))P[ge]=K,P[re]=O,re=ge;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var K=P[0],re=P.pop();if(re!==K){P[0]=re;e:for(var ge=0,O=P.length,j=O>>>1;ge<j;){var q=2*(ge+1)-1,k=P[q],Z=q+1,de=P[Z];if(0>a(k,re))Z<O&&0>a(de,k)?(P[ge]=de,P[Z]=re,ge=Z):(P[ge]=k,P[q]=re,ge=q);else if(Z<O&&0>a(de,re))P[ge]=de,P[Z]=re,ge=Z;else break e}}return K}function a(P,K){var re=P.sortIndex-K.sortIndex;return re!==0?re:P.id-K.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,h=u.now();t.unstable_now=function(){return u.now()-h}}var f=[],d=[],g=1,y=null,v=3,b=!1,x=!1,E=!1,T=!1,A=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function D(P){for(var K=n(d);K!==null;){if(K.callback===null)r(d);else if(K.startTime<=P)r(d),K.sortIndex=K.expirationTime,e(f,K);else break;K=n(d)}}function $(P){if(E=!1,D(P),!x)if(n(f)!==null)x=!0,M||(M=!0,ie());else{var K=n(d);K!==null&&Q($,K.startTime-P)}}var M=!1,F=-1,Y=5,ee=-1;function oe(){return T?!0:!(t.unstable_now()-ee<Y)}function ne(){if(T=!1,M){var P=t.unstable_now();ee=P;var K=!0;try{e:{x=!1,E&&(E=!1,R(F),F=-1),b=!0;var re=v;try{t:{for(D(P),y=n(f);y!==null&&!(y.expirationTime>P&&oe());){var ge=y.callback;if(typeof ge=="function"){y.callback=null,v=y.priorityLevel;var O=ge(y.expirationTime<=P);if(P=t.unstable_now(),typeof O=="function"){y.callback=O,D(P),K=!0;break t}y===n(f)&&r(f),D(P)}else r(f);y=n(f)}if(y!==null)K=!0;else{var j=n(d);j!==null&&Q($,j.startTime-P),K=!1}}break e}finally{y=null,v=re,b=!1}K=void 0}}finally{K?ie():M=!1}}}var ie;if(typeof C=="function")ie=function(){C(ne)};else if(typeof MessageChannel<"u"){var he=new MessageChannel,ae=he.port2;he.port1.onmessage=ne,ie=function(){ae.postMessage(null)}}else ie=function(){A(ne,0)};function Q(P,K){F=A(function(){P(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(P){switch(v){case 1:case 2:case 3:var K=3;break;default:K=v}var re=v;v=K;try{return P()}finally{v=re}},t.unstable_requestPaint=function(){T=!0},t.unstable_runWithPriority=function(P,K){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var re=v;v=P;try{return K()}finally{v=re}},t.unstable_scheduleCallback=function(P,K,re){var ge=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?ge+re:ge):re=ge,P){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=re+O,P={id:g++,callback:K,priorityLevel:P,startTime:re,expirationTime:O,sortIndex:-1},re>ge?(P.sortIndex=re,e(d,P),n(f)===null&&P===n(d)&&(E?(R(F),F=-1):E=!0,Q($,re-ge))):(P.sortIndex=O,e(f,P),x||b||(x=!0,M||(M=!0,ie()))),P},t.unstable_shouldYield=oe,t.unstable_wrapCallback=function(P){var K=v;return function(){var re=v;v=K;try{return P.apply(this,arguments)}finally{v=re}}}})(gf)),gf}var Mb;function NC(){return Mb||(Mb=1,pf.exports=DC()),pf.exports}var mf={exports:{}},It={};var Lb;function jC(){if(Lb)return It;Lb=1;var t=Eg();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)d+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(f,d,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:y==null?null:""+y,children:f,containerInfo:d,implementation:g}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return It.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,It.createPortal=function(f,d){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return o(f,d,null,g)},It.flushSync=function(f){var d=u.T,g=r.p;try{if(u.T=null,r.p=2,f)return f()}finally{u.T=d,r.p=g,r.d.f()}},It.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(f,d))},It.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},It.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var g=d.as,y=h(g,d.crossOrigin),v=typeof d.integrity=="string"?d.integrity:void 0,b=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;g==="style"?r.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:y,integrity:v,fetchPriority:b}):g==="script"&&r.d.X(f,{crossOrigin:y,integrity:v,fetchPriority:b,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},It.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var g=h(d.as,d.crossOrigin);r.d.M(f,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(f)},It.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var g=d.as,y=h(g,d.crossOrigin);r.d.L(f,g,{crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},It.preloadModule=function(f,d){if(typeof f=="string")if(d){var g=h(d.as,d.crossOrigin);r.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(f)},It.requestFormReset=function(f){r.d.r(f)},It.unstable_batchedUpdates=function(f,d){return f(d)},It.useFormState=function(f,d,g){return u.H.useFormState(f,d,g)},It.useFormStatus=function(){return u.H.useHostTransitionStatus()},It.version="19.2.3",It}var Ib;function MC(){if(Ib)return mf.exports;Ib=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),mf.exports=jC(),mf.exports}var Pb;function LC(){if(Pb)return vo;Pb=1;var t=NC(),e=Eg(),n=MC();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var s=i,l=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(l=s.return),i=s.return;while(i)}return s.tag===3?l:null}function u(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function h(i){if(i.tag===31){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function f(i){if(o(i)!==i)throw Error(r(188))}function d(i){var s=i.alternate;if(!s){if(s=o(i),s===null)throw Error(r(188));return s!==i?null:i}for(var l=i,c=s;;){var p=l.return;if(p===null)break;var m=p.alternate;if(m===null){if(c=p.return,c!==null){l=c;continue}break}if(p.child===m.child){for(m=p.child;m;){if(m===l)return f(p),i;if(m===c)return f(p),s;m=m.sibling}throw Error(r(188))}if(l.return!==c.return)l=p,c=m;else{for(var w=!1,_=p.child;_;){if(_===l){w=!0,l=p,c=m;break}if(_===c){w=!0,c=p,l=m;break}_=_.sibling}if(!w){for(_=m.child;_;){if(_===l){w=!0,l=m,c=p;break}if(_===c){w=!0,c=m,l=p;break}_=_.sibling}if(!w)throw Error(r(189))}}if(l.alternate!==c)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:s}function g(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=g(i),s!==null)return s;i=i.sibling}return null}var y=Object.assign,v=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),R=Symbol.for("react.consumer"),C=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),Y=Symbol.for("react.lazy"),ee=Symbol.for("react.activity"),oe=Symbol.for("react.memo_cache_sentinel"),ne=Symbol.iterator;function ie(i){return i===null||typeof i!="object"?null:(i=ne&&i[ne]||i["@@iterator"],typeof i=="function"?i:null)}var he=Symbol.for("react.client.reference");function ae(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===he?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case E:return"Fragment";case A:return"Profiler";case T:return"StrictMode";case $:return"Suspense";case M:return"SuspenseList";case ee:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case x:return"Portal";case C:return i.displayName||"Context";case R:return(i._context.displayName||"Context")+".Consumer";case D:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case F:return s=i.displayName||null,s!==null?s:ae(i.type)||"Memo";case Y:s=i._payload,i=i._init;try{return ae(i(s))}catch{}}return null}var Q=Array.isArray,P=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},ge=[],O=-1;function j(i){return{current:i}}function q(i){0>O||(i.current=ge[O],ge[O]=null,O--)}function k(i,s){O++,ge[O]=i.current,i.current=s}var Z=j(null),de=j(null),fe=j(null),Re=j(null);function We(i,s){switch(k(fe,s),k(de,i),k(Z,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?Q0(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=Q0(s),i=Z0(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}q(Z),k(Z,i)}function ze(){q(Z),q(de),q(fe)}function Ut(i){i.memoizedState!==null&&k(Re,i);var s=Z.current,l=Z0(s,i.type);s!==l&&(k(de,i),k(Z,l))}function jn(i){de.current===i&&(q(Z),q(de)),Re.current===i&&(q(Re),fo._currentValue=re)}var Li,vl;function si(i){if(Li===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);Li=s&&s[1]||"",vl=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Li+i+vl}var rs=!1;function ss(i,s){if(!i||rs)return"";rs=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(H){var z=H}Reflect.construct(i,[],J)}else{try{J.call()}catch(H){z=H}i.call(J.prototype)}}else{try{throw Error()}catch(H){z=H}(J=i())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(H){if(H&&z&&typeof H.stack=="string")return[H.stack,z.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=c.DetermineComponentFrameRoot(),w=m[0],_=m[1];if(w&&_){var N=w.split(`
`),U=_.split(`
`);for(p=c=0;c<N.length&&!N[c].includes("DetermineComponentFrameRoot");)c++;for(;p<U.length&&!U[p].includes("DetermineComponentFrameRoot");)p++;if(c===N.length||p===U.length)for(c=N.length-1,p=U.length-1;1<=c&&0<=p&&N[c]!==U[p];)p--;for(;1<=c&&0<=p;c--,p--)if(N[c]!==U[p]){if(c!==1||p!==1)do if(c--,p--,0>p||N[c]!==U[p]){var G=`
`+N[c].replace(" at new "," at ");return i.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",i.displayName)),G}while(1<=c&&0<=p);break}}}finally{rs=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?si(l):""}function bl(i,s){switch(i.tag){case 26:case 27:case 5:return si(i.type);case 16:return si("Lazy");case 13:return i.child!==s&&s!==null?si("Suspense Fallback"):si("Suspense");case 19:return si("SuspenseList");case 0:case 15:return ss(i.type,!1);case 11:return ss(i.type.render,!1);case 1:return ss(i.type,!0);case 31:return si("Activity");default:return""}}function wl(i){try{var s="",l=null;do s+=bl(i,l),l=i,i=i.return;while(i);return s}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var as=Object.prototype.hasOwnProperty,os=t.unstable_scheduleCallback,Ta=t.unstable_cancelCallback,Wc=t.unstable_shouldYield,Xc=t.unstable_requestPaint,zt=t.unstable_now,Jc=t.unstable_getCurrentPriorityLevel,W=t.unstable_ImmediatePriority,se=t.unstable_UserBlockingPriority,we=t.unstable_NormalPriority,De=t.unstable_LowPriority,He=t.unstable_IdlePriority,an=t.log,ai=t.unstable_setDisableYieldValue,Vt=null,St=null;function Yt(i){if(typeof an=="function"&&ai(i),St&&typeof St.setStrictMode=="function")try{St.setStrictMode(Vt,i)}catch{}}var Xe=Math.clz32?Math.clz32:pA,Ii=Math.log,Mn=Math.LN2;function pA(i){return i>>>=0,i===0?32:31-(Ii(i)/Mn|0)|0}var Sl=256,xl=262144,_l=4194304;function vr(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Tl(i,s,l){var c=i.pendingLanes;if(c===0)return 0;var p=0,m=i.suspendedLanes,w=i.pingedLanes;i=i.warmLanes;var _=c&134217727;return _!==0?(c=_&~m,c!==0?p=vr(c):(w&=_,w!==0?p=vr(w):l||(l=_&~i,l!==0&&(p=vr(l))))):(_=c&~m,_!==0?p=vr(_):w!==0?p=vr(w):l||(l=c&~i,l!==0&&(p=vr(l)))),p===0?0:s!==0&&s!==p&&(s&m)===0&&(m=p&-p,l=s&-s,m>=l||m===32&&(l&4194048)!==0)?s:p}function Ea(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function gA(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jm(){var i=_l;return _l<<=1,(_l&62914560)===0&&(_l=4194304),i}function Qc(i){for(var s=[],l=0;31>l;l++)s.push(i);return s}function Aa(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function mA(i,s,l,c,p,m){var w=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var _=i.entanglements,N=i.expirationTimes,U=i.hiddenUpdates;for(l=w&~l;0<l;){var G=31-Xe(l),J=1<<G;_[G]=0,N[G]=-1;var z=U[G];if(z!==null)for(U[G]=null,G=0;G<z.length;G++){var H=z[G];H!==null&&(H.lane&=-536870913)}l&=~J}c!==0&&Mm(i,c,0),m!==0&&p===0&&i.tag!==0&&(i.suspendedLanes|=m&~(w&~s))}function Mm(i,s,l){i.pendingLanes|=s,i.suspendedLanes&=~s;var c=31-Xe(s);i.entangledLanes|=s,i.entanglements[c]=i.entanglements[c]|1073741824|l&261930}function Lm(i,s){var l=i.entangledLanes|=s;for(i=i.entanglements;l;){var c=31-Xe(l),p=1<<c;p&s|i[c]&s&&(i[c]|=s),l&=~p}}function Im(i,s){var l=s&-s;return l=(l&42)!==0?1:Zc(l),(l&(i.suspendedLanes|s))!==0?0:l}function Zc(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function eh(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Pm(){var i=K.p;return i!==0?i:(i=window.event,i===void 0?32:xb(i.type))}function Bm(i,s){var l=K.p;try{return K.p=i,s()}finally{K.p=l}}var Pi=Math.random().toString(36).slice(2),kt="__reactFiber$"+Pi,Wt="__reactProps$"+Pi,ls="__reactContainer$"+Pi,th="__reactEvents$"+Pi,yA="__reactListeners$"+Pi,vA="__reactHandles$"+Pi,Um="__reactResources$"+Pi,ka="__reactMarker$"+Pi;function nh(i){delete i[kt],delete i[Wt],delete i[th],delete i[yA],delete i[vA]}function us(i){var s=i[kt];if(s)return s;for(var l=i.parentNode;l;){if(s=l[ls]||l[kt]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(i=ab(i);i!==null;){if(l=i[kt])return l;i=ab(i)}return s}i=l,l=i.parentNode}return null}function cs(i){if(i=i[kt]||i[ls]){var s=i.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return i}return null}function Ca(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function hs(i){var s=i[Um];return s||(s=i[Um]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Et(i){i[ka]=!0}var zm=new Set,Vm={};function br(i,s){ds(i,s),ds(i+"Capture",s)}function ds(i,s){for(Vm[i]=s,i=0;i<s.length;i++)zm.add(s[i])}var bA=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$m={},Hm={};function wA(i){return as.call(Hm,i)?!0:as.call($m,i)?!1:bA.test(i)?Hm[i]=!0:($m[i]=!0,!1)}function El(i,s,l){if(wA(s))if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+l)}}function Al(i,s,l){if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+l)}}function oi(i,s,l,c){if(c===null)i.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(s,l,""+c)}}function vn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Fm(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function SA(i,s,l){var c=Object.getOwnPropertyDescriptor(i.constructor.prototype,s);if(!i.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var p=c.get,m=c.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return p.call(this)},set:function(w){l=""+w,m.call(this,w)}}),Object.defineProperty(i,s,{enumerable:c.enumerable}),{getValue:function(){return l},setValue:function(w){l=""+w},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function ih(i){if(!i._valueTracker){var s=Fm(i)?"checked":"value";i._valueTracker=SA(i,s,""+i[s])}}function qm(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var l=s.getValue(),c="";return i&&(c=Fm(i)?i.checked?"true":"false":i.value),i=c,i!==l?(s.setValue(i),!0):!1}function kl(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var xA=/[\n"\\]/g;function bn(i){return i.replace(xA,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function rh(i,s,l,c,p,m,w,_){i.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?i.type=w:i.removeAttribute("type"),s!=null?w==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+vn(s)):i.value!==""+vn(s)&&(i.value=""+vn(s)):w!=="submit"&&w!=="reset"||i.removeAttribute("value"),s!=null?sh(i,w,vn(s)):l!=null?sh(i,w,vn(l)):c!=null&&i.removeAttribute("value"),p==null&&m!=null&&(i.defaultChecked=!!m),p!=null&&(i.checked=p&&typeof p!="function"&&typeof p!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?i.name=""+vn(_):i.removeAttribute("name")}function Km(i,s,l,c,p,m,w,_){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(i.type=m),s!=null||l!=null){if(!(m!=="submit"&&m!=="reset"||s!=null)){ih(i);return}l=l!=null?""+vn(l):"",s=s!=null?""+vn(s):l,_||s===i.value||(i.value=s),i.defaultValue=s}c=c??p,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=_?i.checked:!!c,i.defaultChecked=!!c,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(i.name=w),ih(i)}function sh(i,s,l){s==="number"&&kl(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function fs(i,s,l,c){if(i=i.options,s){s={};for(var p=0;p<l.length;p++)s["$"+l[p]]=!0;for(l=0;l<i.length;l++)p=s.hasOwnProperty("$"+i[l].value),i[l].selected!==p&&(i[l].selected=p),p&&c&&(i[l].defaultSelected=!0)}else{for(l=""+vn(l),s=null,p=0;p<i.length;p++){if(i[p].value===l){i[p].selected=!0,c&&(i[p].defaultSelected=!0);return}s!==null||i[p].disabled||(s=i[p])}s!==null&&(s.selected=!0)}}function Gm(i,s,l){if(s!=null&&(s=""+vn(s),s!==i.value&&(i.value=s),l==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=l!=null?""+vn(l):""}function Ym(i,s,l,c){if(s==null){if(c!=null){if(l!=null)throw Error(r(92));if(Q(c)){if(1<c.length)throw Error(r(93));c=c[0]}l=c}l==null&&(l=""),s=l}l=vn(s),i.defaultValue=l,c=i.textContent,c===l&&c!==""&&c!==null&&(i.value=c),ih(i)}function ps(i,s){if(s){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=s;return}}i.textContent=s}var _A=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Wm(i,s,l){var c=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":c?i.setProperty(s,l):typeof l!="number"||l===0||_A.has(s)?s==="float"?i.cssFloat=l:i[s]=(""+l).trim():i[s]=l+"px"}function Xm(i,s,l){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var p in s)c=s[p],s.hasOwnProperty(p)&&l[p]!==c&&Wm(i,p,c)}else for(var m in s)s.hasOwnProperty(m)&&Wm(i,m,s[m])}function ah(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var TA=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),EA=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Cl(i){return EA.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function li(){}var oh=null;function lh(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var gs=null,ms=null;function Jm(i){var s=cs(i);if(s&&(i=s.stateNode)){var l=i[Wt]||null;e:switch(i=s.stateNode,s.type){case"input":if(rh(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+bn(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var c=l[s];if(c!==i&&c.form===i.form){var p=c[Wt]||null;if(!p)throw Error(r(90));rh(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(s=0;s<l.length;s++)c=l[s],c.form===i.form&&qm(c)}break e;case"textarea":Gm(i,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&fs(i,!!l.multiple,s,!1)}}}var uh=!1;function Qm(i,s,l){if(uh)return i(s,l);uh=!0;try{var c=i(s);return c}finally{if(uh=!1,(gs!==null||ms!==null)&&(gu(),gs&&(s=gs,i=ms,ms=gs=null,Jm(s),i)))for(s=0;s<i.length;s++)Jm(i[s])}}function Oa(i,s){var l=i.stateNode;if(l===null)return null;var c=l[Wt]||null;if(c===null)return null;l=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,s,typeof l));return l}var ui=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ch=!1;if(ui)try{var Ra={};Object.defineProperty(Ra,"passive",{get:function(){ch=!0}}),window.addEventListener("test",Ra,Ra),window.removeEventListener("test",Ra,Ra)}catch{ch=!1}var Bi=null,hh=null,Ol=null;function Zm(){if(Ol)return Ol;var i,s=hh,l=s.length,c,p="value"in Bi?Bi.value:Bi.textContent,m=p.length;for(i=0;i<l&&s[i]===p[i];i++);var w=l-i;for(c=1;c<=w&&s[l-c]===p[m-c];c++);return Ol=p.slice(i,1<c?1-c:void 0)}function Rl(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function Dl(){return!0}function ey(){return!1}function Xt(i){function s(l,c,p,m,w){this._reactName=l,this._targetInst=p,this.type=c,this.nativeEvent=m,this.target=w,this.currentTarget=null;for(var _ in i)i.hasOwnProperty(_)&&(l=i[_],this[_]=l?l(m):m[_]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Dl:ey,this.isPropagationStopped=ey,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Dl)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Dl)},persist:function(){},isPersistent:Dl}),s}var wr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nl=Xt(wr),Da=y({},wr,{view:0,detail:0}),AA=Xt(Da),dh,fh,Na,jl=y({},Da,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gh,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Na&&(Na&&i.type==="mousemove"?(dh=i.screenX-Na.screenX,fh=i.screenY-Na.screenY):fh=dh=0,Na=i),dh)},movementY:function(i){return"movementY"in i?i.movementY:fh}}),ty=Xt(jl),kA=y({},jl,{dataTransfer:0}),CA=Xt(kA),OA=y({},Da,{relatedTarget:0}),ph=Xt(OA),RA=y({},wr,{animationName:0,elapsedTime:0,pseudoElement:0}),DA=Xt(RA),NA=y({},wr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),jA=Xt(NA),MA=y({},wr,{data:0}),ny=Xt(MA),LA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},IA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},PA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function BA(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=PA[i])?!!s[i]:!1}function gh(){return BA}var UA=y({},Da,{key:function(i){if(i.key){var s=LA[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Rl(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?IA[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gh,charCode:function(i){return i.type==="keypress"?Rl(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Rl(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),zA=Xt(UA),VA=y({},jl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),iy=Xt(VA),$A=y({},Da,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gh}),HA=Xt($A),FA=y({},wr,{propertyName:0,elapsedTime:0,pseudoElement:0}),qA=Xt(FA),KA=y({},jl,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),GA=Xt(KA),YA=y({},wr,{newState:0,oldState:0}),WA=Xt(YA),XA=[9,13,27,32],mh=ui&&"CompositionEvent"in window,ja=null;ui&&"documentMode"in document&&(ja=document.documentMode);var JA=ui&&"TextEvent"in window&&!ja,ry=ui&&(!mh||ja&&8<ja&&11>=ja),sy=" ",ay=!1;function oy(i,s){switch(i){case"keyup":return XA.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ly(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ys=!1;function QA(i,s){switch(i){case"compositionend":return ly(s);case"keypress":return s.which!==32?null:(ay=!0,sy);case"textInput":return i=s.data,i===sy&&ay?null:i;default:return null}}function ZA(i,s){if(ys)return i==="compositionend"||!mh&&oy(i,s)?(i=Zm(),Ol=hh=Bi=null,ys=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return ry&&s.locale!=="ko"?null:s.data;default:return null}}var ek={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function uy(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!ek[i.type]:s==="textarea"}function cy(i,s,l,c){gs?ms?ms.push(c):ms=[c]:gs=c,s=xu(s,"onChange"),0<s.length&&(l=new Nl("onChange","change",null,l,c),i.push({event:l,listeners:s}))}var Ma=null,La=null;function tk(i){K0(i,0)}function Ml(i){var s=Ca(i);if(qm(s))return i}function hy(i,s){if(i==="change")return s}var dy=!1;if(ui){var yh;if(ui){var vh="oninput"in document;if(!vh){var fy=document.createElement("div");fy.setAttribute("oninput","return;"),vh=typeof fy.oninput=="function"}yh=vh}else yh=!1;dy=yh&&(!document.documentMode||9<document.documentMode)}function py(){Ma&&(Ma.detachEvent("onpropertychange",gy),La=Ma=null)}function gy(i){if(i.propertyName==="value"&&Ml(La)){var s=[];cy(s,La,i,lh(i)),Qm(tk,s)}}function nk(i,s,l){i==="focusin"?(py(),Ma=s,La=l,Ma.attachEvent("onpropertychange",gy)):i==="focusout"&&py()}function ik(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Ml(La)}function rk(i,s){if(i==="click")return Ml(s)}function sk(i,s){if(i==="input"||i==="change")return Ml(s)}function ak(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var on=typeof Object.is=="function"?Object.is:ak;function Ia(i,s){if(on(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var l=Object.keys(i),c=Object.keys(s);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var p=l[c];if(!as.call(s,p)||!on(i[p],s[p]))return!1}return!0}function my(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function yy(i,s){var l=my(i);i=0;for(var c;l;){if(l.nodeType===3){if(c=i+l.textContent.length,i<=s&&c>=s)return{node:l,offset:s-i};i=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=my(l)}}function vy(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?vy(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function by(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=kl(i.document);s instanceof i.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)i=s.contentWindow;else break;s=kl(i.document)}return s}function bh(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var ok=ui&&"documentMode"in document&&11>=document.documentMode,vs=null,wh=null,Pa=null,Sh=!1;function wy(i,s,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Sh||vs==null||vs!==kl(c)||(c=vs,"selectionStart"in c&&bh(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Pa&&Ia(Pa,c)||(Pa=c,c=xu(wh,"onSelect"),0<c.length&&(s=new Nl("onSelect","select",null,s,l),i.push({event:s,listeners:c}),s.target=vs)))}function Sr(i,s){var l={};return l[i.toLowerCase()]=s.toLowerCase(),l["Webkit"+i]="webkit"+s,l["Moz"+i]="moz"+s,l}var bs={animationend:Sr("Animation","AnimationEnd"),animationiteration:Sr("Animation","AnimationIteration"),animationstart:Sr("Animation","AnimationStart"),transitionrun:Sr("Transition","TransitionRun"),transitionstart:Sr("Transition","TransitionStart"),transitioncancel:Sr("Transition","TransitionCancel"),transitionend:Sr("Transition","TransitionEnd")},xh={},Sy={};ui&&(Sy=document.createElement("div").style,"AnimationEvent"in window||(delete bs.animationend.animation,delete bs.animationiteration.animation,delete bs.animationstart.animation),"TransitionEvent"in window||delete bs.transitionend.transition);function xr(i){if(xh[i])return xh[i];if(!bs[i])return i;var s=bs[i],l;for(l in s)if(s.hasOwnProperty(l)&&l in Sy)return xh[i]=s[l];return i}var xy=xr("animationend"),_y=xr("animationiteration"),Ty=xr("animationstart"),lk=xr("transitionrun"),uk=xr("transitionstart"),ck=xr("transitioncancel"),Ey=xr("transitionend"),Ay=new Map,_h="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");_h.push("scrollEnd");function Ln(i,s){Ay.set(i,s),br(s,[i])}var Ll=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},wn=[],ws=0,Th=0;function Il(){for(var i=ws,s=Th=ws=0;s<i;){var l=wn[s];wn[s++]=null;var c=wn[s];wn[s++]=null;var p=wn[s];wn[s++]=null;var m=wn[s];if(wn[s++]=null,c!==null&&p!==null){var w=c.pending;w===null?p.next=p:(p.next=w.next,w.next=p),c.pending=p}m!==0&&ky(l,p,m)}}function Pl(i,s,l,c){wn[ws++]=i,wn[ws++]=s,wn[ws++]=l,wn[ws++]=c,Th|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function Eh(i,s,l,c){return Pl(i,s,l,c),Bl(i)}function _r(i,s){return Pl(i,null,null,s),Bl(i)}function ky(i,s,l){i.lanes|=l;var c=i.alternate;c!==null&&(c.lanes|=l);for(var p=!1,m=i.return;m!==null;)m.childLanes|=l,c=m.alternate,c!==null&&(c.childLanes|=l),m.tag===22&&(i=m.stateNode,i===null||i._visibility&1||(p=!0)),i=m,m=m.return;return i.tag===3?(m=i.stateNode,p&&s!==null&&(p=31-Xe(l),i=m.hiddenUpdates,c=i[p],c===null?i[p]=[s]:c.push(s),s.lane=l|536870912),m):null}function Bl(i){if(50<so)throw so=0,Md=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var Ss={};function hk(i,s,l,c){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ln(i,s,l,c){return new hk(i,s,l,c)}function Ah(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ci(i,s){var l=i.alternate;return l===null?(l=ln(i.tag,s,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=s,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,s=i.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function Cy(i,s){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,s=l.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function Ul(i,s,l,c,p,m){var w=0;if(c=i,typeof i=="function")Ah(i)&&(w=1);else if(typeof i=="string")w=mC(i,l,Z.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case ee:return i=ln(31,l,s,p),i.elementType=ee,i.lanes=m,i;case E:return Tr(l.children,p,m,s);case T:w=8,p|=24;break;case A:return i=ln(12,l,s,p|2),i.elementType=A,i.lanes=m,i;case $:return i=ln(13,l,s,p),i.elementType=$,i.lanes=m,i;case M:return i=ln(19,l,s,p),i.elementType=M,i.lanes=m,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case C:w=10;break e;case R:w=9;break e;case D:w=11;break e;case F:w=14;break e;case Y:w=16,c=null;break e}w=29,l=Error(r(130,i===null?"null":typeof i,"")),c=null}return s=ln(w,l,s,p),s.elementType=i,s.type=c,s.lanes=m,s}function Tr(i,s,l,c){return i=ln(7,i,c,s),i.lanes=l,i}function kh(i,s,l){return i=ln(6,i,null,s),i.lanes=l,i}function Oy(i){var s=ln(18,null,null,0);return s.stateNode=i,s}function Ch(i,s,l){return s=ln(4,i.children!==null?i.children:[],i.key,s),s.lanes=l,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var Ry=new WeakMap;function Sn(i,s){if(typeof i=="object"&&i!==null){var l=Ry.get(i);return l!==void 0?l:(s={value:i,source:s,stack:wl(s)},Ry.set(i,s),s)}return{value:i,source:s,stack:wl(s)}}var xs=[],_s=0,zl=null,Ba=0,xn=[],_n=0,Ui=null,qn=1,Kn="";function hi(i,s){xs[_s++]=Ba,xs[_s++]=zl,zl=i,Ba=s}function Dy(i,s,l){xn[_n++]=qn,xn[_n++]=Kn,xn[_n++]=Ui,Ui=i;var c=qn;i=Kn;var p=32-Xe(c)-1;c&=~(1<<p),l+=1;var m=32-Xe(s)+p;if(30<m){var w=p-p%5;m=(c&(1<<w)-1).toString(32),c>>=w,p-=w,qn=1<<32-Xe(s)+p|l<<p|c,Kn=m+i}else qn=1<<m|l<<p|c,Kn=i}function Oh(i){i.return!==null&&(hi(i,1),Dy(i,1,0))}function Rh(i){for(;i===zl;)zl=xs[--_s],xs[_s]=null,Ba=xs[--_s],xs[_s]=null;for(;i===Ui;)Ui=xn[--_n],xn[_n]=null,Kn=xn[--_n],xn[_n]=null,qn=xn[--_n],xn[_n]=null}function Ny(i,s){xn[_n++]=qn,xn[_n++]=Kn,xn[_n++]=Ui,qn=s.id,Kn=s.overflow,Ui=i}var Ct=null,nt=null,Ie=!1,zi=null,Tn=!1,Dh=Error(r(519));function Vi(i){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ua(Sn(s,i)),Dh}function jy(i){var s=i.stateNode,l=i.type,c=i.memoizedProps;switch(s[kt]=i,s[Wt]=c,l){case"dialog":je("cancel",s),je("close",s);break;case"iframe":case"object":case"embed":je("load",s);break;case"video":case"audio":for(l=0;l<oo.length;l++)je(oo[l],s);break;case"source":je("error",s);break;case"img":case"image":case"link":je("error",s),je("load",s);break;case"details":je("toggle",s);break;case"input":je("invalid",s),Km(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":je("invalid",s);break;case"textarea":je("invalid",s),Ym(s,c.value,c.defaultValue,c.children)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||c.suppressHydrationWarning===!0||X0(s.textContent,l)?(c.popover!=null&&(je("beforetoggle",s),je("toggle",s)),c.onScroll!=null&&je("scroll",s),c.onScrollEnd!=null&&je("scrollend",s),c.onClick!=null&&(s.onclick=li),s=!0):s=!1,s||Vi(i,!0)}function My(i){for(Ct=i.return;Ct;)switch(Ct.tag){case 5:case 31:case 13:Tn=!1;return;case 27:case 3:Tn=!0;return;default:Ct=Ct.return}}function Ts(i){if(i!==Ct)return!1;if(!Ie)return My(i),Ie=!0,!1;var s=i.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||Wd(i.type,i.memoizedProps)),l=!l),l&&nt&&Vi(i),My(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));nt=sb(i)}else if(s===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));nt=sb(i)}else s===27?(s=nt,tr(i.type)?(i=ef,ef=null,nt=i):nt=s):nt=Ct?An(i.stateNode.nextSibling):null;return!0}function Er(){nt=Ct=null,Ie=!1}function Nh(){var i=zi;return i!==null&&(en===null?en=i:en.push.apply(en,i),zi=null),i}function Ua(i){zi===null?zi=[i]:zi.push(i)}var jh=j(null),Ar=null,di=null;function $i(i,s,l){k(jh,s._currentValue),s._currentValue=l}function fi(i){i._currentValue=jh.current,q(jh)}function Mh(i,s,l){for(;i!==null;){var c=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),i===l)break;i=i.return}}function Lh(i,s,l,c){var p=i.child;for(p!==null&&(p.return=i);p!==null;){var m=p.dependencies;if(m!==null){var w=p.child;m=m.firstContext;e:for(;m!==null;){var _=m;m=p;for(var N=0;N<s.length;N++)if(_.context===s[N]){m.lanes|=l,_=m.alternate,_!==null&&(_.lanes|=l),Mh(m.return,l,i),c||(w=null);break e}m=_.next}}else if(p.tag===18){if(w=p.return,w===null)throw Error(r(341));w.lanes|=l,m=w.alternate,m!==null&&(m.lanes|=l),Mh(w,l,i),w=null}else w=p.child;if(w!==null)w.return=p;else for(w=p;w!==null;){if(w===i){w=null;break}if(p=w.sibling,p!==null){p.return=w.return,w=p;break}w=w.return}p=w}}function Es(i,s,l,c){i=null;for(var p=s,m=!1;p!==null;){if(!m){if((p.flags&524288)!==0)m=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var w=p.alternate;if(w===null)throw Error(r(387));if(w=w.memoizedProps,w!==null){var _=p.type;on(p.pendingProps.value,w.value)||(i!==null?i.push(_):i=[_])}}else if(p===Re.current){if(w=p.alternate,w===null)throw Error(r(387));w.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(i!==null?i.push(fo):i=[fo])}p=p.return}i!==null&&Lh(s,i,l,c),s.flags|=262144}function Vl(i){for(i=i.firstContext;i!==null;){if(!on(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function kr(i){Ar=i,di=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Ot(i){return Ly(Ar,i)}function $l(i,s){return Ar===null&&kr(i),Ly(i,s)}function Ly(i,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},di===null){if(i===null)throw Error(r(308));di=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else di=di.next=s;return l}var dk=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(l,c){i.push(c)}};this.abort=function(){s.aborted=!0,i.forEach(function(l){return l()})}},fk=t.unstable_scheduleCallback,pk=t.unstable_NormalPriority,pt={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ih(){return{controller:new dk,data:new Map,refCount:0}}function za(i){i.refCount--,i.refCount===0&&fk(pk,function(){i.controller.abort()})}var Va=null,Ph=0,As=0,ks=null;function gk(i,s){if(Va===null){var l=Va=[];Ph=0,As=zd(),ks={status:"pending",value:void 0,then:function(c){l.push(c)}}}return Ph++,s.then(Iy,Iy),s}function Iy(){if(--Ph===0&&Va!==null){ks!==null&&(ks.status="fulfilled");var i=Va;Va=null,As=0,ks=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function mk(i,s){var l=[],c={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return i.then(function(){c.status="fulfilled",c.value=s;for(var p=0;p<l.length;p++)(0,l[p])(s)},function(p){for(c.status="rejected",c.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),c}var Py=P.S;P.S=function(i,s){w0=zt(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&gk(i,s),Py!==null&&Py(i,s)};var Cr=j(null);function Bh(){var i=Cr.current;return i!==null?i:Je.pooledCache}function Hl(i,s){s===null?k(Cr,Cr.current):k(Cr,s.pool)}function By(){var i=Bh();return i===null?null:{parent:pt._currentValue,pool:i}}var Cs=Error(r(460)),Uh=Error(r(474)),Fl=Error(r(542)),ql={then:function(){}};function Uy(i){return i=i.status,i==="fulfilled"||i==="rejected"}function zy(i,s,l){switch(l=i[l],l===void 0?i.push(s):l!==s&&(s.then(li,li),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,$y(i),i;default:if(typeof s.status=="string")s.then(li,li);else{if(i=Je,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(c){if(s.status==="pending"){var p=s;p.status="fulfilled",p.value=c}},function(c){if(s.status==="pending"){var p=s;p.status="rejected",p.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,$y(i),i}throw Rr=s,Cs}}function Or(i){try{var s=i._init;return s(i._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Rr=l,Cs):l}}var Rr=null;function Vy(){if(Rr===null)throw Error(r(459));var i=Rr;return Rr=null,i}function $y(i){if(i===Cs||i===Fl)throw Error(r(483))}var Os=null,$a=0;function Kl(i){var s=$a;return $a+=1,Os===null&&(Os=[]),zy(Os,i,s)}function Ha(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function Gl(i,s){throw s.$$typeof===v?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function Hy(i){function s(I,L){if(i){var B=I.deletions;B===null?(I.deletions=[L],I.flags|=16):B.push(L)}}function l(I,L){if(!i)return null;for(;L!==null;)s(I,L),L=L.sibling;return null}function c(I){for(var L=new Map;I!==null;)I.key!==null?L.set(I.key,I):L.set(I.index,I),I=I.sibling;return L}function p(I,L){return I=ci(I,L),I.index=0,I.sibling=null,I}function m(I,L,B){return I.index=B,i?(B=I.alternate,B!==null?(B=B.index,B<L?(I.flags|=67108866,L):B):(I.flags|=67108866,L)):(I.flags|=1048576,L)}function w(I){return i&&I.alternate===null&&(I.flags|=67108866),I}function _(I,L,B,X){return L===null||L.tag!==6?(L=kh(B,I.mode,X),L.return=I,L):(L=p(L,B),L.return=I,L)}function N(I,L,B,X){var me=B.type;return me===E?G(I,L,B.props.children,X,B.key):L!==null&&(L.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===Y&&Or(me)===L.type)?(L=p(L,B.props),Ha(L,B),L.return=I,L):(L=Ul(B.type,B.key,B.props,null,I.mode,X),Ha(L,B),L.return=I,L)}function U(I,L,B,X){return L===null||L.tag!==4||L.stateNode.containerInfo!==B.containerInfo||L.stateNode.implementation!==B.implementation?(L=Ch(B,I.mode,X),L.return=I,L):(L=p(L,B.children||[]),L.return=I,L)}function G(I,L,B,X,me){return L===null||L.tag!==7?(L=Tr(B,I.mode,X,me),L.return=I,L):(L=p(L,B),L.return=I,L)}function J(I,L,B){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=kh(""+L,I.mode,B),L.return=I,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case b:return B=Ul(L.type,L.key,L.props,null,I.mode,B),Ha(B,L),B.return=I,B;case x:return L=Ch(L,I.mode,B),L.return=I,L;case Y:return L=Or(L),J(I,L,B)}if(Q(L)||ie(L))return L=Tr(L,I.mode,B,null),L.return=I,L;if(typeof L.then=="function")return J(I,Kl(L),B);if(L.$$typeof===C)return J(I,$l(I,L),B);Gl(I,L)}return null}function z(I,L,B,X){var me=L!==null?L.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return me!==null?null:_(I,L,""+B,X);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case b:return B.key===me?N(I,L,B,X):null;case x:return B.key===me?U(I,L,B,X):null;case Y:return B=Or(B),z(I,L,B,X)}if(Q(B)||ie(B))return me!==null?null:G(I,L,B,X,null);if(typeof B.then=="function")return z(I,L,Kl(B),X);if(B.$$typeof===C)return z(I,L,$l(I,B),X);Gl(I,B)}return null}function H(I,L,B,X,me){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return I=I.get(B)||null,_(L,I,""+X,me);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case b:return I=I.get(X.key===null?B:X.key)||null,N(L,I,X,me);case x:return I=I.get(X.key===null?B:X.key)||null,U(L,I,X,me);case Y:return X=Or(X),H(I,L,B,X,me)}if(Q(X)||ie(X))return I=I.get(B)||null,G(L,I,X,me,null);if(typeof X.then=="function")return H(I,L,B,Kl(X),me);if(X.$$typeof===C)return H(I,L,B,$l(L,X),me);Gl(L,X)}return null}function le(I,L,B,X){for(var me=null,Be=null,ce=L,Ae=L=0,Le=null;ce!==null&&Ae<B.length;Ae++){ce.index>Ae?(Le=ce,ce=null):Le=ce.sibling;var Ue=z(I,ce,B[Ae],X);if(Ue===null){ce===null&&(ce=Le);break}i&&ce&&Ue.alternate===null&&s(I,ce),L=m(Ue,L,Ae),Be===null?me=Ue:Be.sibling=Ue,Be=Ue,ce=Le}if(Ae===B.length)return l(I,ce),Ie&&hi(I,Ae),me;if(ce===null){for(;Ae<B.length;Ae++)ce=J(I,B[Ae],X),ce!==null&&(L=m(ce,L,Ae),Be===null?me=ce:Be.sibling=ce,Be=ce);return Ie&&hi(I,Ae),me}for(ce=c(ce);Ae<B.length;Ae++)Le=H(ce,I,Ae,B[Ae],X),Le!==null&&(i&&Le.alternate!==null&&ce.delete(Le.key===null?Ae:Le.key),L=m(Le,L,Ae),Be===null?me=Le:Be.sibling=Le,Be=Le);return i&&ce.forEach(function(ar){return s(I,ar)}),Ie&&hi(I,Ae),me}function ye(I,L,B,X){if(B==null)throw Error(r(151));for(var me=null,Be=null,ce=L,Ae=L=0,Le=null,Ue=B.next();ce!==null&&!Ue.done;Ae++,Ue=B.next()){ce.index>Ae?(Le=ce,ce=null):Le=ce.sibling;var ar=z(I,ce,Ue.value,X);if(ar===null){ce===null&&(ce=Le);break}i&&ce&&ar.alternate===null&&s(I,ce),L=m(ar,L,Ae),Be===null?me=ar:Be.sibling=ar,Be=ar,ce=Le}if(Ue.done)return l(I,ce),Ie&&hi(I,Ae),me;if(ce===null){for(;!Ue.done;Ae++,Ue=B.next())Ue=J(I,Ue.value,X),Ue!==null&&(L=m(Ue,L,Ae),Be===null?me=Ue:Be.sibling=Ue,Be=Ue);return Ie&&hi(I,Ae),me}for(ce=c(ce);!Ue.done;Ae++,Ue=B.next())Ue=H(ce,I,Ae,Ue.value,X),Ue!==null&&(i&&Ue.alternate!==null&&ce.delete(Ue.key===null?Ae:Ue.key),L=m(Ue,L,Ae),Be===null?me=Ue:Be.sibling=Ue,Be=Ue);return i&&ce.forEach(function(kC){return s(I,kC)}),Ie&&hi(I,Ae),me}function Ye(I,L,B,X){if(typeof B=="object"&&B!==null&&B.type===E&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case b:e:{for(var me=B.key;L!==null;){if(L.key===me){if(me=B.type,me===E){if(L.tag===7){l(I,L.sibling),X=p(L,B.props.children),X.return=I,I=X;break e}}else if(L.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===Y&&Or(me)===L.type){l(I,L.sibling),X=p(L,B.props),Ha(X,B),X.return=I,I=X;break e}l(I,L);break}else s(I,L);L=L.sibling}B.type===E?(X=Tr(B.props.children,I.mode,X,B.key),X.return=I,I=X):(X=Ul(B.type,B.key,B.props,null,I.mode,X),Ha(X,B),X.return=I,I=X)}return w(I);case x:e:{for(me=B.key;L!==null;){if(L.key===me)if(L.tag===4&&L.stateNode.containerInfo===B.containerInfo&&L.stateNode.implementation===B.implementation){l(I,L.sibling),X=p(L,B.children||[]),X.return=I,I=X;break e}else{l(I,L);break}else s(I,L);L=L.sibling}X=Ch(B,I.mode,X),X.return=I,I=X}return w(I);case Y:return B=Or(B),Ye(I,L,B,X)}if(Q(B))return le(I,L,B,X);if(ie(B)){if(me=ie(B),typeof me!="function")throw Error(r(150));return B=me.call(B),ye(I,L,B,X)}if(typeof B.then=="function")return Ye(I,L,Kl(B),X);if(B.$$typeof===C)return Ye(I,L,$l(I,B),X);Gl(I,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,L!==null&&L.tag===6?(l(I,L.sibling),X=p(L,B),X.return=I,I=X):(l(I,L),X=kh(B,I.mode,X),X.return=I,I=X),w(I)):l(I,L)}return function(I,L,B,X){try{$a=0;var me=Ye(I,L,B,X);return Os=null,me}catch(ce){if(ce===Cs||ce===Fl)throw ce;var Be=ln(29,ce,null,I.mode);return Be.lanes=X,Be.return=I,Be}}}var Dr=Hy(!0),Fy=Hy(!1),Hi=!1;function zh(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Vh(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Fi(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function qi(i,s,l){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(Ve&2)!==0){var p=c.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),c.pending=s,s=Bl(i),ky(i,null,l),s}return Pl(i,c,s,l),Bl(i)}function Fa(i,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var c=s.lanes;c&=i.pendingLanes,l|=c,s.lanes=l,Lm(i,l)}}function $h(i,s){var l=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var p=null,m=null;if(l=l.firstBaseUpdate,l!==null){do{var w={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};m===null?p=m=w:m=m.next=w,l=l.next}while(l!==null);m===null?p=m=s:m=m.next=s}else p=m=s;l={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:m,shared:c.shared,callbacks:c.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=s:i.next=s,l.lastBaseUpdate=s}var Hh=!1;function qa(){if(Hh){var i=ks;if(i!==null)throw i}}function Ka(i,s,l,c){Hh=!1;var p=i.updateQueue;Hi=!1;var m=p.firstBaseUpdate,w=p.lastBaseUpdate,_=p.shared.pending;if(_!==null){p.shared.pending=null;var N=_,U=N.next;N.next=null,w===null?m=U:w.next=U,w=N;var G=i.alternate;G!==null&&(G=G.updateQueue,_=G.lastBaseUpdate,_!==w&&(_===null?G.firstBaseUpdate=U:_.next=U,G.lastBaseUpdate=N))}if(m!==null){var J=p.baseState;w=0,G=U=N=null,_=m;do{var z=_.lane&-536870913,H=z!==_.lane;if(H?(Me&z)===z:(c&z)===z){z!==0&&z===As&&(Hh=!0),G!==null&&(G=G.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var le=i,ye=_;z=s;var Ye=l;switch(ye.tag){case 1:if(le=ye.payload,typeof le=="function"){J=le.call(Ye,J,z);break e}J=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=ye.payload,z=typeof le=="function"?le.call(Ye,J,z):le,z==null)break e;J=y({},J,z);break e;case 2:Hi=!0}}z=_.callback,z!==null&&(i.flags|=64,H&&(i.flags|=8192),H=p.callbacks,H===null?p.callbacks=[z]:H.push(z))}else H={lane:z,tag:_.tag,payload:_.payload,callback:_.callback,next:null},G===null?(U=G=H,N=J):G=G.next=H,w|=z;if(_=_.next,_===null){if(_=p.shared.pending,_===null)break;H=_,_=H.next,H.next=null,p.lastBaseUpdate=H,p.shared.pending=null}}while(!0);G===null&&(N=J),p.baseState=N,p.firstBaseUpdate=U,p.lastBaseUpdate=G,m===null&&(p.shared.lanes=0),Xi|=w,i.lanes=w,i.memoizedState=J}}function qy(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function Ky(i,s){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)qy(l[i],s)}var Rs=j(null),Yl=j(0);function Gy(i,s){i=xi,k(Yl,i),k(Rs,s),xi=i|s.baseLanes}function Fh(){k(Yl,xi),k(Rs,Rs.current)}function qh(){xi=Yl.current,q(Rs),q(Yl)}var un=j(null),En=null;function Ki(i){var s=i.alternate;k(ht,ht.current&1),k(un,i),En===null&&(s===null||Rs.current!==null||s.memoizedState!==null)&&(En=i)}function Kh(i){k(ht,ht.current),k(un,i),En===null&&(En=i)}function Yy(i){i.tag===22?(k(ht,ht.current),k(un,i),En===null&&(En=i)):Gi()}function Gi(){k(ht,ht.current),k(un,un.current)}function cn(i){q(un),En===i&&(En=null),q(ht)}var ht=j(0);function Wl(i){for(var s=i;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Qd(l)||Zd(l)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var pi=0,Te=null,Ke=null,gt=null,Xl=!1,Ds=!1,Nr=!1,Jl=0,Ga=0,Ns=null,yk=0;function ot(){throw Error(r(321))}function Gh(i,s){if(s===null)return!1;for(var l=0;l<s.length&&l<i.length;l++)if(!on(i[l],s[l]))return!1;return!0}function Yh(i,s,l,c,p,m){return pi=m,Te=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,P.H=i===null||i.memoizedState===null?Dv:ud,Nr=!1,m=l(c,p),Nr=!1,Ds&&(m=Xy(s,l,c,p)),Wy(i),m}function Wy(i){P.H=Xa;var s=Ke!==null&&Ke.next!==null;if(pi=0,gt=Ke=Te=null,Xl=!1,Ga=0,Ns=null,s)throw Error(r(300));i===null||mt||(i=i.dependencies,i!==null&&Vl(i)&&(mt=!0))}function Xy(i,s,l,c){Te=i;var p=0;do{if(Ds&&(Ns=null),Ga=0,Ds=!1,25<=p)throw Error(r(301));if(p+=1,gt=Ke=null,i.updateQueue!=null){var m=i.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}P.H=Nv,m=s(l,c)}while(Ds);return m}function vk(){var i=P.H,s=i.useState()[0];return s=typeof s.then=="function"?Ya(s):s,i=i.useState()[0],(Ke!==null?Ke.memoizedState:null)!==i&&(Te.flags|=1024),s}function Wh(){var i=Jl!==0;return Jl=0,i}function Xh(i,s,l){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~l}function Jh(i){if(Xl){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Xl=!1}pi=0,gt=Ke=Te=null,Ds=!1,Ga=Jl=0,Ns=null}function $t(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gt===null?Te.memoizedState=gt=i:gt=gt.next=i,gt}function dt(){if(Ke===null){var i=Te.alternate;i=i!==null?i.memoizedState:null}else i=Ke.next;var s=gt===null?Te.memoizedState:gt.next;if(s!==null)gt=s,Ke=i;else{if(i===null)throw Te.alternate===null?Error(r(467)):Error(r(310));Ke=i,i={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},gt===null?Te.memoizedState=gt=i:gt=gt.next=i}return gt}function Ql(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ya(i){var s=Ga;return Ga+=1,Ns===null&&(Ns=[]),i=zy(Ns,i,s),s=Te,(gt===null?s.memoizedState:gt.next)===null&&(s=s.alternate,P.H=s===null||s.memoizedState===null?Dv:ud),i}function Zl(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Ya(i);if(i.$$typeof===C)return Ot(i)}throw Error(r(438,String(i)))}function Qh(i){var s=null,l=Te.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var c=Te.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(p){return p.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=Ql(),Te.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(i),c=0;c<i;c++)l[c]=oe;return s.index++,l}function gi(i,s){return typeof s=="function"?s(i):s}function eu(i){var s=dt();return Zh(s,Ke,i)}function Zh(i,s,l){var c=i.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=l;var p=i.baseQueue,m=c.pending;if(m!==null){if(p!==null){var w=p.next;p.next=m.next,m.next=w}s.baseQueue=p=m,c.pending=null}if(m=i.baseState,p===null)i.memoizedState=m;else{s=p.next;var _=w=null,N=null,U=s,G=!1;do{var J=U.lane&-536870913;if(J!==U.lane?(Me&J)===J:(pi&J)===J){var z=U.revertLane;if(z===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),J===As&&(G=!0);else if((pi&z)===z){U=U.next,z===As&&(G=!0);continue}else J={lane:0,revertLane:U.revertLane,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},N===null?(_=N=J,w=m):N=N.next=J,Te.lanes|=z,Xi|=z;J=U.action,Nr&&l(m,J),m=U.hasEagerState?U.eagerState:l(m,J)}else z={lane:J,revertLane:U.revertLane,gesture:U.gesture,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},N===null?(_=N=z,w=m):N=N.next=z,Te.lanes|=J,Xi|=J;U=U.next}while(U!==null&&U!==s);if(N===null?w=m:N.next=_,!on(m,i.memoizedState)&&(mt=!0,G&&(l=ks,l!==null)))throw l;i.memoizedState=m,i.baseState=w,i.baseQueue=N,c.lastRenderedState=m}return p===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function ed(i){var s=dt(),l=s.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var c=l.dispatch,p=l.pending,m=s.memoizedState;if(p!==null){l.pending=null;var w=p=p.next;do m=i(m,w.action),w=w.next;while(w!==p);on(m,s.memoizedState)||(mt=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),l.lastRenderedState=m}return[m,c]}function Jy(i,s,l){var c=Te,p=dt(),m=Ie;if(m){if(l===void 0)throw Error(r(407));l=l()}else l=s();var w=!on((Ke||p).memoizedState,l);if(w&&(p.memoizedState=l,mt=!0),p=p.queue,id(ev.bind(null,c,p,i),[i]),p.getSnapshot!==s||w||gt!==null&&gt.memoizedState.tag&1){if(c.flags|=2048,js(9,{destroy:void 0},Zy.bind(null,c,p,l,s),null),Je===null)throw Error(r(349));m||(pi&127)!==0||Qy(c,s,l)}return l}function Qy(i,s,l){i.flags|=16384,i={getSnapshot:s,value:l},s=Te.updateQueue,s===null?(s=Ql(),Te.updateQueue=s,s.stores=[i]):(l=s.stores,l===null?s.stores=[i]:l.push(i))}function Zy(i,s,l,c){s.value=l,s.getSnapshot=c,tv(s)&&nv(i)}function ev(i,s,l){return l(function(){tv(s)&&nv(i)})}function tv(i){var s=i.getSnapshot;i=i.value;try{var l=s();return!on(i,l)}catch{return!0}}function nv(i){var s=_r(i,2);s!==null&&tn(s,i,2)}function td(i){var s=$t();if(typeof i=="function"){var l=i;if(i=l(),Nr){Yt(!0);try{l()}finally{Yt(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:i},s}function iv(i,s,l,c){return i.baseState=l,Zh(i,Ke,typeof c=="function"?c:gi)}function bk(i,s,l,c,p){if(iu(i))throw Error(r(485));if(i=s.action,i!==null){var m={payload:p,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){m.listeners.push(w)}};P.T!==null?l(!0):m.isTransition=!1,c(m),l=s.pending,l===null?(m.next=s.pending=m,rv(s,m)):(m.next=l.next,s.pending=l.next=m)}}function rv(i,s){var l=s.action,c=s.payload,p=i.state;if(s.isTransition){var m=P.T,w={};P.T=w;try{var _=l(p,c),N=P.S;N!==null&&N(w,_),sv(i,s,_)}catch(U){nd(i,s,U)}finally{m!==null&&w.types!==null&&(m.types=w.types),P.T=m}}else try{m=l(p,c),sv(i,s,m)}catch(U){nd(i,s,U)}}function sv(i,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){av(i,s,c)},function(c){return nd(i,s,c)}):av(i,s,l)}function av(i,s,l){s.status="fulfilled",s.value=l,ov(s),i.state=l,s=i.pending,s!==null&&(l=s.next,l===s?i.pending=null:(l=l.next,s.next=l,rv(i,l)))}function nd(i,s,l){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=l,ov(s),s=s.next;while(s!==c)}i.action=null}function ov(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function lv(i,s){return s}function uv(i,s){if(Ie){var l=Je.formState;if(l!==null){e:{var c=Te;if(Ie){if(nt){t:{for(var p=nt,m=Tn;p.nodeType!==8;){if(!m){p=null;break t}if(p=An(p.nextSibling),p===null){p=null;break t}}m=p.data,p=m==="F!"||m==="F"?p:null}if(p){nt=An(p.nextSibling),c=p.data==="F!";break e}}Vi(c)}c=!1}c&&(s=l[0])}}return l=$t(),l.memoizedState=l.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lv,lastRenderedState:s},l.queue=c,l=Cv.bind(null,Te,c),c.dispatch=l,c=td(!1),m=ld.bind(null,Te,!1,c.queue),c=$t(),p={state:s,dispatch:null,action:i,pending:null},c.queue=p,l=bk.bind(null,Te,p,m,l),p.dispatch=l,c.memoizedState=i,[s,l,!1]}function cv(i){var s=dt();return hv(s,Ke,i)}function hv(i,s,l){if(s=Zh(i,s,lv)[0],i=eu(gi)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=Ya(s)}catch(w){throw w===Cs?Fl:w}else c=s;s=dt();var p=s.queue,m=p.dispatch;return l!==s.memoizedState&&(Te.flags|=2048,js(9,{destroy:void 0},wk.bind(null,p,l),null)),[c,m,i]}function wk(i,s){i.action=s}function dv(i){var s=dt(),l=Ke;if(l!==null)return hv(s,l,i);dt(),s=s.memoizedState,l=dt();var c=l.queue.dispatch;return l.memoizedState=i,[s,c,!1]}function js(i,s,l,c){return i={tag:i,create:l,deps:c,inst:s,next:null},s=Te.updateQueue,s===null&&(s=Ql(),Te.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=i.next=i:(c=l.next,l.next=i,i.next=c,s.lastEffect=i),i}function fv(){return dt().memoizedState}function tu(i,s,l,c){var p=$t();Te.flags|=i,p.memoizedState=js(1|s,{destroy:void 0},l,c===void 0?null:c)}function nu(i,s,l,c){var p=dt();c=c===void 0?null:c;var m=p.memoizedState.inst;Ke!==null&&c!==null&&Gh(c,Ke.memoizedState.deps)?p.memoizedState=js(s,m,l,c):(Te.flags|=i,p.memoizedState=js(1|s,m,l,c))}function pv(i,s){tu(8390656,8,i,s)}function id(i,s){nu(2048,8,i,s)}function Sk(i){Te.flags|=4;var s=Te.updateQueue;if(s===null)s=Ql(),Te.updateQueue=s,s.events=[i];else{var l=s.events;l===null?s.events=[i]:l.push(i)}}function gv(i){var s=dt().memoizedState;return Sk({ref:s,nextImpl:i}),function(){if((Ve&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function mv(i,s){return nu(4,2,i,s)}function yv(i,s){return nu(4,4,i,s)}function vv(i,s){if(typeof s=="function"){i=i();var l=s(i);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function bv(i,s,l){l=l!=null?l.concat([i]):null,nu(4,4,vv.bind(null,s,i),l)}function rd(){}function wv(i,s){var l=dt();s=s===void 0?null:s;var c=l.memoizedState;return s!==null&&Gh(s,c[1])?c[0]:(l.memoizedState=[i,s],i)}function Sv(i,s){var l=dt();s=s===void 0?null:s;var c=l.memoizedState;if(s!==null&&Gh(s,c[1]))return c[0];if(c=i(),Nr){Yt(!0);try{i()}finally{Yt(!1)}}return l.memoizedState=[c,s],c}function sd(i,s,l){return l===void 0||(pi&1073741824)!==0&&(Me&261930)===0?i.memoizedState=s:(i.memoizedState=l,i=x0(),Te.lanes|=i,Xi|=i,l)}function xv(i,s,l,c){return on(l,s)?l:Rs.current!==null?(i=sd(i,l,c),on(i,s)||(mt=!0),i):(pi&42)===0||(pi&1073741824)!==0&&(Me&261930)===0?(mt=!0,i.memoizedState=l):(i=x0(),Te.lanes|=i,Xi|=i,s)}function _v(i,s,l,c,p){var m=K.p;K.p=m!==0&&8>m?m:8;var w=P.T,_={};P.T=_,ld(i,!1,s,l);try{var N=p(),U=P.S;if(U!==null&&U(_,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var G=mk(N,c);Wa(i,s,G,fn(i))}else Wa(i,s,c,fn(i))}catch(J){Wa(i,s,{then:function(){},status:"rejected",reason:J},fn())}finally{K.p=m,w!==null&&_.types!==null&&(w.types=_.types),P.T=w}}function xk(){}function ad(i,s,l,c){if(i.tag!==5)throw Error(r(476));var p=Tv(i).queue;_v(i,p,s,re,l===null?xk:function(){return Ev(i),l(c)})}function Tv(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:re},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:l},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function Ev(i){var s=Tv(i);s.next===null&&(s=i.alternate.memoizedState),Wa(i,s.next.queue,{},fn())}function od(){return Ot(fo)}function Av(){return dt().memoizedState}function kv(){return dt().memoizedState}function _k(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var l=fn();i=Fi(l);var c=qi(s,i,l);c!==null&&(tn(c,s,l),Fa(c,s,l)),s={cache:Ih()},i.payload=s;return}s=s.return}}function Tk(i,s,l){var c=fn();l={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},iu(i)?Ov(s,l):(l=Eh(i,s,l,c),l!==null&&(tn(l,i,c),Rv(l,s,c)))}function Cv(i,s,l){var c=fn();Wa(i,s,l,c)}function Wa(i,s,l,c){var p={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(iu(i))Ov(s,p);else{var m=i.alternate;if(i.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var w=s.lastRenderedState,_=m(w,l);if(p.hasEagerState=!0,p.eagerState=_,on(_,w))return Pl(i,s,p,0),Je===null&&Il(),!1}catch{}if(l=Eh(i,s,p,c),l!==null)return tn(l,i,c),Rv(l,s,c),!0}return!1}function ld(i,s,l,c){if(c={lane:2,revertLane:zd(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},iu(i)){if(s)throw Error(r(479))}else s=Eh(i,l,c,2),s!==null&&tn(s,i,2)}function iu(i){var s=i.alternate;return i===Te||s!==null&&s===Te}function Ov(i,s){Ds=Xl=!0;var l=i.pending;l===null?s.next=s:(s.next=l.next,l.next=s),i.pending=s}function Rv(i,s,l){if((l&4194048)!==0){var c=s.lanes;c&=i.pendingLanes,l|=c,s.lanes=l,Lm(i,l)}}var Xa={readContext:Ot,use:Zl,useCallback:ot,useContext:ot,useEffect:ot,useImperativeHandle:ot,useLayoutEffect:ot,useInsertionEffect:ot,useMemo:ot,useReducer:ot,useRef:ot,useState:ot,useDebugValue:ot,useDeferredValue:ot,useTransition:ot,useSyncExternalStore:ot,useId:ot,useHostTransitionStatus:ot,useFormState:ot,useActionState:ot,useOptimistic:ot,useMemoCache:ot,useCacheRefresh:ot};Xa.useEffectEvent=ot;var Dv={readContext:Ot,use:Zl,useCallback:function(i,s){return $t().memoizedState=[i,s===void 0?null:s],i},useContext:Ot,useEffect:pv,useImperativeHandle:function(i,s,l){l=l!=null?l.concat([i]):null,tu(4194308,4,vv.bind(null,s,i),l)},useLayoutEffect:function(i,s){return tu(4194308,4,i,s)},useInsertionEffect:function(i,s){tu(4,2,i,s)},useMemo:function(i,s){var l=$t();s=s===void 0?null:s;var c=i();if(Nr){Yt(!0);try{i()}finally{Yt(!1)}}return l.memoizedState=[c,s],c},useReducer:function(i,s,l){var c=$t();if(l!==void 0){var p=l(s);if(Nr){Yt(!0);try{l(s)}finally{Yt(!1)}}}else p=s;return c.memoizedState=c.baseState=p,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:p},c.queue=i,i=i.dispatch=Tk.bind(null,Te,i),[c.memoizedState,i]},useRef:function(i){var s=$t();return i={current:i},s.memoizedState=i},useState:function(i){i=td(i);var s=i.queue,l=Cv.bind(null,Te,s);return s.dispatch=l,[i.memoizedState,l]},useDebugValue:rd,useDeferredValue:function(i,s){var l=$t();return sd(l,i,s)},useTransition:function(){var i=td(!1);return i=_v.bind(null,Te,i.queue,!0,!1),$t().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,l){var c=Te,p=$t();if(Ie){if(l===void 0)throw Error(r(407));l=l()}else{if(l=s(),Je===null)throw Error(r(349));(Me&127)!==0||Qy(c,s,l)}p.memoizedState=l;var m={value:l,getSnapshot:s};return p.queue=m,pv(ev.bind(null,c,m,i),[i]),c.flags|=2048,js(9,{destroy:void 0},Zy.bind(null,c,m,l,s),null),l},useId:function(){var i=$t(),s=Je.identifierPrefix;if(Ie){var l=Kn,c=qn;l=(c&~(1<<32-Xe(c)-1)).toString(32)+l,s="_"+s+"R_"+l,l=Jl++,0<l&&(s+="H"+l.toString(32)),s+="_"}else l=yk++,s="_"+s+"r_"+l.toString(32)+"_";return i.memoizedState=s},useHostTransitionStatus:od,useFormState:uv,useActionState:uv,useOptimistic:function(i){var s=$t();s.memoizedState=s.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=ld.bind(null,Te,!0,l),l.dispatch=s,[i,s]},useMemoCache:Qh,useCacheRefresh:function(){return $t().memoizedState=_k.bind(null,Te)},useEffectEvent:function(i){var s=$t(),l={impl:i};return s.memoizedState=l,function(){if((Ve&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}},ud={readContext:Ot,use:Zl,useCallback:wv,useContext:Ot,useEffect:id,useImperativeHandle:bv,useInsertionEffect:mv,useLayoutEffect:yv,useMemo:Sv,useReducer:eu,useRef:fv,useState:function(){return eu(gi)},useDebugValue:rd,useDeferredValue:function(i,s){var l=dt();return xv(l,Ke.memoizedState,i,s)},useTransition:function(){var i=eu(gi)[0],s=dt().memoizedState;return[typeof i=="boolean"?i:Ya(i),s]},useSyncExternalStore:Jy,useId:Av,useHostTransitionStatus:od,useFormState:cv,useActionState:cv,useOptimistic:function(i,s){var l=dt();return iv(l,Ke,i,s)},useMemoCache:Qh,useCacheRefresh:kv};ud.useEffectEvent=gv;var Nv={readContext:Ot,use:Zl,useCallback:wv,useContext:Ot,useEffect:id,useImperativeHandle:bv,useInsertionEffect:mv,useLayoutEffect:yv,useMemo:Sv,useReducer:ed,useRef:fv,useState:function(){return ed(gi)},useDebugValue:rd,useDeferredValue:function(i,s){var l=dt();return Ke===null?sd(l,i,s):xv(l,Ke.memoizedState,i,s)},useTransition:function(){var i=ed(gi)[0],s=dt().memoizedState;return[typeof i=="boolean"?i:Ya(i),s]},useSyncExternalStore:Jy,useId:Av,useHostTransitionStatus:od,useFormState:dv,useActionState:dv,useOptimistic:function(i,s){var l=dt();return Ke!==null?iv(l,Ke,i,s):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:Qh,useCacheRefresh:kv};Nv.useEffectEvent=gv;function cd(i,s,l,c){s=i.memoizedState,l=l(c,s),l=l==null?s:y({},s,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var hd={enqueueSetState:function(i,s,l){i=i._reactInternals;var c=fn(),p=Fi(c);p.payload=s,l!=null&&(p.callback=l),s=qi(i,p,c),s!==null&&(tn(s,i,c),Fa(s,i,c))},enqueueReplaceState:function(i,s,l){i=i._reactInternals;var c=fn(),p=Fi(c);p.tag=1,p.payload=s,l!=null&&(p.callback=l),s=qi(i,p,c),s!==null&&(tn(s,i,c),Fa(s,i,c))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var l=fn(),c=Fi(l);c.tag=2,s!=null&&(c.callback=s),s=qi(i,c,l),s!==null&&(tn(s,i,l),Fa(s,i,l))}};function jv(i,s,l,c,p,m,w){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,m,w):s.prototype&&s.prototype.isPureReactComponent?!Ia(l,c)||!Ia(p,m):!0}function Mv(i,s,l,c){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,c),s.state!==i&&hd.enqueueReplaceState(s,s.state,null)}function jr(i,s){var l=s;if("ref"in s){l={};for(var c in s)c!=="ref"&&(l[c]=s[c])}if(i=i.defaultProps){l===s&&(l=y({},l));for(var p in i)l[p]===void 0&&(l[p]=i[p])}return l}function Lv(i){Ll(i)}function Iv(i){console.error(i)}function Pv(i){Ll(i)}function ru(i,s){try{var l=i.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function Bv(i,s,l){try{var c=i.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function dd(i,s,l){return l=Fi(l),l.tag=3,l.payload={element:null},l.callback=function(){ru(i,s)},l}function Uv(i){return i=Fi(i),i.tag=3,i}function zv(i,s,l,c){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var m=c.value;i.payload=function(){return p(m)},i.callback=function(){Bv(s,l,c)}}var w=l.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(i.callback=function(){Bv(s,l,c),typeof p!="function"&&(Ji===null?Ji=new Set([this]):Ji.add(this));var _=c.stack;this.componentDidCatch(c.value,{componentStack:_!==null?_:""})})}function Ek(i,s,l,c,p){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=l.alternate,s!==null&&Es(s,l,p,!0),l=un.current,l!==null){switch(l.tag){case 31:case 13:return En===null?mu():l.alternate===null&&lt===0&&(lt=3),l.flags&=-257,l.flags|=65536,l.lanes=p,c===ql?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([c]):s.add(c),Pd(i,c,p)),!1;case 22:return l.flags|=65536,c===ql?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([c]):l.add(c)),Pd(i,c,p)),!1}throw Error(r(435,l.tag))}return Pd(i,c,p),mu(),!1}if(Ie)return s=un.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=p,c!==Dh&&(i=Error(r(422),{cause:c}),Ua(Sn(i,l)))):(c!==Dh&&(s=Error(r(423),{cause:c}),Ua(Sn(s,l))),i=i.current.alternate,i.flags|=65536,p&=-p,i.lanes|=p,c=Sn(c,l),p=dd(i.stateNode,c,p),$h(i,p),lt!==4&&(lt=2)),!1;var m=Error(r(520),{cause:c});if(m=Sn(m,l),ro===null?ro=[m]:ro.push(m),lt!==4&&(lt=2),s===null)return!0;c=Sn(c,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,i=p&-p,l.lanes|=i,i=dd(l.stateNode,c,i),$h(l,i),!1;case 1:if(s=l.type,m=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Ji===null||!Ji.has(m))))return l.flags|=65536,p&=-p,l.lanes|=p,p=Uv(p),zv(p,i,l,c),$h(l,p),!1}l=l.return}while(l!==null);return!1}var fd=Error(r(461)),mt=!1;function Rt(i,s,l,c){s.child=i===null?Fy(s,null,l,c):Dr(s,i.child,l,c)}function Vv(i,s,l,c,p){l=l.render;var m=s.ref;if("ref"in c){var w={};for(var _ in c)_!=="ref"&&(w[_]=c[_])}else w=c;return kr(s),c=Yh(i,s,l,w,m,p),_=Wh(),i!==null&&!mt?(Xh(i,s,p),mi(i,s,p)):(Ie&&_&&Oh(s),s.flags|=1,Rt(i,s,c,p),s.child)}function $v(i,s,l,c,p){if(i===null){var m=l.type;return typeof m=="function"&&!Ah(m)&&m.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=m,Hv(i,s,m,c,p)):(i=Ul(l.type,null,c,s,s.mode,p),i.ref=s.ref,i.return=s,s.child=i)}if(m=i.child,!Sd(i,p)){var w=m.memoizedProps;if(l=l.compare,l=l!==null?l:Ia,l(w,c)&&i.ref===s.ref)return mi(i,s,p)}return s.flags|=1,i=ci(m,c),i.ref=s.ref,i.return=s,s.child=i}function Hv(i,s,l,c,p){if(i!==null){var m=i.memoizedProps;if(Ia(m,c)&&i.ref===s.ref)if(mt=!1,s.pendingProps=c=m,Sd(i,p))(i.flags&131072)!==0&&(mt=!0);else return s.lanes=i.lanes,mi(i,s,p)}return pd(i,s,l,c,p)}function Fv(i,s,l,c){var p=c.children,m=i!==null?i.memoizedState:null;if(i===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((s.flags&128)!==0){if(m=m!==null?m.baseLanes|l:l,i!==null){for(c=s.child=i.child,p=0;c!==null;)p=p|c.lanes|c.childLanes,c=c.sibling;c=p&~m}else c=0,s.child=null;return qv(i,s,m,l,c)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&Hl(s,m!==null?m.cachePool:null),m!==null?Gy(s,m):Fh(),Yy(s);else return c=s.lanes=536870912,qv(i,s,m!==null?m.baseLanes|l:l,l,c)}else m!==null?(Hl(s,m.cachePool),Gy(s,m),Gi(),s.memoizedState=null):(i!==null&&Hl(s,null),Fh(),Gi());return Rt(i,s,p,l),s.child}function Ja(i,s){return i!==null&&i.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function qv(i,s,l,c,p){var m=Bh();return m=m===null?null:{parent:pt._currentValue,pool:m},s.memoizedState={baseLanes:l,cachePool:m},i!==null&&Hl(s,null),Fh(),Yy(s),i!==null&&Es(i,s,c,!0),s.childLanes=p,null}function su(i,s){return s=ou({mode:s.mode,children:s.children},i.mode),s.ref=i.ref,i.child=s,s.return=i,s}function Kv(i,s,l){return Dr(s,i.child,null,l),i=su(s,s.pendingProps),i.flags|=2,cn(s),s.memoizedState=null,i}function Ak(i,s,l){var c=s.pendingProps,p=(s.flags&128)!==0;if(s.flags&=-129,i===null){if(Ie){if(c.mode==="hidden")return i=su(s,c),s.lanes=536870912,Ja(null,i);if(Kh(s),(i=nt)?(i=rb(i,Tn),i=i!==null&&i.data==="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:Ui!==null?{id:qn,overflow:Kn}:null,retryLane:536870912,hydrationErrors:null},l=Oy(i),l.return=s,s.child=l,Ct=s,nt=null)):i=null,i===null)throw Vi(s);return s.lanes=536870912,null}return su(s,c)}var m=i.memoizedState;if(m!==null){var w=m.dehydrated;if(Kh(s),p)if(s.flags&256)s.flags&=-257,s=Kv(i,s,l);else if(s.memoizedState!==null)s.child=i.child,s.flags|=128,s=null;else throw Error(r(558));else if(mt||Es(i,s,l,!1),p=(l&i.childLanes)!==0,mt||p){if(c=Je,c!==null&&(w=Im(c,l),w!==0&&w!==m.retryLane))throw m.retryLane=w,_r(i,w),tn(c,i,w),fd;mu(),s=Kv(i,s,l)}else i=m.treeContext,nt=An(w.nextSibling),Ct=s,Ie=!0,zi=null,Tn=!1,i!==null&&Ny(s,i),s=su(s,c),s.flags|=4096;return s}return i=ci(i.child,{mode:c.mode,children:c.children}),i.ref=s.ref,s.child=i,i.return=s,i}function au(i,s){var l=s.ref;if(l===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(s.flags|=4194816)}}function pd(i,s,l,c,p){return kr(s),l=Yh(i,s,l,c,void 0,p),c=Wh(),i!==null&&!mt?(Xh(i,s,p),mi(i,s,p)):(Ie&&c&&Oh(s),s.flags|=1,Rt(i,s,l,p),s.child)}function Gv(i,s,l,c,p,m){return kr(s),s.updateQueue=null,l=Xy(s,c,l,p),Wy(i),c=Wh(),i!==null&&!mt?(Xh(i,s,m),mi(i,s,m)):(Ie&&c&&Oh(s),s.flags|=1,Rt(i,s,l,m),s.child)}function Yv(i,s,l,c,p){if(kr(s),s.stateNode===null){var m=Ss,w=l.contextType;typeof w=="object"&&w!==null&&(m=Ot(w)),m=new l(c,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=hd,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=c,m.state=s.memoizedState,m.refs={},zh(s),w=l.contextType,m.context=typeof w=="object"&&w!==null?Ot(w):Ss,m.state=s.memoizedState,w=l.getDerivedStateFromProps,typeof w=="function"&&(cd(s,l,w,c),m.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(w=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),w!==m.state&&hd.enqueueReplaceState(m,m.state,null),Ka(s,c,m,p),qa(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(i===null){m=s.stateNode;var _=s.memoizedProps,N=jr(l,_);m.props=N;var U=m.context,G=l.contextType;w=Ss,typeof G=="object"&&G!==null&&(w=Ot(G));var J=l.getDerivedStateFromProps;G=typeof J=="function"||typeof m.getSnapshotBeforeUpdate=="function",_=s.pendingProps!==_,G||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(_||U!==w)&&Mv(s,m,c,w),Hi=!1;var z=s.memoizedState;m.state=z,Ka(s,c,m,p),qa(),U=s.memoizedState,_||z!==U||Hi?(typeof J=="function"&&(cd(s,l,J,c),U=s.memoizedState),(N=Hi||jv(s,l,N,c,z,U,w))?(G||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=U),m.props=c,m.state=U,m.context=w,c=N):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{m=s.stateNode,Vh(i,s),w=s.memoizedProps,G=jr(l,w),m.props=G,J=s.pendingProps,z=m.context,U=l.contextType,N=Ss,typeof U=="object"&&U!==null&&(N=Ot(U)),_=l.getDerivedStateFromProps,(U=typeof _=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(w!==J||z!==N)&&Mv(s,m,c,N),Hi=!1,z=s.memoizedState,m.state=z,Ka(s,c,m,p),qa();var H=s.memoizedState;w!==J||z!==H||Hi||i!==null&&i.dependencies!==null&&Vl(i.dependencies)?(typeof _=="function"&&(cd(s,l,_,c),H=s.memoizedState),(G=Hi||jv(s,l,G,c,z,H,N)||i!==null&&i.dependencies!==null&&Vl(i.dependencies))?(U||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(c,H,N),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(c,H,N)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||w===i.memoizedProps&&z===i.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||w===i.memoizedProps&&z===i.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=H),m.props=c,m.state=H,m.context=N,c=G):(typeof m.componentDidUpdate!="function"||w===i.memoizedProps&&z===i.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||w===i.memoizedProps&&z===i.memoizedState||(s.flags|=1024),c=!1)}return m=c,au(i,s),c=(s.flags&128)!==0,m||c?(m=s.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,i!==null&&c?(s.child=Dr(s,i.child,null,p),s.child=Dr(s,null,l,p)):Rt(i,s,l,p),s.memoizedState=m.state,i=s.child):i=mi(i,s,p),i}function Wv(i,s,l,c){return Er(),s.flags|=256,Rt(i,s,l,c),s.child}var gd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function md(i){return{baseLanes:i,cachePool:By()}}function yd(i,s,l){return i=i!==null?i.childLanes&~l:0,s&&(i|=dn),i}function Xv(i,s,l){var c=s.pendingProps,p=!1,m=(s.flags&128)!==0,w;if((w=m)||(w=i!==null&&i.memoizedState===null?!1:(ht.current&2)!==0),w&&(p=!0,s.flags&=-129),w=(s.flags&32)!==0,s.flags&=-33,i===null){if(Ie){if(p?Ki(s):Gi(),(i=nt)?(i=rb(i,Tn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:Ui!==null?{id:qn,overflow:Kn}:null,retryLane:536870912,hydrationErrors:null},l=Oy(i),l.return=s,s.child=l,Ct=s,nt=null)):i=null,i===null)throw Vi(s);return Zd(i)?s.lanes=32:s.lanes=536870912,null}var _=c.children;return c=c.fallback,p?(Gi(),p=s.mode,_=ou({mode:"hidden",children:_},p),c=Tr(c,p,l,null),_.return=s,c.return=s,_.sibling=c,s.child=_,c=s.child,c.memoizedState=md(l),c.childLanes=yd(i,w,l),s.memoizedState=gd,Ja(null,c)):(Ki(s),vd(s,_))}var N=i.memoizedState;if(N!==null&&(_=N.dehydrated,_!==null)){if(m)s.flags&256?(Ki(s),s.flags&=-257,s=bd(i,s,l)):s.memoizedState!==null?(Gi(),s.child=i.child,s.flags|=128,s=null):(Gi(),_=c.fallback,p=s.mode,c=ou({mode:"visible",children:c.children},p),_=Tr(_,p,l,null),_.flags|=2,c.return=s,_.return=s,c.sibling=_,s.child=c,Dr(s,i.child,null,l),c=s.child,c.memoizedState=md(l),c.childLanes=yd(i,w,l),s.memoizedState=gd,s=Ja(null,c));else if(Ki(s),Zd(_)){if(w=_.nextSibling&&_.nextSibling.dataset,w)var U=w.dgst;w=U,c=Error(r(419)),c.stack="",c.digest=w,Ua({value:c,source:null,stack:null}),s=bd(i,s,l)}else if(mt||Es(i,s,l,!1),w=(l&i.childLanes)!==0,mt||w){if(w=Je,w!==null&&(c=Im(w,l),c!==0&&c!==N.retryLane))throw N.retryLane=c,_r(i,c),tn(w,i,c),fd;Qd(_)||mu(),s=bd(i,s,l)}else Qd(_)?(s.flags|=192,s.child=i.child,s=null):(i=N.treeContext,nt=An(_.nextSibling),Ct=s,Ie=!0,zi=null,Tn=!1,i!==null&&Ny(s,i),s=vd(s,c.children),s.flags|=4096);return s}return p?(Gi(),_=c.fallback,p=s.mode,N=i.child,U=N.sibling,c=ci(N,{mode:"hidden",children:c.children}),c.subtreeFlags=N.subtreeFlags&65011712,U!==null?_=ci(U,_):(_=Tr(_,p,l,null),_.flags|=2),_.return=s,c.return=s,c.sibling=_,s.child=c,Ja(null,c),c=s.child,_=i.child.memoizedState,_===null?_=md(l):(p=_.cachePool,p!==null?(N=pt._currentValue,p=p.parent!==N?{parent:N,pool:N}:p):p=By(),_={baseLanes:_.baseLanes|l,cachePool:p}),c.memoizedState=_,c.childLanes=yd(i,w,l),s.memoizedState=gd,Ja(i.child,c)):(Ki(s),l=i.child,i=l.sibling,l=ci(l,{mode:"visible",children:c.children}),l.return=s,l.sibling=null,i!==null&&(w=s.deletions,w===null?(s.deletions=[i],s.flags|=16):w.push(i)),s.child=l,s.memoizedState=null,l)}function vd(i,s){return s=ou({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function ou(i,s){return i=ln(22,i,null,s),i.lanes=0,i}function bd(i,s,l){return Dr(s,i.child,null,l),i=vd(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function Jv(i,s,l){i.lanes|=s;var c=i.alternate;c!==null&&(c.lanes|=s),Mh(i.return,s,l)}function wd(i,s,l,c,p,m){var w=i.memoizedState;w===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:p,treeForkCount:m}:(w.isBackwards=s,w.rendering=null,w.renderingStartTime=0,w.last=c,w.tail=l,w.tailMode=p,w.treeForkCount=m)}function Qv(i,s,l){var c=s.pendingProps,p=c.revealOrder,m=c.tail;c=c.children;var w=ht.current,_=(w&2)!==0;if(_?(w=w&1|2,s.flags|=128):w&=1,k(ht,w),Rt(i,s,c,l),c=Ie?Ba:0,!_&&i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Jv(i,l,s);else if(i.tag===19)Jv(i,l,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(p){case"forwards":for(l=s.child,p=null;l!==null;)i=l.alternate,i!==null&&Wl(i)===null&&(p=l),l=l.sibling;l=p,l===null?(p=s.child,s.child=null):(p=l.sibling,l.sibling=null),wd(s,!1,p,l,m,c);break;case"backwards":case"unstable_legacy-backwards":for(l=null,p=s.child,s.child=null;p!==null;){if(i=p.alternate,i!==null&&Wl(i)===null){s.child=p;break}i=p.sibling,p.sibling=l,l=p,p=i}wd(s,!0,l,null,m,c);break;case"together":wd(s,!1,null,null,void 0,c);break;default:s.memoizedState=null}return s.child}function mi(i,s,l){if(i!==null&&(s.dependencies=i.dependencies),Xi|=s.lanes,(l&s.childLanes)===0)if(i!==null){if(Es(i,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,l=ci(i,i.pendingProps),s.child=l,l.return=s;i.sibling!==null;)i=i.sibling,l=l.sibling=ci(i,i.pendingProps),l.return=s;l.sibling=null}return s.child}function Sd(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Vl(i)))}function kk(i,s,l){switch(s.tag){case 3:We(s,s.stateNode.containerInfo),$i(s,pt,i.memoizedState.cache),Er();break;case 27:case 5:Ut(s);break;case 4:We(s,s.stateNode.containerInfo);break;case 10:$i(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Kh(s),null;break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(Ki(s),s.flags|=128,null):(l&s.child.childLanes)!==0?Xv(i,s,l):(Ki(s),i=mi(i,s,l),i!==null?i.sibling:null);Ki(s);break;case 19:var p=(i.flags&128)!==0;if(c=(l&s.childLanes)!==0,c||(Es(i,s,l,!1),c=(l&s.childLanes)!==0),p){if(c)return Qv(i,s,l);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),k(ht,ht.current),c)break;return null;case 22:return s.lanes=0,Fv(i,s,l,s.pendingProps);case 24:$i(s,pt,i.memoizedState.cache)}return mi(i,s,l)}function Zv(i,s,l){if(i!==null)if(i.memoizedProps!==s.pendingProps)mt=!0;else{if(!Sd(i,l)&&(s.flags&128)===0)return mt=!1,kk(i,s,l);mt=(i.flags&131072)!==0}else mt=!1,Ie&&(s.flags&1048576)!==0&&Dy(s,Ba,s.index);switch(s.lanes=0,s.tag){case 16:e:{var c=s.pendingProps;if(i=Or(s.elementType),s.type=i,typeof i=="function")Ah(i)?(c=jr(i,c),s.tag=1,s=Yv(null,s,i,c,l)):(s.tag=0,s=pd(null,s,i,c,l));else{if(i!=null){var p=i.$$typeof;if(p===D){s.tag=11,s=Vv(null,s,i,c,l);break e}else if(p===F){s.tag=14,s=$v(null,s,i,c,l);break e}}throw s=ae(i)||i,Error(r(306,s,""))}}return s;case 0:return pd(i,s,s.type,s.pendingProps,l);case 1:return c=s.type,p=jr(c,s.pendingProps),Yv(i,s,c,p,l);case 3:e:{if(We(s,s.stateNode.containerInfo),i===null)throw Error(r(387));c=s.pendingProps;var m=s.memoizedState;p=m.element,Vh(i,s),Ka(s,c,null,l);var w=s.memoizedState;if(c=w.cache,$i(s,pt,c),c!==m.cache&&Lh(s,[pt],l,!0),qa(),c=w.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:w.cache},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){s=Wv(i,s,c,l);break e}else if(c!==p){p=Sn(Error(r(424)),s),Ua(p),s=Wv(i,s,c,l);break e}else for(i=s.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,nt=An(i.firstChild),Ct=s,Ie=!0,zi=null,Tn=!0,l=Fy(s,null,c,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Er(),c===p){s=mi(i,s,l);break e}Rt(i,s,c,l)}s=s.child}return s;case 26:return au(i,s),i===null?(l=cb(s.type,null,s.pendingProps,null))?s.memoizedState=l:Ie||(l=s.type,i=s.pendingProps,c=_u(fe.current).createElement(l),c[kt]=s,c[Wt]=i,Dt(c,l,i),Et(c),s.stateNode=c):s.memoizedState=cb(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Ut(s),i===null&&Ie&&(c=s.stateNode=ob(s.type,s.pendingProps,fe.current),Ct=s,Tn=!0,p=nt,tr(s.type)?(ef=p,nt=An(c.firstChild)):nt=p),Rt(i,s,s.pendingProps.children,l),au(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&Ie&&((p=c=nt)&&(c=iC(c,s.type,s.pendingProps,Tn),c!==null?(s.stateNode=c,Ct=s,nt=An(c.firstChild),Tn=!1,p=!0):p=!1),p||Vi(s)),Ut(s),p=s.type,m=s.pendingProps,w=i!==null?i.memoizedProps:null,c=m.children,Wd(p,m)?c=null:w!==null&&Wd(p,w)&&(s.flags|=32),s.memoizedState!==null&&(p=Yh(i,s,vk,null,null,l),fo._currentValue=p),au(i,s),Rt(i,s,c,l),s.child;case 6:return i===null&&Ie&&((i=l=nt)&&(l=rC(l,s.pendingProps,Tn),l!==null?(s.stateNode=l,Ct=s,nt=null,i=!0):i=!1),i||Vi(s)),null;case 13:return Xv(i,s,l);case 4:return We(s,s.stateNode.containerInfo),c=s.pendingProps,i===null?s.child=Dr(s,null,c,l):Rt(i,s,c,l),s.child;case 11:return Vv(i,s,s.type,s.pendingProps,l);case 7:return Rt(i,s,s.pendingProps,l),s.child;case 8:return Rt(i,s,s.pendingProps.children,l),s.child;case 12:return Rt(i,s,s.pendingProps.children,l),s.child;case 10:return c=s.pendingProps,$i(s,s.type,c.value),Rt(i,s,c.children,l),s.child;case 9:return p=s.type._context,c=s.pendingProps.children,kr(s),p=Ot(p),c=c(p),s.flags|=1,Rt(i,s,c,l),s.child;case 14:return $v(i,s,s.type,s.pendingProps,l);case 15:return Hv(i,s,s.type,s.pendingProps,l);case 19:return Qv(i,s,l);case 31:return Ak(i,s,l);case 22:return Fv(i,s,l,s.pendingProps);case 24:return kr(s),c=Ot(pt),i===null?(p=Bh(),p===null&&(p=Je,m=Ih(),p.pooledCache=m,m.refCount++,m!==null&&(p.pooledCacheLanes|=l),p=m),s.memoizedState={parent:c,cache:p},zh(s),$i(s,pt,p)):((i.lanes&l)!==0&&(Vh(i,s),Ka(s,null,null,l),qa()),p=i.memoizedState,m=s.memoizedState,p.parent!==c?(p={parent:c,cache:c},s.memoizedState=p,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=p),$i(s,pt,c)):(c=m.cache,$i(s,pt,c),c!==p.cache&&Lh(s,[pt],l,!0))),Rt(i,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function yi(i){i.flags|=4}function xd(i,s,l,c,p){if((s=(i.mode&32)!==0)&&(s=!1),s){if(i.flags|=16777216,(p&335544128)===p)if(i.stateNode.complete)i.flags|=8192;else if(A0())i.flags|=8192;else throw Rr=ql,Uh}else i.flags&=-16777217}function e0(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!gb(s))if(A0())i.flags|=8192;else throw Rr=ql,Uh}function lu(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?jm():536870912,i.lanes|=s,Ps|=s)}function Qa(i,s){if(!Ie)switch(i.tailMode){case"hidden":s=i.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function it(i){var s=i.alternate!==null&&i.alternate.child===i.child,l=0,c=0;if(s)for(var p=i.child;p!==null;)l|=p.lanes|p.childLanes,c|=p.subtreeFlags&65011712,c|=p.flags&65011712,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)l|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=c,i.childLanes=l,s}function Ck(i,s,l){var c=s.pendingProps;switch(Rh(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(s),null;case 1:return it(s),null;case 3:return l=s.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),fi(pt),ze(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(Ts(s)?yi(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Nh())),it(s),null;case 26:var p=s.type,m=s.memoizedState;return i===null?(yi(s),m!==null?(it(s),e0(s,m)):(it(s),xd(s,p,null,c,l))):m?m!==i.memoizedState?(yi(s),it(s),e0(s,m)):(it(s),s.flags&=-16777217):(i=i.memoizedProps,i!==c&&yi(s),it(s),xd(s,p,i,c,l)),null;case 27:if(jn(s),l=fe.current,p=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==c&&yi(s);else{if(!c){if(s.stateNode===null)throw Error(r(166));return it(s),null}i=Z.current,Ts(s)?jy(s):(i=ob(p,c,l),s.stateNode=i,yi(s))}return it(s),null;case 5:if(jn(s),p=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==c&&yi(s);else{if(!c){if(s.stateNode===null)throw Error(r(166));return it(s),null}if(m=Z.current,Ts(s))jy(s);else{var w=_u(fe.current);switch(m){case 1:m=w.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:m=w.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":m=w.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":m=w.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":m=w.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof c.is=="string"?w.createElement("select",{is:c.is}):w.createElement("select"),c.multiple?m.multiple=!0:c.size&&(m.size=c.size);break;default:m=typeof c.is=="string"?w.createElement(p,{is:c.is}):w.createElement(p)}}m[kt]=s,m[Wt]=c;e:for(w=s.child;w!==null;){if(w.tag===5||w.tag===6)m.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===s)break e;for(;w.sibling===null;){if(w.return===null||w.return===s)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}s.stateNode=m;e:switch(Dt(m,p,c),p){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&yi(s)}}return it(s),xd(s,s.type,i===null?null:i.memoizedProps,s.pendingProps,l),null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==c&&yi(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(r(166));if(i=fe.current,Ts(s)){if(i=s.stateNode,l=s.memoizedProps,c=null,p=Ct,p!==null)switch(p.tag){case 27:case 5:c=p.memoizedProps}i[kt]=s,i=!!(i.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||X0(i.nodeValue,l)),i||Vi(s,!0)}else i=_u(i).createTextNode(c),i[kt]=s,s.stateNode=i}return it(s),null;case 31:if(l=s.memoizedState,i===null||i.memoizedState!==null){if(c=Ts(s),l!==null){if(i===null){if(!c)throw Error(r(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[kt]=s}else Er(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;it(s),i=!1}else l=Nh(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=l),i=!0;if(!i)return s.flags&256?(cn(s),s):(cn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return it(s),null;case 13:if(c=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(p=Ts(s),c!==null&&c.dehydrated!==null){if(i===null){if(!p)throw Error(r(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));p[kt]=s}else Er(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;it(s),p=!1}else p=Nh(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=p),p=!0;if(!p)return s.flags&256?(cn(s),s):(cn(s),null)}return cn(s),(s.flags&128)!==0?(s.lanes=l,s):(l=c!==null,i=i!==null&&i.memoizedState!==null,l&&(c=s.child,p=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(p=c.alternate.memoizedState.cachePool.pool),m=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),m!==p&&(c.flags|=2048)),l!==i&&l&&(s.child.flags|=8192),lu(s,s.updateQueue),it(s),null);case 4:return ze(),i===null&&Fd(s.stateNode.containerInfo),it(s),null;case 10:return fi(s.type),it(s),null;case 19:if(q(ht),c=s.memoizedState,c===null)return it(s),null;if(p=(s.flags&128)!==0,m=c.rendering,m===null)if(p)Qa(c,!1);else{if(lt!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(m=Wl(i),m!==null){for(s.flags|=128,Qa(c,!1),i=m.updateQueue,s.updateQueue=i,lu(s,i),s.subtreeFlags=0,i=l,l=s.child;l!==null;)Cy(l,i),l=l.sibling;return k(ht,ht.current&1|2),Ie&&hi(s,c.treeForkCount),s.child}i=i.sibling}c.tail!==null&&zt()>fu&&(s.flags|=128,p=!0,Qa(c,!1),s.lanes=4194304)}else{if(!p)if(i=Wl(m),i!==null){if(s.flags|=128,p=!0,i=i.updateQueue,s.updateQueue=i,lu(s,i),Qa(c,!0),c.tail===null&&c.tailMode==="hidden"&&!m.alternate&&!Ie)return it(s),null}else 2*zt()-c.renderingStartTime>fu&&l!==536870912&&(s.flags|=128,p=!0,Qa(c,!1),s.lanes=4194304);c.isBackwards?(m.sibling=s.child,s.child=m):(i=c.last,i!==null?i.sibling=m:s.child=m,c.last=m)}return c.tail!==null?(i=c.tail,c.rendering=i,c.tail=i.sibling,c.renderingStartTime=zt(),i.sibling=null,l=ht.current,k(ht,p?l&1|2:l&1),Ie&&hi(s,c.treeForkCount),i):(it(s),null);case 22:case 23:return cn(s),qh(),c=s.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(l&536870912)!==0&&(s.flags&128)===0&&(it(s),s.subtreeFlags&6&&(s.flags|=8192)):it(s),l=s.updateQueue,l!==null&&lu(s,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==l&&(s.flags|=2048),i!==null&&q(Cr),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),fi(pt),it(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function Ok(i,s){switch(Rh(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return fi(pt),ze(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return jn(s),null;case 31:if(s.memoizedState!==null){if(cn(s),s.alternate===null)throw Error(r(340));Er()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 13:if(cn(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Er()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return q(ht),null;case 4:return ze(),null;case 10:return fi(s.type),null;case 22:case 23:return cn(s),qh(),i!==null&&q(Cr),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return fi(pt),null;case 25:return null;default:return null}}function t0(i,s){switch(Rh(s),s.tag){case 3:fi(pt),ze();break;case 26:case 27:case 5:jn(s);break;case 4:ze();break;case 31:s.memoizedState!==null&&cn(s);break;case 13:cn(s);break;case 19:q(ht);break;case 10:fi(s.type);break;case 22:case 23:cn(s),qh(),i!==null&&q(Cr);break;case 24:fi(pt)}}function Za(i,s){try{var l=s.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var p=c.next;l=p;do{if((l.tag&i)===i){c=void 0;var m=l.create,w=l.inst;c=m(),w.destroy=c}l=l.next}while(l!==p)}}catch(_){qe(s,s.return,_)}}function Yi(i,s,l){try{var c=s.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var m=p.next;c=m;do{if((c.tag&i)===i){var w=c.inst,_=w.destroy;if(_!==void 0){w.destroy=void 0,p=s;var N=l,U=_;try{U()}catch(G){qe(p,N,G)}}}c=c.next}while(c!==m)}}catch(G){qe(s,s.return,G)}}function n0(i){var s=i.updateQueue;if(s!==null){var l=i.stateNode;try{Ky(s,l)}catch(c){qe(i,i.return,c)}}}function i0(i,s,l){l.props=jr(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(c){qe(i,s,c)}}function eo(i,s){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof l=="function"?i.refCleanup=l(c):l.current=c}}catch(p){qe(i,s,p)}}function Gn(i,s){var l=i.ref,c=i.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(p){qe(i,s,p)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){qe(i,s,p)}else l.current=null}function r0(i){var s=i.type,l=i.memoizedProps,c=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(p){qe(i,i.return,p)}}function _d(i,s,l){try{var c=i.stateNode;Jk(c,i.type,l,s),c[Wt]=s}catch(p){qe(i,i.return,p)}}function s0(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&tr(i.type)||i.tag===4}function Td(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||s0(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&tr(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Ed(i,s,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(i),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=li));else if(c!==4&&(c===27&&tr(i.type)&&(l=i.stateNode,s=null),i=i.child,i!==null))for(Ed(i,s,l),i=i.sibling;i!==null;)Ed(i,s,l),i=i.sibling}function uu(i,s,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,s?l.insertBefore(i,s):l.appendChild(i);else if(c!==4&&(c===27&&tr(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(uu(i,s,l),i=i.sibling;i!==null;)uu(i,s,l),i=i.sibling}function a0(i){var s=i.stateNode,l=i.memoizedProps;try{for(var c=i.type,p=s.attributes;p.length;)s.removeAttributeNode(p[0]);Dt(s,c,l),s[kt]=i,s[Wt]=l}catch(m){qe(i,i.return,m)}}var vi=!1,yt=!1,Ad=!1,o0=typeof WeakSet=="function"?WeakSet:Set,At=null;function Rk(i,s){if(i=i.containerInfo,Gd=Ru,i=by(i),bh(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var p=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{l.nodeType,m.nodeType}catch{l=null;break e}var w=0,_=-1,N=-1,U=0,G=0,J=i,z=null;t:for(;;){for(var H;J!==l||p!==0&&J.nodeType!==3||(_=w+p),J!==m||c!==0&&J.nodeType!==3||(N=w+c),J.nodeType===3&&(w+=J.nodeValue.length),(H=J.firstChild)!==null;)z=J,J=H;for(;;){if(J===i)break t;if(z===l&&++U===p&&(_=w),z===m&&++G===c&&(N=w),(H=J.nextSibling)!==null)break;J=z,z=J.parentNode}J=H}l=_===-1||N===-1?null:{start:_,end:N}}else l=null}l=l||{start:0,end:0}}else l=null;for(Yd={focusedElem:i,selectionRange:l},Ru=!1,At=s;At!==null;)if(s=At,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,At=i;else for(;At!==null;){switch(s=At,m=s.alternate,i=s.flags,s.tag){case 0:if((i&4)!==0&&(i=s.updateQueue,i=i!==null?i.events:null,i!==null))for(l=0;l<i.length;l++)p=i[l],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&m!==null){i=void 0,l=s,p=m.memoizedProps,m=m.memoizedState,c=l.stateNode;try{var le=jr(l.type,p);i=c.getSnapshotBeforeUpdate(le,m),c.__reactInternalSnapshotBeforeUpdate=i}catch(ye){qe(l,l.return,ye)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,l=i.nodeType,l===9)Jd(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Jd(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,At=i;break}At=s.return}}function l0(i,s,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:wi(i,l),c&4&&Za(5,l);break;case 1:if(wi(i,l),c&4)if(i=l.stateNode,s===null)try{i.componentDidMount()}catch(w){qe(l,l.return,w)}else{var p=jr(l.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(p,s,i.__reactInternalSnapshotBeforeUpdate)}catch(w){qe(l,l.return,w)}}c&64&&n0(l),c&512&&eo(l,l.return);break;case 3:if(wi(i,l),c&64&&(i=l.updateQueue,i!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{Ky(i,s)}catch(w){qe(l,l.return,w)}}break;case 27:s===null&&c&4&&a0(l);case 26:case 5:wi(i,l),s===null&&c&4&&r0(l),c&512&&eo(l,l.return);break;case 12:wi(i,l);break;case 31:wi(i,l),c&4&&h0(i,l);break;case 13:wi(i,l),c&4&&d0(i,l),c&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=Uk.bind(null,l),sC(i,l))));break;case 22:if(c=l.memoizedState!==null||vi,!c){s=s!==null&&s.memoizedState!==null||yt,p=vi;var m=yt;vi=c,(yt=s)&&!m?Si(i,l,(l.subtreeFlags&8772)!==0):wi(i,l),vi=p,yt=m}break;case 30:break;default:wi(i,l)}}function u0(i){var s=i.alternate;s!==null&&(i.alternate=null,u0(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&nh(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var st=null,Jt=!1;function bi(i,s,l){for(l=l.child;l!==null;)c0(i,s,l),l=l.sibling}function c0(i,s,l){if(St&&typeof St.onCommitFiberUnmount=="function")try{St.onCommitFiberUnmount(Vt,l)}catch{}switch(l.tag){case 26:yt||Gn(l,s),bi(i,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:yt||Gn(l,s);var c=st,p=Jt;tr(l.type)&&(st=l.stateNode,Jt=!1),bi(i,s,l),uo(l.stateNode),st=c,Jt=p;break;case 5:yt||Gn(l,s);case 6:if(c=st,p=Jt,st=null,bi(i,s,l),st=c,Jt=p,st!==null)if(Jt)try{(st.nodeType===9?st.body:st.nodeName==="HTML"?st.ownerDocument.body:st).removeChild(l.stateNode)}catch(m){qe(l,s,m)}else try{st.removeChild(l.stateNode)}catch(m){qe(l,s,m)}break;case 18:st!==null&&(Jt?(i=st,nb(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),qs(i)):nb(st,l.stateNode));break;case 4:c=st,p=Jt,st=l.stateNode.containerInfo,Jt=!0,bi(i,s,l),st=c,Jt=p;break;case 0:case 11:case 14:case 15:Yi(2,l,s),yt||Yi(4,l,s),bi(i,s,l);break;case 1:yt||(Gn(l,s),c=l.stateNode,typeof c.componentWillUnmount=="function"&&i0(l,s,c)),bi(i,s,l);break;case 21:bi(i,s,l);break;case 22:yt=(c=yt)||l.memoizedState!==null,bi(i,s,l),yt=c;break;default:bi(i,s,l)}}function h0(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{qs(i)}catch(l){qe(s,s.return,l)}}}function d0(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{qs(i)}catch(l){qe(s,s.return,l)}}function Dk(i){switch(i.tag){case 31:case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new o0),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new o0),s;default:throw Error(r(435,i.tag))}}function cu(i,s){var l=Dk(i);s.forEach(function(c){if(!l.has(c)){l.add(c);var p=zk.bind(null,i,c);c.then(p,p)}})}function Qt(i,s){var l=s.deletions;if(l!==null)for(var c=0;c<l.length;c++){var p=l[c],m=i,w=s,_=w;e:for(;_!==null;){switch(_.tag){case 27:if(tr(_.type)){st=_.stateNode,Jt=!1;break e}break;case 5:st=_.stateNode,Jt=!1;break e;case 3:case 4:st=_.stateNode.containerInfo,Jt=!0;break e}_=_.return}if(st===null)throw Error(r(160));c0(m,w,p),st=null,Jt=!1,m=p.alternate,m!==null&&(m.return=null),p.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)f0(s,i),s=s.sibling}var In=null;function f0(i,s){var l=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Qt(s,i),Zt(i),c&4&&(Yi(3,i,i.return),Za(3,i),Yi(5,i,i.return));break;case 1:Qt(s,i),Zt(i),c&512&&(yt||l===null||Gn(l,l.return)),c&64&&vi&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var p=In;if(Qt(s,i),Zt(i),c&512&&(yt||l===null||Gn(l,l.return)),c&4){var m=l!==null?l.memoizedState:null;if(c=i.memoizedState,l===null)if(c===null)if(i.stateNode===null){e:{c=i.type,l=i.memoizedProps,p=p.ownerDocument||p;t:switch(c){case"title":m=p.getElementsByTagName("title")[0],(!m||m[ka]||m[kt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=p.createElement(c),p.head.insertBefore(m,p.querySelector("head > title"))),Dt(m,c,l),m[kt]=i,Et(m),c=m;break e;case"link":var w=fb("link","href",p).get(c+(l.href||""));if(w){for(var _=0;_<w.length;_++)if(m=w[_],m.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&m.getAttribute("rel")===(l.rel==null?null:l.rel)&&m.getAttribute("title")===(l.title==null?null:l.title)&&m.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){w.splice(_,1);break t}}m=p.createElement(c),Dt(m,c,l),p.head.appendChild(m);break;case"meta":if(w=fb("meta","content",p).get(c+(l.content||""))){for(_=0;_<w.length;_++)if(m=w[_],m.getAttribute("content")===(l.content==null?null:""+l.content)&&m.getAttribute("name")===(l.name==null?null:l.name)&&m.getAttribute("property")===(l.property==null?null:l.property)&&m.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&m.getAttribute("charset")===(l.charSet==null?null:l.charSet)){w.splice(_,1);break t}}m=p.createElement(c),Dt(m,c,l),p.head.appendChild(m);break;default:throw Error(r(468,c))}m[kt]=i,Et(m),c=m}i.stateNode=c}else pb(p,i.type,i.stateNode);else i.stateNode=db(p,c,i.memoizedProps);else m!==c?(m===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):m.count--,c===null?pb(p,i.type,i.stateNode):db(p,c,i.memoizedProps)):c===null&&i.stateNode!==null&&_d(i,i.memoizedProps,l.memoizedProps)}break;case 27:Qt(s,i),Zt(i),c&512&&(yt||l===null||Gn(l,l.return)),l!==null&&c&4&&_d(i,i.memoizedProps,l.memoizedProps);break;case 5:if(Qt(s,i),Zt(i),c&512&&(yt||l===null||Gn(l,l.return)),i.flags&32){p=i.stateNode;try{ps(p,"")}catch(le){qe(i,i.return,le)}}c&4&&i.stateNode!=null&&(p=i.memoizedProps,_d(i,p,l!==null?l.memoizedProps:p)),c&1024&&(Ad=!0);break;case 6:if(Qt(s,i),Zt(i),c&4){if(i.stateNode===null)throw Error(r(162));c=i.memoizedProps,l=i.stateNode;try{l.nodeValue=c}catch(le){qe(i,i.return,le)}}break;case 3:if(Au=null,p=In,In=Tu(s.containerInfo),Qt(s,i),In=p,Zt(i),c&4&&l!==null&&l.memoizedState.isDehydrated)try{qs(s.containerInfo)}catch(le){qe(i,i.return,le)}Ad&&(Ad=!1,p0(i));break;case 4:c=In,In=Tu(i.stateNode.containerInfo),Qt(s,i),Zt(i),In=c;break;case 12:Qt(s,i),Zt(i);break;case 31:Qt(s,i),Zt(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,cu(i,c)));break;case 13:Qt(s,i),Zt(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(du=zt()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,cu(i,c)));break;case 22:p=i.memoizedState!==null;var N=l!==null&&l.memoizedState!==null,U=vi,G=yt;if(vi=U||p,yt=G||N,Qt(s,i),yt=G,vi=U,Zt(i),c&8192)e:for(s=i.stateNode,s._visibility=p?s._visibility&-2:s._visibility|1,p&&(l===null||N||vi||yt||Mr(i)),l=null,s=i;;){if(s.tag===5||s.tag===26){if(l===null){N=l=s;try{if(m=N.stateNode,p)w=m.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{_=N.stateNode;var J=N.memoizedProps.style,z=J!=null&&J.hasOwnProperty("display")?J.display:null;_.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(le){qe(N,N.return,le)}}}else if(s.tag===6){if(l===null){N=s;try{N.stateNode.nodeValue=p?"":N.memoizedProps}catch(le){qe(N,N.return,le)}}}else if(s.tag===18){if(l===null){N=s;try{var H=N.stateNode;p?ib(H,!0):ib(N.stateNode,!1)}catch(le){qe(N,N.return,le)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=i.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,cu(i,l))));break;case 19:Qt(s,i),Zt(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,cu(i,c)));break;case 30:break;case 21:break;default:Qt(s,i),Zt(i)}}function Zt(i){var s=i.flags;if(s&2){try{for(var l,c=i.return;c!==null;){if(s0(c)){l=c;break}c=c.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var p=l.stateNode,m=Td(i);uu(i,m,p);break;case 5:var w=l.stateNode;l.flags&32&&(ps(w,""),l.flags&=-33);var _=Td(i);uu(i,_,w);break;case 3:case 4:var N=l.stateNode.containerInfo,U=Td(i);Ed(i,U,N);break;default:throw Error(r(161))}}catch(G){qe(i,i.return,G)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function p0(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;p0(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function wi(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)l0(i,s.alternate,s),s=s.sibling}function Mr(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:Yi(4,s,s.return),Mr(s);break;case 1:Gn(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&i0(s,s.return,l),Mr(s);break;case 27:uo(s.stateNode);case 26:case 5:Gn(s,s.return),Mr(s);break;case 22:s.memoizedState===null&&Mr(s);break;case 30:Mr(s);break;default:Mr(s)}i=i.sibling}}function Si(i,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,p=i,m=s,w=m.flags;switch(m.tag){case 0:case 11:case 15:Si(p,m,l),Za(4,m);break;case 1:if(Si(p,m,l),c=m,p=c.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(U){qe(c,c.return,U)}if(c=m,p=c.updateQueue,p!==null){var _=c.stateNode;try{var N=p.shared.hiddenCallbacks;if(N!==null)for(p.shared.hiddenCallbacks=null,p=0;p<N.length;p++)qy(N[p],_)}catch(U){qe(c,c.return,U)}}l&&w&64&&n0(m),eo(m,m.return);break;case 27:a0(m);case 26:case 5:Si(p,m,l),l&&c===null&&w&4&&r0(m),eo(m,m.return);break;case 12:Si(p,m,l);break;case 31:Si(p,m,l),l&&w&4&&h0(p,m);break;case 13:Si(p,m,l),l&&w&4&&d0(p,m);break;case 22:m.memoizedState===null&&Si(p,m,l),eo(m,m.return);break;case 30:break;default:Si(p,m,l)}s=s.sibling}}function kd(i,s){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&za(l))}function Cd(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&za(i))}function Pn(i,s,l,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)g0(i,s,l,c),s=s.sibling}function g0(i,s,l,c){var p=s.flags;switch(s.tag){case 0:case 11:case 15:Pn(i,s,l,c),p&2048&&Za(9,s);break;case 1:Pn(i,s,l,c);break;case 3:Pn(i,s,l,c),p&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&za(i)));break;case 12:if(p&2048){Pn(i,s,l,c),i=s.stateNode;try{var m=s.memoizedProps,w=m.id,_=m.onPostCommit;typeof _=="function"&&_(w,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(N){qe(s,s.return,N)}}else Pn(i,s,l,c);break;case 31:Pn(i,s,l,c);break;case 13:Pn(i,s,l,c);break;case 23:break;case 22:m=s.stateNode,w=s.alternate,s.memoizedState!==null?m._visibility&2?Pn(i,s,l,c):to(i,s):m._visibility&2?Pn(i,s,l,c):(m._visibility|=2,Ms(i,s,l,c,(s.subtreeFlags&10256)!==0||!1)),p&2048&&kd(w,s);break;case 24:Pn(i,s,l,c),p&2048&&Cd(s.alternate,s);break;default:Pn(i,s,l,c)}}function Ms(i,s,l,c,p){for(p=p&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var m=i,w=s,_=l,N=c,U=w.flags;switch(w.tag){case 0:case 11:case 15:Ms(m,w,_,N,p),Za(8,w);break;case 23:break;case 22:var G=w.stateNode;w.memoizedState!==null?G._visibility&2?Ms(m,w,_,N,p):to(m,w):(G._visibility|=2,Ms(m,w,_,N,p)),p&&U&2048&&kd(w.alternate,w);break;case 24:Ms(m,w,_,N,p),p&&U&2048&&Cd(w.alternate,w);break;default:Ms(m,w,_,N,p)}s=s.sibling}}function to(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=i,c=s,p=c.flags;switch(c.tag){case 22:to(l,c),p&2048&&kd(c.alternate,c);break;case 24:to(l,c),p&2048&&Cd(c.alternate,c);break;default:to(l,c)}s=s.sibling}}var no=8192;function Ls(i,s,l){if(i.subtreeFlags&no)for(i=i.child;i!==null;)m0(i,s,l),i=i.sibling}function m0(i,s,l){switch(i.tag){case 26:Ls(i,s,l),i.flags&no&&i.memoizedState!==null&&yC(l,In,i.memoizedState,i.memoizedProps);break;case 5:Ls(i,s,l);break;case 3:case 4:var c=In;In=Tu(i.stateNode.containerInfo),Ls(i,s,l),In=c;break;case 22:i.memoizedState===null&&(c=i.alternate,c!==null&&c.memoizedState!==null?(c=no,no=16777216,Ls(i,s,l),no=c):Ls(i,s,l));break;default:Ls(i,s,l)}}function y0(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function io(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var c=s[l];At=c,b0(c,i)}y0(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)v0(i),i=i.sibling}function v0(i){switch(i.tag){case 0:case 11:case 15:io(i),i.flags&2048&&Yi(9,i,i.return);break;case 3:io(i);break;case 12:io(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,hu(i)):io(i);break;default:io(i)}}function hu(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var c=s[l];At=c,b0(c,i)}y0(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:Yi(8,s,s.return),hu(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,hu(s));break;default:hu(s)}i=i.sibling}}function b0(i,s){for(;At!==null;){var l=At;switch(l.tag){case 0:case 11:case 15:Yi(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:za(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,At=c;else e:for(l=i;At!==null;){c=At;var p=c.sibling,m=c.return;if(u0(c),c===l){At=null;break e}if(p!==null){p.return=m,At=p;break e}At=m}}}var Nk={getCacheForType:function(i){var s=Ot(pt),l=s.data.get(i);return l===void 0&&(l=i(),s.data.set(i,l)),l},cacheSignal:function(){return Ot(pt).controller.signal}},jk=typeof WeakMap=="function"?WeakMap:Map,Ve=0,Je=null,Ne=null,Me=0,Fe=0,hn=null,Wi=!1,Is=!1,Od=!1,xi=0,lt=0,Xi=0,Lr=0,Rd=0,dn=0,Ps=0,ro=null,en=null,Dd=!1,du=0,w0=0,fu=1/0,pu=null,Ji=null,xt=0,Qi=null,Bs=null,_i=0,Nd=0,jd=null,S0=null,so=0,Md=null;function fn(){return(Ve&2)!==0&&Me!==0?Me&-Me:P.T!==null?zd():Pm()}function x0(){if(dn===0)if((Me&536870912)===0||Ie){var i=xl;xl<<=1,(xl&3932160)===0&&(xl=262144),dn=i}else dn=536870912;return i=un.current,i!==null&&(i.flags|=32),dn}function tn(i,s,l){(i===Je&&(Fe===2||Fe===9)||i.cancelPendingCommit!==null)&&(Us(i,0),Zi(i,Me,dn,!1)),Aa(i,l),((Ve&2)===0||i!==Je)&&(i===Je&&((Ve&2)===0&&(Lr|=l),lt===4&&Zi(i,Me,dn,!1)),Yn(i))}function _0(i,s,l){if((Ve&6)!==0)throw Error(r(327));var c=!l&&(s&127)===0&&(s&i.expiredLanes)===0||Ea(i,s),p=c?Ik(i,s):Id(i,s,!0),m=c;do{if(p===0){Is&&!c&&Zi(i,s,0,!1);break}else{if(l=i.current.alternate,m&&!Mk(l)){p=Id(i,s,!1),m=!1;continue}if(p===2){if(m=s,i.errorRecoveryDisabledLanes&m)var w=0;else w=i.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){s=w;e:{var _=i;p=ro;var N=_.current.memoizedState.isDehydrated;if(N&&(Us(_,w).flags|=256),w=Id(_,w,!1),w!==2){if(Od&&!N){_.errorRecoveryDisabledLanes|=m,Lr|=m,p=4;break e}m=en,en=p,m!==null&&(en===null?en=m:en.push.apply(en,m))}p=w}if(m=!1,p!==2)continue}}if(p===1){Us(i,0),Zi(i,s,0,!0);break}e:{switch(c=i,m=p,m){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Zi(c,s,dn,!Wi);break e;case 2:en=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(p=du+300-zt(),10<p)){if(Zi(c,s,dn,!Wi),Tl(c,0,!0)!==0)break e;_i=s,c.timeoutHandle=eb(T0.bind(null,c,l,en,pu,Dd,s,dn,Lr,Ps,Wi,m,"Throttled",-0,0),p);break e}T0(c,l,en,pu,Dd,s,dn,Lr,Ps,Wi,m,null,-0,0)}}break}while(!0);Yn(i)}function T0(i,s,l,c,p,m,w,_,N,U,G,J,z,H){if(i.timeoutHandle=-1,J=s.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:li},m0(s,m,J);var le=(m&62914560)===m?du-zt():(m&4194048)===m?w0-zt():0;if(le=vC(J,le),le!==null){_i=m,i.cancelPendingCommit=le(N0.bind(null,i,s,m,l,c,p,w,_,N,G,J,null,z,H)),Zi(i,m,w,!U);return}}N0(i,s,m,l,c,p,w,_,N)}function Mk(i){for(var s=i;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var p=l[c],m=p.getSnapshot;p=p.value;try{if(!on(m(),p))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Zi(i,s,l,c){s&=~Rd,s&=~Lr,i.suspendedLanes|=s,i.pingedLanes&=~s,c&&(i.warmLanes|=s),c=i.expirationTimes;for(var p=s;0<p;){var m=31-Xe(p),w=1<<m;c[m]=-1,p&=~w}l!==0&&Mm(i,l,s)}function gu(){return(Ve&6)===0?(ao(0),!1):!0}function Ld(){if(Ne!==null){if(Fe===0)var i=Ne.return;else i=Ne,di=Ar=null,Jh(i),Os=null,$a=0,i=Ne;for(;i!==null;)t0(i.alternate,i),i=i.return;Ne=null}}function Us(i,s){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,eC(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),_i=0,Ld(),Je=i,Ne=l=ci(i.current,null),Me=s,Fe=0,hn=null,Wi=!1,Is=Ea(i,s),Od=!1,Ps=dn=Rd=Lr=Xi=lt=0,en=ro=null,Dd=!1,(s&8)!==0&&(s|=s&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=s;0<c;){var p=31-Xe(c),m=1<<p;s|=i[p],c&=~m}return xi=s,Il(),l}function E0(i,s){Te=null,P.H=Xa,s===Cs||s===Fl?(s=Vy(),Fe=3):s===Uh?(s=Vy(),Fe=4):Fe=s===fd?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,hn=s,Ne===null&&(lt=1,ru(i,Sn(s,i.current)))}function A0(){var i=un.current;return i===null?!0:(Me&4194048)===Me?En===null:(Me&62914560)===Me||(Me&536870912)!==0?i===En:!1}function k0(){var i=P.H;return P.H=Xa,i===null?Xa:i}function C0(){var i=P.A;return P.A=Nk,i}function mu(){lt=4,Wi||(Me&4194048)!==Me&&un.current!==null||(Is=!0),(Xi&134217727)===0&&(Lr&134217727)===0||Je===null||Zi(Je,Me,dn,!1)}function Id(i,s,l){var c=Ve;Ve|=2;var p=k0(),m=C0();(Je!==i||Me!==s)&&(pu=null,Us(i,s)),s=!1;var w=lt;e:do try{if(Fe!==0&&Ne!==null){var _=Ne,N=hn;switch(Fe){case 8:Ld(),w=6;break e;case 3:case 2:case 9:case 6:un.current===null&&(s=!0);var U=Fe;if(Fe=0,hn=null,zs(i,_,N,U),l&&Is){w=0;break e}break;default:U=Fe,Fe=0,hn=null,zs(i,_,N,U)}}Lk(),w=lt;break}catch(G){E0(i,G)}while(!0);return s&&i.shellSuspendCounter++,di=Ar=null,Ve=c,P.H=p,P.A=m,Ne===null&&(Je=null,Me=0,Il()),w}function Lk(){for(;Ne!==null;)O0(Ne)}function Ik(i,s){var l=Ve;Ve|=2;var c=k0(),p=C0();Je!==i||Me!==s?(pu=null,fu=zt()+500,Us(i,s)):Is=Ea(i,s);e:do try{if(Fe!==0&&Ne!==null){s=Ne;var m=hn;t:switch(Fe){case 1:Fe=0,hn=null,zs(i,s,m,1);break;case 2:case 9:if(Uy(m)){Fe=0,hn=null,R0(s);break}s=function(){Fe!==2&&Fe!==9||Je!==i||(Fe=7),Yn(i)},m.then(s,s);break e;case 3:Fe=7;break e;case 4:Fe=5;break e;case 7:Uy(m)?(Fe=0,hn=null,R0(s)):(Fe=0,hn=null,zs(i,s,m,7));break;case 5:var w=null;switch(Ne.tag){case 26:w=Ne.memoizedState;case 5:case 27:var _=Ne;if(w?gb(w):_.stateNode.complete){Fe=0,hn=null;var N=_.sibling;if(N!==null)Ne=N;else{var U=_.return;U!==null?(Ne=U,yu(U)):Ne=null}break t}}Fe=0,hn=null,zs(i,s,m,5);break;case 6:Fe=0,hn=null,zs(i,s,m,6);break;case 8:Ld(),lt=6;break e;default:throw Error(r(462))}}Pk();break}catch(G){E0(i,G)}while(!0);return di=Ar=null,P.H=c,P.A=p,Ve=l,Ne!==null?0:(Je=null,Me=0,Il(),lt)}function Pk(){for(;Ne!==null&&!Wc();)O0(Ne)}function O0(i){var s=Zv(i.alternate,i,xi);i.memoizedProps=i.pendingProps,s===null?yu(i):Ne=s}function R0(i){var s=i,l=s.alternate;switch(s.tag){case 15:case 0:s=Gv(l,s,s.pendingProps,s.type,void 0,Me);break;case 11:s=Gv(l,s,s.pendingProps,s.type.render,s.ref,Me);break;case 5:Jh(s);default:t0(l,s),s=Ne=Cy(s,xi),s=Zv(l,s,xi)}i.memoizedProps=i.pendingProps,s===null?yu(i):Ne=s}function zs(i,s,l,c){di=Ar=null,Jh(s),Os=null,$a=0;var p=s.return;try{if(Ek(i,p,s,l,Me)){lt=1,ru(i,Sn(l,i.current)),Ne=null;return}}catch(m){if(p!==null)throw Ne=p,m;lt=1,ru(i,Sn(l,i.current)),Ne=null;return}s.flags&32768?(Ie||c===1?i=!0:Is||(Me&536870912)!==0?i=!1:(Wi=i=!0,(c===2||c===9||c===3||c===6)&&(c=un.current,c!==null&&c.tag===13&&(c.flags|=16384))),D0(s,i)):yu(s)}function yu(i){var s=i;do{if((s.flags&32768)!==0){D0(s,Wi);return}i=s.return;var l=Ck(s.alternate,s,xi);if(l!==null){Ne=l;return}if(s=s.sibling,s!==null){Ne=s;return}Ne=s=i}while(s!==null);lt===0&&(lt=5)}function D0(i,s){do{var l=Ok(i.alternate,i);if(l!==null){l.flags&=32767,Ne=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(i=i.sibling,i!==null)){Ne=i;return}Ne=i=l}while(i!==null);lt=6,Ne=null}function N0(i,s,l,c,p,m,w,_,N){i.cancelPendingCommit=null;do vu();while(xt!==0);if((Ve&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(m=s.lanes|s.childLanes,m|=Th,mA(i,l,m,w,_,N),i===Je&&(Ne=Je=null,Me=0),Bs=s,Qi=i,_i=l,Nd=m,jd=p,S0=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,Vk(we,function(){return P0(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=P.T,P.T=null,p=K.p,K.p=2,w=Ve,Ve|=4;try{Rk(i,s,l)}finally{Ve=w,K.p=p,P.T=c}}xt=1,j0(),M0(),L0()}}function j0(){if(xt===1){xt=0;var i=Qi,s=Bs,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=P.T,P.T=null;var c=K.p;K.p=2;var p=Ve;Ve|=4;try{f0(s,i);var m=Yd,w=by(i.containerInfo),_=m.focusedElem,N=m.selectionRange;if(w!==_&&_&&_.ownerDocument&&vy(_.ownerDocument.documentElement,_)){if(N!==null&&bh(_)){var U=N.start,G=N.end;if(G===void 0&&(G=U),"selectionStart"in _)_.selectionStart=U,_.selectionEnd=Math.min(G,_.value.length);else{var J=_.ownerDocument||document,z=J&&J.defaultView||window;if(z.getSelection){var H=z.getSelection(),le=_.textContent.length,ye=Math.min(N.start,le),Ye=N.end===void 0?ye:Math.min(N.end,le);!H.extend&&ye>Ye&&(w=Ye,Ye=ye,ye=w);var I=yy(_,ye),L=yy(_,Ye);if(I&&L&&(H.rangeCount!==1||H.anchorNode!==I.node||H.anchorOffset!==I.offset||H.focusNode!==L.node||H.focusOffset!==L.offset)){var B=J.createRange();B.setStart(I.node,I.offset),H.removeAllRanges(),ye>Ye?(H.addRange(B),H.extend(L.node,L.offset)):(B.setEnd(L.node,L.offset),H.addRange(B))}}}}for(J=[],H=_;H=H.parentNode;)H.nodeType===1&&J.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<J.length;_++){var X=J[_];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Ru=!!Gd,Yd=Gd=null}finally{Ve=p,K.p=c,P.T=l}}i.current=s,xt=2}}function M0(){if(xt===2){xt=0;var i=Qi,s=Bs,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=P.T,P.T=null;var c=K.p;K.p=2;var p=Ve;Ve|=4;try{l0(i,s.alternate,s)}finally{Ve=p,K.p=c,P.T=l}}xt=3}}function L0(){if(xt===4||xt===3){xt=0,Xc();var i=Qi,s=Bs,l=_i,c=S0;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?xt=5:(xt=0,Bs=Qi=null,I0(i,i.pendingLanes));var p=i.pendingLanes;if(p===0&&(Ji=null),eh(l),s=s.stateNode,St&&typeof St.onCommitFiberRoot=="function")try{St.onCommitFiberRoot(Vt,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=P.T,p=K.p,K.p=2,P.T=null;try{for(var m=i.onRecoverableError,w=0;w<c.length;w++){var _=c[w];m(_.value,{componentStack:_.stack})}}finally{P.T=s,K.p=p}}(_i&3)!==0&&vu(),Yn(i),p=i.pendingLanes,(l&261930)!==0&&(p&42)!==0?i===Md?so++:(so=0,Md=i):so=0,ao(0)}}function I0(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,za(s)))}function vu(){return j0(),M0(),L0(),P0()}function P0(){if(xt!==5)return!1;var i=Qi,s=Nd;Nd=0;var l=eh(_i),c=P.T,p=K.p;try{K.p=32>l?32:l,P.T=null,l=jd,jd=null;var m=Qi,w=_i;if(xt=0,Bs=Qi=null,_i=0,(Ve&6)!==0)throw Error(r(331));var _=Ve;if(Ve|=4,v0(m.current),g0(m,m.current,w,l),Ve=_,ao(0,!1),St&&typeof St.onPostCommitFiberRoot=="function")try{St.onPostCommitFiberRoot(Vt,m)}catch{}return!0}finally{K.p=p,P.T=c,I0(i,s)}}function B0(i,s,l){s=Sn(l,s),s=dd(i.stateNode,s,2),i=qi(i,s,2),i!==null&&(Aa(i,2),Yn(i))}function qe(i,s,l){if(i.tag===3)B0(i,i,l);else for(;s!==null;){if(s.tag===3){B0(s,i,l);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Ji===null||!Ji.has(c))){i=Sn(l,i),l=Uv(2),c=qi(s,l,2),c!==null&&(zv(l,c,s,i),Aa(c,2),Yn(c));break}}s=s.return}}function Pd(i,s,l){var c=i.pingCache;if(c===null){c=i.pingCache=new jk;var p=new Set;c.set(s,p)}else p=c.get(s),p===void 0&&(p=new Set,c.set(s,p));p.has(l)||(Od=!0,p.add(l),i=Bk.bind(null,i,s,l),s.then(i,i))}function Bk(i,s,l){var c=i.pingCache;c!==null&&c.delete(s),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,Je===i&&(Me&l)===l&&(lt===4||lt===3&&(Me&62914560)===Me&&300>zt()-du?(Ve&2)===0&&Us(i,0):Rd|=l,Ps===Me&&(Ps=0)),Yn(i)}function U0(i,s){s===0&&(s=jm()),i=_r(i,s),i!==null&&(Aa(i,s),Yn(i))}function Uk(i){var s=i.memoizedState,l=0;s!==null&&(l=s.retryLane),U0(i,l)}function zk(i,s){var l=0;switch(i.tag){case 31:case 13:var c=i.stateNode,p=i.memoizedState;p!==null&&(l=p.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(s),U0(i,l)}function Vk(i,s){return os(i,s)}var bu=null,Vs=null,Bd=!1,wu=!1,Ud=!1,er=0;function Yn(i){i!==Vs&&i.next===null&&(Vs===null?bu=Vs=i:Vs=Vs.next=i),wu=!0,Bd||(Bd=!0,Hk())}function ao(i,s){if(!Ud&&wu){Ud=!0;do for(var l=!1,c=bu;c!==null;){if(i!==0){var p=c.pendingLanes;if(p===0)var m=0;else{var w=c.suspendedLanes,_=c.pingedLanes;m=(1<<31-Xe(42|i)+1)-1,m&=p&~(w&~_),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(l=!0,H0(c,m))}else m=Me,m=Tl(c,c===Je?m:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(m&3)===0||Ea(c,m)||(l=!0,H0(c,m));c=c.next}while(l);Ud=!1}}function $k(){z0()}function z0(){wu=Bd=!1;var i=0;er!==0&&Zk()&&(i=er);for(var s=zt(),l=null,c=bu;c!==null;){var p=c.next,m=V0(c,s);m===0?(c.next=null,l===null?bu=p:l.next=p,p===null&&(Vs=l)):(l=c,(i!==0||(m&3)!==0)&&(wu=!0)),c=p}xt!==0&&xt!==5||ao(i),er!==0&&(er=0)}function V0(i,s){for(var l=i.suspendedLanes,c=i.pingedLanes,p=i.expirationTimes,m=i.pendingLanes&-62914561;0<m;){var w=31-Xe(m),_=1<<w,N=p[w];N===-1?((_&l)===0||(_&c)!==0)&&(p[w]=gA(_,s)):N<=s&&(i.expiredLanes|=_),m&=~_}if(s=Je,l=Me,l=Tl(i,i===s?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,l===0||i===s&&(Fe===2||Fe===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&Ta(c),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||Ea(i,l)){if(s=l&-l,s===i.callbackPriority)return s;switch(c!==null&&Ta(c),eh(l)){case 2:case 8:l=se;break;case 32:l=we;break;case 268435456:l=He;break;default:l=we}return c=$0.bind(null,i),l=os(l,c),i.callbackPriority=s,i.callbackNode=l,s}return c!==null&&c!==null&&Ta(c),i.callbackPriority=2,i.callbackNode=null,2}function $0(i,s){if(xt!==0&&xt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(vu()&&i.callbackNode!==l)return null;var c=Me;return c=Tl(i,i===Je?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(_0(i,c,s),V0(i,zt()),i.callbackNode!=null&&i.callbackNode===l?$0.bind(null,i):null)}function H0(i,s){if(vu())return null;_0(i,s,!0)}function Hk(){tC(function(){(Ve&6)!==0?os(W,$k):z0()})}function zd(){if(er===0){var i=As;i===0&&(i=Sl,Sl<<=1,(Sl&261888)===0&&(Sl=256)),er=i}return er}function F0(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Cl(""+i)}function q0(i,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,i.id&&l.setAttribute("form",i.id),s.parentNode.insertBefore(l,s),i=new FormData(i),l.parentNode.removeChild(l),i}function Fk(i,s,l,c,p){if(s==="submit"&&l&&l.stateNode===p){var m=F0((p[Wt]||null).action),w=c.submitter;w&&(s=(s=w[Wt]||null)?F0(s.formAction):w.getAttribute("formAction"),s!==null&&(m=s,w=null));var _=new Nl("action","action",null,c,p);i.push({event:_,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(er!==0){var N=w?q0(p,w):new FormData(p);ad(l,{pending:!0,data:N,method:p.method,action:m},null,N)}}else typeof m=="function"&&(_.preventDefault(),N=w?q0(p,w):new FormData(p),ad(l,{pending:!0,data:N,method:p.method,action:m},m,N))},currentTarget:p}]})}}for(var Vd=0;Vd<_h.length;Vd++){var $d=_h[Vd],qk=$d.toLowerCase(),Kk=$d[0].toUpperCase()+$d.slice(1);Ln(qk,"on"+Kk)}Ln(xy,"onAnimationEnd"),Ln(_y,"onAnimationIteration"),Ln(Ty,"onAnimationStart"),Ln("dblclick","onDoubleClick"),Ln("focusin","onFocus"),Ln("focusout","onBlur"),Ln(lk,"onTransitionRun"),Ln(uk,"onTransitionStart"),Ln(ck,"onTransitionCancel"),Ln(Ey,"onTransitionEnd"),ds("onMouseEnter",["mouseout","mouseover"]),ds("onMouseLeave",["mouseout","mouseover"]),ds("onPointerEnter",["pointerout","pointerover"]),ds("onPointerLeave",["pointerout","pointerover"]),br("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),br("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),br("onBeforeInput",["compositionend","keypress","textInput","paste"]),br("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),br("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),br("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var oo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gk=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(oo));function K0(i,s){s=(s&4)!==0;for(var l=0;l<i.length;l++){var c=i[l],p=c.event;c=c.listeners;e:{var m=void 0;if(s)for(var w=c.length-1;0<=w;w--){var _=c[w],N=_.instance,U=_.currentTarget;if(_=_.listener,N!==m&&p.isPropagationStopped())break e;m=_,p.currentTarget=U;try{m(p)}catch(G){Ll(G)}p.currentTarget=null,m=N}else for(w=0;w<c.length;w++){if(_=c[w],N=_.instance,U=_.currentTarget,_=_.listener,N!==m&&p.isPropagationStopped())break e;m=_,p.currentTarget=U;try{m(p)}catch(G){Ll(G)}p.currentTarget=null,m=N}}}}function je(i,s){var l=s[th];l===void 0&&(l=s[th]=new Set);var c=i+"__bubble";l.has(c)||(G0(s,i,2,!1),l.add(c))}function Hd(i,s,l){var c=0;s&&(c|=4),G0(l,i,c,s)}var Su="_reactListening"+Math.random().toString(36).slice(2);function Fd(i){if(!i[Su]){i[Su]=!0,zm.forEach(function(l){l!=="selectionchange"&&(Gk.has(l)||Hd(l,!1,i),Hd(l,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Su]||(s[Su]=!0,Hd("selectionchange",!1,s))}}function G0(i,s,l,c){switch(xb(s)){case 2:var p=SC;break;case 8:p=xC;break;default:p=af}l=p.bind(null,s,l,i),p=void 0,!ch||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),c?p!==void 0?i.addEventListener(s,l,{capture:!0,passive:p}):i.addEventListener(s,l,!0):p!==void 0?i.addEventListener(s,l,{passive:p}):i.addEventListener(s,l,!1)}function qd(i,s,l,c,p){var m=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var w=c.tag;if(w===3||w===4){var _=c.stateNode.containerInfo;if(_===p)break;if(w===4)for(w=c.return;w!==null;){var N=w.tag;if((N===3||N===4)&&w.stateNode.containerInfo===p)return;w=w.return}for(;_!==null;){if(w=us(_),w===null)return;if(N=w.tag,N===5||N===6||N===26||N===27){c=m=w;continue e}_=_.parentNode}}c=c.return}Qm(function(){var U=m,G=lh(l),J=[];e:{var z=Ay.get(i);if(z!==void 0){var H=Nl,le=i;switch(i){case"keypress":if(Rl(l)===0)break e;case"keydown":case"keyup":H=zA;break;case"focusin":le="focus",H=ph;break;case"focusout":le="blur",H=ph;break;case"beforeblur":case"afterblur":H=ph;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=ty;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=CA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=HA;break;case xy:case _y:case Ty:H=DA;break;case Ey:H=qA;break;case"scroll":case"scrollend":H=AA;break;case"wheel":H=GA;break;case"copy":case"cut":case"paste":H=jA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=iy;break;case"toggle":case"beforetoggle":H=WA}var ye=(s&4)!==0,Ye=!ye&&(i==="scroll"||i==="scrollend"),I=ye?z!==null?z+"Capture":null:z;ye=[];for(var L=U,B;L!==null;){var X=L;if(B=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||B===null||I===null||(X=Oa(L,I),X!=null&&ye.push(lo(L,X,B))),Ye)break;L=L.return}0<ye.length&&(z=new H(z,le,null,l,G),J.push({event:z,listeners:ye}))}}if((s&7)===0){e:{if(z=i==="mouseover"||i==="pointerover",H=i==="mouseout"||i==="pointerout",z&&l!==oh&&(le=l.relatedTarget||l.fromElement)&&(us(le)||le[ls]))break e;if((H||z)&&(z=G.window===G?G:(z=G.ownerDocument)?z.defaultView||z.parentWindow:window,H?(le=l.relatedTarget||l.toElement,H=U,le=le?us(le):null,le!==null&&(Ye=o(le),ye=le.tag,le!==Ye||ye!==5&&ye!==27&&ye!==6)&&(le=null)):(H=null,le=U),H!==le)){if(ye=ty,X="onMouseLeave",I="onMouseEnter",L="mouse",(i==="pointerout"||i==="pointerover")&&(ye=iy,X="onPointerLeave",I="onPointerEnter",L="pointer"),Ye=H==null?z:Ca(H),B=le==null?z:Ca(le),z=new ye(X,L+"leave",H,l,G),z.target=Ye,z.relatedTarget=B,X=null,us(G)===U&&(ye=new ye(I,L+"enter",le,l,G),ye.target=B,ye.relatedTarget=Ye,X=ye),Ye=X,H&&le)t:{for(ye=Yk,I=H,L=le,B=0,X=I;X;X=ye(X))B++;X=0;for(var me=L;me;me=ye(me))X++;for(;0<B-X;)I=ye(I),B--;for(;0<X-B;)L=ye(L),X--;for(;B--;){if(I===L||L!==null&&I===L.alternate){ye=I;break t}I=ye(I),L=ye(L)}ye=null}else ye=null;H!==null&&Y0(J,z,H,ye,!1),le!==null&&Ye!==null&&Y0(J,Ye,le,ye,!0)}}e:{if(z=U?Ca(U):window,H=z.nodeName&&z.nodeName.toLowerCase(),H==="select"||H==="input"&&z.type==="file")var Be=hy;else if(uy(z))if(dy)Be=sk;else{Be=ik;var ce=nk}else H=z.nodeName,!H||H.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?U&&ah(U.elementType)&&(Be=hy):Be=rk;if(Be&&(Be=Be(i,U))){cy(J,Be,l,G);break e}ce&&ce(i,z,U),i==="focusout"&&U&&z.type==="number"&&U.memoizedProps.value!=null&&sh(z,"number",z.value)}switch(ce=U?Ca(U):window,i){case"focusin":(uy(ce)||ce.contentEditable==="true")&&(vs=ce,wh=U,Pa=null);break;case"focusout":Pa=wh=vs=null;break;case"mousedown":Sh=!0;break;case"contextmenu":case"mouseup":case"dragend":Sh=!1,wy(J,l,G);break;case"selectionchange":if(ok)break;case"keydown":case"keyup":wy(J,l,G)}var Ae;if(mh)e:{switch(i){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else ys?oy(i,l)&&(Le="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Le="onCompositionStart");Le&&(ry&&l.locale!=="ko"&&(ys||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&ys&&(Ae=Zm()):(Bi=G,hh="value"in Bi?Bi.value:Bi.textContent,ys=!0)),ce=xu(U,Le),0<ce.length&&(Le=new ny(Le,i,null,l,G),J.push({event:Le,listeners:ce}),Ae?Le.data=Ae:(Ae=ly(l),Ae!==null&&(Le.data=Ae)))),(Ae=JA?QA(i,l):ZA(i,l))&&(Le=xu(U,"onBeforeInput"),0<Le.length&&(ce=new ny("onBeforeInput","beforeinput",null,l,G),J.push({event:ce,listeners:Le}),ce.data=Ae)),Fk(J,i,U,l,G)}K0(J,s)})}function lo(i,s,l){return{instance:i,listener:s,currentTarget:l}}function xu(i,s){for(var l=s+"Capture",c=[];i!==null;){var p=i,m=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||m===null||(p=Oa(i,l),p!=null&&c.unshift(lo(i,p,m)),p=Oa(i,s),p!=null&&c.push(lo(i,p,m))),i.tag===3)return c;i=i.return}return[]}function Yk(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Y0(i,s,l,c,p){for(var m=s._reactName,w=[];l!==null&&l!==c;){var _=l,N=_.alternate,U=_.stateNode;if(_=_.tag,N!==null&&N===c)break;_!==5&&_!==26&&_!==27||U===null||(N=U,p?(U=Oa(l,m),U!=null&&w.unshift(lo(l,U,N))):p||(U=Oa(l,m),U!=null&&w.push(lo(l,U,N)))),l=l.return}w.length!==0&&i.push({event:s,listeners:w})}var Wk=/\r\n?/g,Xk=/\u0000|\uFFFD/g;function W0(i){return(typeof i=="string"?i:""+i).replace(Wk,`
`).replace(Xk,"")}function X0(i,s){return s=W0(s),W0(i)===s}function Ge(i,s,l,c,p,m){switch(l){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||ps(i,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&ps(i,""+c);break;case"className":Al(i,"class",c);break;case"tabIndex":Al(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Al(i,l,c);break;case"style":Xm(i,c,m);break;case"data":if(s!=="object"){Al(i,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||l!=="href")){i.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=Cl(""+c),i.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(l==="formAction"?(s!=="input"&&Ge(i,s,"name",p.name,p,null),Ge(i,s,"formEncType",p.formEncType,p,null),Ge(i,s,"formMethod",p.formMethod,p,null),Ge(i,s,"formTarget",p.formTarget,p,null)):(Ge(i,s,"encType",p.encType,p,null),Ge(i,s,"method",p.method,p,null),Ge(i,s,"target",p.target,p,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=Cl(""+c),i.setAttribute(l,c);break;case"onClick":c!=null&&(i.onclick=li);break;case"onScroll":c!=null&&je("scroll",i);break;case"onScrollEnd":c!=null&&je("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}l=Cl(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""+c):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":c===!0?i.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,c):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(l,c):i.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(l):i.setAttribute(l,c);break;case"popover":je("beforetoggle",i),je("toggle",i),El(i,"popover",c);break;case"xlinkActuate":oi(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":oi(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":oi(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":oi(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":oi(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":oi(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":oi(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":oi(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":oi(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":El(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=TA.get(l)||l,El(i,l,c))}}function Kd(i,s,l,c,p,m){switch(l){case"style":Xm(i,c,m);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof c=="string"?ps(i,c):(typeof c=="number"||typeof c=="bigint")&&ps(i,""+c);break;case"onScroll":c!=null&&je("scroll",i);break;case"onScrollEnd":c!=null&&je("scrollend",i);break;case"onClick":c!=null&&(i.onclick=li);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Vm.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),s=l.slice(2,p?l.length-7:void 0),m=i[Wt]||null,m=m!=null?m[l]:null,typeof m=="function"&&i.removeEventListener(s,m,p),typeof c=="function")){typeof m!="function"&&m!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(s,c,p);break e}l in i?i[l]=c:c===!0?i.setAttribute(l,""):El(i,l,c)}}}function Dt(i,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":je("error",i),je("load",i);var c=!1,p=!1,m;for(m in l)if(l.hasOwnProperty(m)){var w=l[m];if(w!=null)switch(m){case"src":c=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Ge(i,s,m,w,l,null)}}p&&Ge(i,s,"srcSet",l.srcSet,l,null),c&&Ge(i,s,"src",l.src,l,null);return;case"input":je("invalid",i);var _=m=w=p=null,N=null,U=null;for(c in l)if(l.hasOwnProperty(c)){var G=l[c];if(G!=null)switch(c){case"name":p=G;break;case"type":w=G;break;case"checked":N=G;break;case"defaultChecked":U=G;break;case"value":m=G;break;case"defaultValue":_=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,s));break;default:Ge(i,s,c,G,l,null)}}Km(i,m,_,N,U,w,p,!1);return;case"select":je("invalid",i),c=w=m=null;for(p in l)if(l.hasOwnProperty(p)&&(_=l[p],_!=null))switch(p){case"value":m=_;break;case"defaultValue":w=_;break;case"multiple":c=_;default:Ge(i,s,p,_,l,null)}s=m,l=w,i.multiple=!!c,s!=null?fs(i,!!c,s,!1):l!=null&&fs(i,!!c,l,!0);return;case"textarea":je("invalid",i),m=p=c=null;for(w in l)if(l.hasOwnProperty(w)&&(_=l[w],_!=null))switch(w){case"value":c=_;break;case"defaultValue":p=_;break;case"children":m=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(r(91));break;default:Ge(i,s,w,_,l,null)}Ym(i,c,p,m);return;case"option":for(N in l)l.hasOwnProperty(N)&&(c=l[N],c!=null)&&(N==="selected"?i.selected=c&&typeof c!="function"&&typeof c!="symbol":Ge(i,s,N,c,l,null));return;case"dialog":je("beforetoggle",i),je("toggle",i),je("cancel",i),je("close",i);break;case"iframe":case"object":je("load",i);break;case"video":case"audio":for(c=0;c<oo.length;c++)je(oo[c],i);break;case"image":je("error",i),je("load",i);break;case"details":je("toggle",i);break;case"embed":case"source":case"link":je("error",i),je("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in l)if(l.hasOwnProperty(U)&&(c=l[U],c!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Ge(i,s,U,c,l,null)}return;default:if(ah(s)){for(G in l)l.hasOwnProperty(G)&&(c=l[G],c!==void 0&&Kd(i,s,G,c,l,void 0));return}}for(_ in l)l.hasOwnProperty(_)&&(c=l[_],c!=null&&Ge(i,s,_,c,l,null))}function Jk(i,s,l,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,m=null,w=null,_=null,N=null,U=null,G=null;for(H in l){var J=l[H];if(l.hasOwnProperty(H)&&J!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":N=J;default:c.hasOwnProperty(H)||Ge(i,s,H,null,c,J)}}for(var z in c){var H=c[z];if(J=l[z],c.hasOwnProperty(z)&&(H!=null||J!=null))switch(z){case"type":m=H;break;case"name":p=H;break;case"checked":U=H;break;case"defaultChecked":G=H;break;case"value":w=H;break;case"defaultValue":_=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,s));break;default:H!==J&&Ge(i,s,z,H,c,J)}}rh(i,w,_,N,U,G,m,p);return;case"select":H=w=_=z=null;for(m in l)if(N=l[m],l.hasOwnProperty(m)&&N!=null)switch(m){case"value":break;case"multiple":H=N;default:c.hasOwnProperty(m)||Ge(i,s,m,null,c,N)}for(p in c)if(m=c[p],N=l[p],c.hasOwnProperty(p)&&(m!=null||N!=null))switch(p){case"value":z=m;break;case"defaultValue":_=m;break;case"multiple":w=m;default:m!==N&&Ge(i,s,p,m,c,N)}s=_,l=w,c=H,z!=null?fs(i,!!l,z,!1):!!c!=!!l&&(s!=null?fs(i,!!l,s,!0):fs(i,!!l,l?[]:"",!1));return;case"textarea":H=z=null;for(_ in l)if(p=l[_],l.hasOwnProperty(_)&&p!=null&&!c.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Ge(i,s,_,null,c,p)}for(w in c)if(p=c[w],m=l[w],c.hasOwnProperty(w)&&(p!=null||m!=null))switch(w){case"value":z=p;break;case"defaultValue":H=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:p!==m&&Ge(i,s,w,p,c,m)}Gm(i,z,H);return;case"option":for(var le in l)z=l[le],l.hasOwnProperty(le)&&z!=null&&!c.hasOwnProperty(le)&&(le==="selected"?i.selected=!1:Ge(i,s,le,null,c,z));for(N in c)z=c[N],H=l[N],c.hasOwnProperty(N)&&z!==H&&(z!=null||H!=null)&&(N==="selected"?i.selected=z&&typeof z!="function"&&typeof z!="symbol":Ge(i,s,N,z,c,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in l)z=l[ye],l.hasOwnProperty(ye)&&z!=null&&!c.hasOwnProperty(ye)&&Ge(i,s,ye,null,c,z);for(U in c)if(z=c[U],H=l[U],c.hasOwnProperty(U)&&z!==H&&(z!=null||H!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(137,s));break;default:Ge(i,s,U,z,c,H)}return;default:if(ah(s)){for(var Ye in l)z=l[Ye],l.hasOwnProperty(Ye)&&z!==void 0&&!c.hasOwnProperty(Ye)&&Kd(i,s,Ye,void 0,c,z);for(G in c)z=c[G],H=l[G],!c.hasOwnProperty(G)||z===H||z===void 0&&H===void 0||Kd(i,s,G,z,c,H);return}}for(var I in l)z=l[I],l.hasOwnProperty(I)&&z!=null&&!c.hasOwnProperty(I)&&Ge(i,s,I,null,c,z);for(J in c)z=c[J],H=l[J],!c.hasOwnProperty(J)||z===H||z==null&&H==null||Ge(i,s,J,z,c,H)}function J0(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Qk(){if(typeof performance.getEntriesByType=="function"){for(var i=0,s=0,l=performance.getEntriesByType("resource"),c=0;c<l.length;c++){var p=l[c],m=p.transferSize,w=p.initiatorType,_=p.duration;if(m&&_&&J0(w)){for(w=0,_=p.responseEnd,c+=1;c<l.length;c++){var N=l[c],U=N.startTime;if(U>_)break;var G=N.transferSize,J=N.initiatorType;G&&J0(J)&&(N=N.responseEnd,w+=G*(N<_?1:(_-U)/(N-U)))}if(--c,s+=8*(m+w)/(p.duration/1e3),i++,10<i)break}}if(0<i)return s/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Gd=null,Yd=null;function _u(i){return i.nodeType===9?i:i.ownerDocument}function Q0(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Z0(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function Wd(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Xd=null;function Zk(){var i=window.event;return i&&i.type==="popstate"?i===Xd?!1:(Xd=i,!0):(Xd=null,!1)}var eb=typeof setTimeout=="function"?setTimeout:void 0,eC=typeof clearTimeout=="function"?clearTimeout:void 0,tb=typeof Promise=="function"?Promise:void 0,tC=typeof queueMicrotask=="function"?queueMicrotask:typeof tb<"u"?function(i){return tb.resolve(null).then(i).catch(nC)}:eb;function nC(i){setTimeout(function(){throw i})}function tr(i){return i==="head"}function nb(i,s){var l=s,c=0;do{var p=l.nextSibling;if(i.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"||l==="/&"){if(c===0){i.removeChild(p),qs(s);return}c--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")c++;else if(l==="html")uo(i.ownerDocument.documentElement);else if(l==="head"){l=i.ownerDocument.head,uo(l);for(var m=l.firstChild;m;){var w=m.nextSibling,_=m.nodeName;m[ka]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&m.rel.toLowerCase()==="stylesheet"||l.removeChild(m),m=w}}else l==="body"&&uo(i.ownerDocument.body);l=p}while(l);qs(s)}function ib(i,s){var l=i;i=0;do{var c=l.nextSibling;if(l.nodeType===1?s?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(s?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),c&&c.nodeType===8)if(l=c.data,l==="/$"){if(i===0)break;i--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||i++;l=c}while(l)}function Jd(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Jd(l),nh(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function iC(i,s,l,c){for(;i.nodeType===1;){var p=l;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[ka])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(m=i.getAttribute("rel"),m==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(m!==p.rel||i.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||i.getAttribute("title")!==(p.title==null?null:p.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(m=i.getAttribute("src"),(m!==(p.src==null?null:p.src)||i.getAttribute("type")!==(p.type==null?null:p.type)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&m&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var m=p.name==null?null:""+p.name;if(p.type==="hidden"&&i.getAttribute("name")===m)return i}else return i;if(i=An(i.nextSibling),i===null)break}return null}function rC(i,s,l){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=An(i.nextSibling),i===null))return null;return i}function rb(i,s){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=An(i.nextSibling),i===null))return null;return i}function Qd(i){return i.data==="$?"||i.data==="$~"}function Zd(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function sC(i,s){var l=i.ownerDocument;if(i.data==="$~")i._reactRetry=s;else if(i.data!=="$?"||l.readyState!=="loading")s();else{var c=function(){s(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function An(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return i}var ef=null;function sb(i){i=i.nextSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"||l==="/&"){if(s===0)return An(i.nextSibling);s--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||s++}i=i.nextSibling}return null}function ab(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(s===0)return i;s--}else l!=="/$"&&l!=="/&"||s++}i=i.previousSibling}return null}function ob(i,s,l){switch(s=_u(l),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function uo(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);nh(i)}var kn=new Map,lb=new Set;function Tu(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Ti=K.d;K.d={f:aC,r:oC,D:lC,C:uC,L:cC,m:hC,X:fC,S:dC,M:pC};function aC(){var i=Ti.f(),s=gu();return i||s}function oC(i){var s=cs(i);s!==null&&s.tag===5&&s.type==="form"?Ev(s):Ti.r(i)}var $s=typeof document>"u"?null:document;function ub(i,s,l){var c=$s;if(c&&typeof s=="string"&&s){var p=bn(s);p='link[rel="'+i+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),lb.has(p)||(lb.add(p),i={rel:i,crossOrigin:l,href:s},c.querySelector(p)===null&&(s=c.createElement("link"),Dt(s,"link",i),Et(s),c.head.appendChild(s)))}}function lC(i){Ti.D(i),ub("dns-prefetch",i,null)}function uC(i,s){Ti.C(i,s),ub("preconnect",i,s)}function cC(i,s,l){Ti.L(i,s,l);var c=$s;if(c&&i&&s){var p='link[rel="preload"][as="'+bn(s)+'"]';s==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+bn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+bn(l.imageSizes)+'"]')):p+='[href="'+bn(i)+'"]';var m=p;switch(s){case"style":m=Hs(i);break;case"script":m=Fs(i)}kn.has(m)||(i=y({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:i,as:s},l),kn.set(m,i),c.querySelector(p)!==null||s==="style"&&c.querySelector(co(m))||s==="script"&&c.querySelector(ho(m))||(s=c.createElement("link"),Dt(s,"link",i),Et(s),c.head.appendChild(s)))}}function hC(i,s){Ti.m(i,s);var l=$s;if(l&&i){var c=s&&typeof s.as=="string"?s.as:"script",p='link[rel="modulepreload"][as="'+bn(c)+'"][href="'+bn(i)+'"]',m=p;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Fs(i)}if(!kn.has(m)&&(i=y({rel:"modulepreload",href:i},s),kn.set(m,i),l.querySelector(p)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(ho(m)))return}c=l.createElement("link"),Dt(c,"link",i),Et(c),l.head.appendChild(c)}}}function dC(i,s,l){Ti.S(i,s,l);var c=$s;if(c&&i){var p=hs(c).hoistableStyles,m=Hs(i);s=s||"default";var w=p.get(m);if(!w){var _={loading:0,preload:null};if(w=c.querySelector(co(m)))_.loading=5;else{i=y({rel:"stylesheet",href:i,"data-precedence":s},l),(l=kn.get(m))&&tf(i,l);var N=w=c.createElement("link");Et(N),Dt(N,"link",i),N._p=new Promise(function(U,G){N.onload=U,N.onerror=G}),N.addEventListener("load",function(){_.loading|=1}),N.addEventListener("error",function(){_.loading|=2}),_.loading|=4,Eu(w,s,c)}w={type:"stylesheet",instance:w,count:1,state:_},p.set(m,w)}}}function fC(i,s){Ti.X(i,s);var l=$s;if(l&&i){var c=hs(l).hoistableScripts,p=Fs(i),m=c.get(p);m||(m=l.querySelector(ho(p)),m||(i=y({src:i,async:!0},s),(s=kn.get(p))&&nf(i,s),m=l.createElement("script"),Et(m),Dt(m,"link",i),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(p,m))}}function pC(i,s){Ti.M(i,s);var l=$s;if(l&&i){var c=hs(l).hoistableScripts,p=Fs(i),m=c.get(p);m||(m=l.querySelector(ho(p)),m||(i=y({src:i,async:!0,type:"module"},s),(s=kn.get(p))&&nf(i,s),m=l.createElement("script"),Et(m),Dt(m,"link",i),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(p,m))}}function cb(i,s,l,c){var p=(p=fe.current)?Tu(p):null;if(!p)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=Hs(l.href),l=hs(p).hoistableStyles,c=l.get(s),c||(c={type:"style",instance:null,count:0,state:null},l.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=Hs(l.href);var m=hs(p).hoistableStyles,w=m.get(i);if(w||(p=p.ownerDocument||p,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(i,w),(m=p.querySelector(co(i)))&&!m._p&&(w.instance=m,w.state.loading=5),kn.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},kn.set(i,l),m||gC(p,i,l,w.state))),s&&c===null)throw Error(r(528,""));return w}if(s&&c!==null)throw Error(r(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Fs(l),l=hs(p).hoistableScripts,c=l.get(s),c||(c={type:"script",instance:null,count:0,state:null},l.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Hs(i){return'href="'+bn(i)+'"'}function co(i){return'link[rel="stylesheet"]['+i+"]"}function hb(i){return y({},i,{"data-precedence":i.precedence,precedence:null})}function gC(i,s,l,c){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=i.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),Dt(s,"link",l),Et(s),i.head.appendChild(s))}function Fs(i){return'[src="'+bn(i)+'"]'}function ho(i){return"script[async]"+i}function db(i,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var c=i.querySelector('style[data-href~="'+bn(l.href)+'"]');if(c)return s.instance=c,Et(c),c;var p=y({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),Et(c),Dt(c,"style",p),Eu(c,l.precedence,i),s.instance=c;case"stylesheet":p=Hs(l.href);var m=i.querySelector(co(p));if(m)return s.state.loading|=4,s.instance=m,Et(m),m;c=hb(l),(p=kn.get(p))&&tf(c,p),m=(i.ownerDocument||i).createElement("link"),Et(m);var w=m;return w._p=new Promise(function(_,N){w.onload=_,w.onerror=N}),Dt(m,"link",c),s.state.loading|=4,Eu(m,l.precedence,i),s.instance=m;case"script":return m=Fs(l.src),(p=i.querySelector(ho(m)))?(s.instance=p,Et(p),p):(c=l,(p=kn.get(m))&&(c=y({},l),nf(c,p)),i=i.ownerDocument||i,p=i.createElement("script"),Et(p),Dt(p,"link",c),i.head.appendChild(p),s.instance=p);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,Eu(c,l.precedence,i));return s.instance}function Eu(i,s,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=c.length?c[c.length-1]:null,m=p,w=0;w<c.length;w++){var _=c[w];if(_.dataset.precedence===s)m=_;else if(m!==p)break}m?m.parentNode.insertBefore(i,m.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(i,s.firstChild))}function tf(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function nf(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Au=null;function fb(i,s,l){if(Au===null){var c=new Map,p=Au=new Map;p.set(l,c)}else p=Au,c=p.get(l),c||(c=new Map,p.set(l,c));if(c.has(i))return c;for(c.set(i,null),l=l.getElementsByTagName(i),p=0;p<l.length;p++){var m=l[p];if(!(m[ka]||m[kt]||i==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var w=m.getAttribute(s)||"";w=i+w;var _=c.get(w);_?_.push(m):c.set(w,[m])}}return c}function pb(i,s,l){i=i.ownerDocument||i,i.head.insertBefore(l,s==="title"?i.querySelector("head > title"):null)}function mC(i,s,l){if(l===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(i=s.disabled,typeof s.precedence=="string"&&i==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function gb(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function yC(i,s,l,c){if(l.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var p=Hs(c.href),m=s.querySelector(co(p));if(m){s=m._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(i.count++,i=ku.bind(i),s.then(i,i)),l.state.loading|=4,l.instance=m,Et(m);return}m=s.ownerDocument||s,c=hb(c),(p=kn.get(p))&&tf(c,p),m=m.createElement("link"),Et(m);var w=m;w._p=new Promise(function(_,N){w.onload=_,w.onerror=N}),Dt(m,"link",c),l.instance=m}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(l,s),(s=l.state.preload)&&(l.state.loading&3)===0&&(i.count++,l=ku.bind(i),s.addEventListener("load",l),s.addEventListener("error",l))}}var rf=0;function vC(i,s){return i.stylesheets&&i.count===0&&Ou(i,i.stylesheets),0<i.count||0<i.imgCount?function(l){var c=setTimeout(function(){if(i.stylesheets&&Ou(i,i.stylesheets),i.unsuspend){var m=i.unsuspend;i.unsuspend=null,m()}},6e4+s);0<i.imgBytes&&rf===0&&(rf=62500*Qk());var p=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Ou(i,i.stylesheets),i.unsuspend)){var m=i.unsuspend;i.unsuspend=null,m()}},(i.imgBytes>rf?50:800)+s);return i.unsuspend=l,function(){i.unsuspend=null,clearTimeout(c),clearTimeout(p)}}:null}function ku(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ou(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Cu=null;function Ou(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Cu=new Map,s.forEach(bC,i),Cu=null,ku.call(i))}function bC(i,s){if(!(s.state.loading&4)){var l=Cu.get(i);if(l)var c=l.get(null);else{l=new Map,Cu.set(i,l);for(var p=i.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<p.length;m++){var w=p[m];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(l.set(w.dataset.precedence,w),c=w)}c&&l.set(null,c)}p=s.instance,w=p.getAttribute("data-precedence"),m=l.get(w)||c,m===c&&l.set(null,p),l.set(w,p),this.count++,c=ku.bind(this),p.addEventListener("load",c),p.addEventListener("error",c),m?m.parentNode.insertBefore(p,m.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(p,i.firstChild)),s.state.loading|=4}}var fo={$$typeof:C,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function wC(i,s,l,c,p,m,w,_,N){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Qc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qc(0),this.hiddenUpdates=Qc(null),this.identifierPrefix=c,this.onUncaughtError=p,this.onCaughtError=m,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function mb(i,s,l,c,p,m,w,_,N,U,G,J){return i=new wC(i,s,l,w,N,U,G,J,_),s=1,m===!0&&(s|=24),m=ln(3,null,null,s),i.current=m,m.stateNode=i,s=Ih(),s.refCount++,i.pooledCache=s,s.refCount++,m.memoizedState={element:c,isDehydrated:l,cache:s},zh(m),i}function yb(i){return i?(i=Ss,i):Ss}function vb(i,s,l,c,p,m){p=yb(p),c.context===null?c.context=p:c.pendingContext=p,c=Fi(s),c.payload={element:l},m=m===void 0?null:m,m!==null&&(c.callback=m),l=qi(i,c,s),l!==null&&(tn(l,i,s),Fa(l,i,s))}function bb(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<s?l:s}}function sf(i,s){bb(i,s),(i=i.alternate)&&bb(i,s)}function wb(i){if(i.tag===13||i.tag===31){var s=_r(i,67108864);s!==null&&tn(s,i,67108864),sf(i,67108864)}}function Sb(i){if(i.tag===13||i.tag===31){var s=fn();s=Zc(s);var l=_r(i,s);l!==null&&tn(l,i,s),sf(i,s)}}var Ru=!0;function SC(i,s,l,c){var p=P.T;P.T=null;var m=K.p;try{K.p=2,af(i,s,l,c)}finally{K.p=m,P.T=p}}function xC(i,s,l,c){var p=P.T;P.T=null;var m=K.p;try{K.p=8,af(i,s,l,c)}finally{K.p=m,P.T=p}}function af(i,s,l,c){if(Ru){var p=of(c);if(p===null)qd(i,s,c,Du,l),_b(i,c);else if(TC(p,i,s,l,c))c.stopPropagation();else if(_b(i,c),s&4&&-1<_C.indexOf(i)){for(;p!==null;){var m=cs(p);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var w=vr(m.pendingLanes);if(w!==0){var _=m;for(_.pendingLanes|=2,_.entangledLanes|=2;w;){var N=1<<31-Xe(w);_.entanglements[1]|=N,w&=~N}Yn(m),(Ve&6)===0&&(fu=zt()+500,ao(0))}}break;case 31:case 13:_=_r(m,2),_!==null&&tn(_,m,2),gu(),sf(m,2)}if(m=of(c),m===null&&qd(i,s,c,Du,l),m===p)break;p=m}p!==null&&c.stopPropagation()}else qd(i,s,c,null,l)}}function of(i){return i=lh(i),lf(i)}var Du=null;function lf(i){if(Du=null,i=us(i),i!==null){var s=o(i);if(s===null)i=null;else{var l=s.tag;if(l===13){if(i=u(s),i!==null)return i;i=null}else if(l===31){if(i=h(s),i!==null)return i;i=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Du=i,null}function xb(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Jc()){case W:return 2;case se:return 8;case we:case De:return 32;case He:return 268435456;default:return 32}default:return 32}}var uf=!1,nr=null,ir=null,rr=null,po=new Map,go=new Map,sr=[],_C="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _b(i,s){switch(i){case"focusin":case"focusout":nr=null;break;case"dragenter":case"dragleave":ir=null;break;case"mouseover":case"mouseout":rr=null;break;case"pointerover":case"pointerout":po.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":go.delete(s.pointerId)}}function mo(i,s,l,c,p,m){return i===null||i.nativeEvent!==m?(i={blockedOn:s,domEventName:l,eventSystemFlags:c,nativeEvent:m,targetContainers:[p]},s!==null&&(s=cs(s),s!==null&&wb(s)),i):(i.eventSystemFlags|=c,s=i.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),i)}function TC(i,s,l,c,p){switch(s){case"focusin":return nr=mo(nr,i,s,l,c,p),!0;case"dragenter":return ir=mo(ir,i,s,l,c,p),!0;case"mouseover":return rr=mo(rr,i,s,l,c,p),!0;case"pointerover":var m=p.pointerId;return po.set(m,mo(po.get(m)||null,i,s,l,c,p)),!0;case"gotpointercapture":return m=p.pointerId,go.set(m,mo(go.get(m)||null,i,s,l,c,p)),!0}return!1}function Tb(i){var s=us(i.target);if(s!==null){var l=o(s);if(l!==null){if(s=l.tag,s===13){if(s=u(l),s!==null){i.blockedOn=s,Bm(i.priority,function(){Sb(l)});return}}else if(s===31){if(s=h(l),s!==null){i.blockedOn=s,Bm(i.priority,function(){Sb(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Nu(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var l=of(i.nativeEvent);if(l===null){l=i.nativeEvent;var c=new l.constructor(l.type,l);oh=c,l.target.dispatchEvent(c),oh=null}else return s=cs(l),s!==null&&wb(s),i.blockedOn=l,!1;s.shift()}return!0}function Eb(i,s,l){Nu(i)&&l.delete(s)}function EC(){uf=!1,nr!==null&&Nu(nr)&&(nr=null),ir!==null&&Nu(ir)&&(ir=null),rr!==null&&Nu(rr)&&(rr=null),po.forEach(Eb),go.forEach(Eb)}function ju(i,s){i.blockedOn===s&&(i.blockedOn=null,uf||(uf=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,EC)))}var Mu=null;function Ab(i){Mu!==i&&(Mu=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Mu===i&&(Mu=null);for(var s=0;s<i.length;s+=3){var l=i[s],c=i[s+1],p=i[s+2];if(typeof c!="function"){if(lf(c||l)===null)continue;break}var m=cs(l);m!==null&&(i.splice(s,3),s-=3,ad(m,{pending:!0,data:p,method:l.method,action:c},c,p))}}))}function qs(i){function s(N){return ju(N,i)}nr!==null&&ju(nr,i),ir!==null&&ju(ir,i),rr!==null&&ju(rr,i),po.forEach(s),go.forEach(s);for(var l=0;l<sr.length;l++){var c=sr[l];c.blockedOn===i&&(c.blockedOn=null)}for(;0<sr.length&&(l=sr[0],l.blockedOn===null);)Tb(l),l.blockedOn===null&&sr.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var p=l[c],m=l[c+1],w=p[Wt]||null;if(typeof m=="function")w||Ab(l);else if(w){var _=null;if(m&&m.hasAttribute("formAction")){if(p=m,w=m[Wt]||null)_=w.formAction;else if(lf(p)!==null)continue}else _=w.action;typeof _=="function"?l[c+1]=_:(l.splice(c,3),c-=3),Ab(l)}}}function kb(){function i(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(w){return p=w})},focusReset:"manual",scroll:"manual"})}function s(){p!==null&&(p(),p=null),c||setTimeout(l,20)}function l(){if(!c&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,p=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(l,100),function(){c=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),p!==null&&(p(),p=null)}}}function cf(i){this._internalRoot=i}Lu.prototype.render=cf.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var l=s.current,c=fn();vb(l,c,i,s,null,null)},Lu.prototype.unmount=cf.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;vb(i.current,2,null,i,null,null),gu(),s[ls]=null}};function Lu(i){this._internalRoot=i}Lu.prototype.unstable_scheduleHydration=function(i){if(i){var s=Pm();i={blockedOn:null,target:i,priority:s};for(var l=0;l<sr.length&&s!==0&&s<sr[l].priority;l++);sr.splice(l,0,i),l===0&&Tb(i)}};var Cb=e.version;if(Cb!=="19.2.3")throw Error(r(527,Cb,"19.2.3"));K.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=d(s),i=i!==null?g(i):null,i=i===null?null:i.stateNode,i};var AC={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Iu.isDisabled&&Iu.supportsFiber)try{Vt=Iu.inject(AC),St=Iu}catch{}}return vo.createRoot=function(i,s){if(!a(i))throw Error(r(299));var l=!1,c="",p=Lv,m=Iv,w=Pv;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(w=s.onRecoverableError)),s=mb(i,1,!1,null,null,l,c,null,p,m,w,kb),i[ls]=s.current,Fd(i),new cf(s)},vo.hydrateRoot=function(i,s,l){if(!a(i))throw Error(r(299));var c=!1,p="",m=Lv,w=Iv,_=Pv,N=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(m=l.onUncaughtError),l.onCaughtError!==void 0&&(w=l.onCaughtError),l.onRecoverableError!==void 0&&(_=l.onRecoverableError),l.formState!==void 0&&(N=l.formState)),s=mb(i,1,!0,s,l??null,c,p,N,m,w,_,kb),s.context=yb(null),l=s.current,c=fn(),c=Zc(c),p=Fi(c),p.callback=null,qi(l,p,c),l=c,s.current.lanes=l,Aa(s,l),Yn(s),i[ls]=s.current,Fd(i),new Lu(s)},vo.version="19.2.3",vo}var Bb;function IC(){if(Bb)return ff.exports;Bb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ff.exports=LC(),ff.exports}var PC=IC();function Rc(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n}function BC(t,e,n,r){function a(o){return o instanceof n?o:new n(function(u){u(o)})}return new(n||(n=Promise))(function(o,u){function h(g){try{d(r.next(g))}catch(y){u(y)}}function f(g){try{d(r.throw(g))}catch(y){u(y)}}function d(g){g.done?o(g.value):a(g.value).then(h,f)}d((r=r.apply(t,e||[])).next())})}const UC=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Ag extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class zC extends Ag{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Ub extends Ag{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class zb extends Ag{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var wp;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(wp||(wp={}));class VC{constructor(e,{headers:n={},customFetch:r,region:a=wp.Any}={}){this.url=e,this.headers=n,this.region=a,this.fetch=UC(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return BC(this,arguments,void 0,function*(n,r={}){var a;let o,u;try{const{headers:h,method:f,body:d,signal:g,timeout:y}=r;let v={},{region:b}=r;b||(b=this.region);const x=new URL(`${this.url}/${n}`);b&&b!=="any"&&(v["x-region"]=b,x.searchParams.set("forceFunctionRegion",b));let E;d&&(h&&!Object.prototype.hasOwnProperty.call(h,"Content-Type")||!h)?typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(v["Content-Type"]="application/octet-stream",E=d):typeof d=="string"?(v["Content-Type"]="text/plain",E=d):typeof FormData<"u"&&d instanceof FormData?E=d:(v["Content-Type"]="application/json",E=JSON.stringify(d)):d&&typeof d!="string"&&!(typeof Blob<"u"&&d instanceof Blob)&&!(d instanceof ArrayBuffer)&&!(typeof FormData<"u"&&d instanceof FormData)?E=JSON.stringify(d):E=d;let T=g;y&&(u=new AbortController,o=setTimeout(()=>u.abort(),y),g?(T=u.signal,g.addEventListener("abort",()=>u.abort())):T=u.signal);const A=yield this.fetch(x.toString(),{method:f||"POST",headers:Object.assign(Object.assign(Object.assign({},v),this.headers),h),body:E,signal:T}).catch($=>{throw new zC($)}),R=A.headers.get("x-relay-error");if(R&&R==="true")throw new Ub(A);if(!A.ok)throw new zb(A);let C=((a=A.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),D;return C==="application/json"?D=yield A.json():C==="application/octet-stream"||C==="application/pdf"?D=yield A.blob():C==="text/event-stream"?D=A:C==="multipart/form-data"?D=yield A.formData():D=yield A.text(),{data:D,error:null,response:A}}catch(h){return{data:null,error:h,response:h instanceof zb||h instanceof Ub?h.context:void 0}}finally{o&&clearTimeout(o)}})}}var $C=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},HC=class{constructor(t){var e,n,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,this.urlLengthLimit=(r=t.urlLengthLimit)!==null&&r!==void 0?r:8e3,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let a=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let u=null,h=null,f=null,d=o.status,g=o.statusText;if(o.ok){var y,v;if(n.method!=="HEAD"){var b;const A=await o.text();A===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((b=n.headers.get("Accept"))===null||b===void 0)&&b.includes("application/vnd.pgrst.plan+text"))?h=A:h=JSON.parse(A))}const E=(y=n.headers.get("Prefer"))===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),T=(v=o.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");E&&T&&T.length>1&&(f=parseInt(T[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(h)&&(h.length>1?(u={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,f=null,d=406,g="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{var x;const E=await o.text();try{u=JSON.parse(E),Array.isArray(u)&&o.status===404&&(h=[],u=null,d=200,g="OK")}catch{o.status===404&&E===""?(d=204,g="No Content"):u={message:E}}if(u&&n.isMaybeSingle&&(!(u==null||(x=u.details)===null||x===void 0)&&x.includes("0 rows"))&&(u=null,d=200,g="OK"),u&&n.shouldThrowOnError)throw new $C(u)}return{error:u,data:h,count:f,status:d,statusText:g}});return this.shouldThrowOnError||(a=a.catch(o=>{var u;let h="",f="",d="";const g=o?.cause;if(g){var y,v,b,x;const A=(y=g?.message)!==null&&y!==void 0?y:"",R=(v=g?.code)!==null&&v!==void 0?v:"";h=`${(b=o?.name)!==null&&b!==void 0?b:"FetchError"}: ${o?.message}`,h+=`

Caused by: ${(x=g?.name)!==null&&x!==void 0?x:"Error"}: ${A}`,R&&(h+=` (${R})`),g?.stack&&(h+=`
${g.stack}`)}else{var E;h=(E=o?.stack)!==null&&E!==void 0?E:""}const T=this.url.toString().length;return o?.name==="AbortError"||o?.code==="ABORT_ERR"?(d="",f="Request was aborted (timeout or manual cancellation)",T>this.urlLengthLimit&&(f+=`. Note: Your request URL is ${T} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):(g?.name==="HeadersOverflowError"||g?.code==="UND_ERR_HEADERS_OVERFLOW")&&(d="",f="HTTP headers exceeded server limits (typically 16KB)",T>this.urlLengthLimit&&(f+=`. Your request URL is ${T} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(u=o?.name)!==null&&u!==void 0?u:"FetchError"}: ${o?.message}`,details:h,hint:f,code:d},data:null,count:null,status:0,statusText:""}})),a.then(t,e)}returns(){return this}overrideTypes(){return this}},FC=class extends HC{select(t){let e=!1;const n=(t??"*").split("").map(r=>/\s/.test(r)&&!e?"":(r==='"'&&(e=!e),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:n,foreignTable:r,referencedTable:a=r}={}){const o=a?`${a}.order`:"order",u=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${u?`${u},`:""}${t}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:n=e}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${t}`),this}range(t,e,{foreignTable:n,referencedTable:r=n}={}){const a=typeof r>"u"?"offset":`${r}.offset`,o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(o,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:n=!1,buffers:r=!1,wal:a=!1,format:o="text"}={}){var u;const h=[t?"analyze":null,e?"verbose":null,n?"settings":null,r?"buffers":null,a?"wal":null].filter(Boolean).join("|"),f=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${f}"; options=${h};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const Vb=new RegExp("[,()]");var ra=class extends FC{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&Vb.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}notIn(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&Vb.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`not.in.(${n})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:r}={}){let a="";r==="plain"?a="pl":r==="phrase"?a="ph":r==="websearch"&&(a="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${a}fts${o}.${e}`),this}match(t){return Object.entries(t).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(t,e,n){return this.url.searchParams.append(t,`not.${e}.${n}`),this}or(t,{foreignTable:e,referencedTable:n=e}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${t})`),this}filter(t,e,n){return this.url.searchParams.append(t,`${e}.${n}`),this}},qC=class{constructor(t,{headers:e={},schema:n,fetch:r,urlLengthLimit:a=8e3}){this.url=t,this.headers=new Headers(e),this.schema=n,this.fetch=r,this.urlLengthLimit=a}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:n=!1,count:r}=e??{},a=n?"HEAD":"GET";let o=!1;const u=(t??"*").split("").map(d=>/\s/.test(d)&&!o?"":(d==='"'&&(o=!o),d)).join(""),{url:h,headers:f}=this.cloneRequestState();return h.searchParams.set("select",u),r&&f.append("Prefer",`count=${r}`),new ra({method:a,url:h,headers:f,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(t,{count:e,defaultToNull:n=!0}={}){var r;const a="POST",{url:o,headers:u}=this.cloneRequestState();if(e&&u.append("Prefer",`count=${e}`),n||u.append("Prefer","missing=default"),Array.isArray(t)){const h=t.reduce((f,d)=>f.concat(Object.keys(d)),[]);if(h.length>0){const f=[...new Set(h)].map(d=>`"${d}"`);o.searchParams.set("columns",f.join(","))}}return new ra({method:a,url:o,headers:u,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(t,{onConflict:e,ignoreDuplicates:n=!1,count:r,defaultToNull:a=!0}={}){var o;const u="POST",{url:h,headers:f}=this.cloneRequestState();if(f.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),e!==void 0&&h.searchParams.set("on_conflict",e),r&&f.append("Prefer",`count=${r}`),a||f.append("Prefer","missing=default"),Array.isArray(t)){const d=t.reduce((g,y)=>g.concat(Object.keys(y)),[]);if(d.length>0){const g=[...new Set(d)].map(y=>`"${y}"`);h.searchParams.set("columns",g.join(","))}}return new ra({method:u,url:h,headers:f,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch,urlLengthLimit:this.urlLengthLimit})}update(t,{count:e}={}){var n;const r="PATCH",{url:a,headers:o}=this.cloneRequestState();return e&&o.append("Prefer",`count=${e}`),new ra({method:r,url:a,headers:o,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:t}={}){var e;const n="DELETE",{url:r,headers:a}=this.cloneRequestState();return t&&a.append("Prefer",`count=${t}`),new ra({method:n,url:r,headers:a,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch,urlLengthLimit:this.urlLengthLimit})}};function Go(t){"@babel/helpers - typeof";return Go=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Go(t)}function KC(t,e){if(Go(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Go(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function GC(t){var e=KC(t,"string");return Go(e)=="symbol"?e:e+""}function YC(t,e,n){return(e=GC(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $b(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Pu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$b(Object(n),!0).forEach(function(r){YC(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$b(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var WC=class w1{constructor(e,{headers:n={},schema:r,fetch:a,timeout:o,urlLengthLimit:u=8e3}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.urlLengthLimit=u;const h=a??globalThis.fetch;o!==void 0&&o>0?this.fetch=(f,d)=>{const g=new AbortController,y=setTimeout(()=>g.abort(),o),v=d?.signal;if(v){if(v.aborted)return clearTimeout(y),h(f,d);const b=()=>{clearTimeout(y),g.abort()};return v.addEventListener("abort",b,{once:!0}),h(f,Pu(Pu({},d),{},{signal:g.signal})).finally(()=>{clearTimeout(y),v.removeEventListener("abort",b)})}return h(f,Pu(Pu({},d),{},{signal:g.signal})).finally(()=>clearTimeout(y))}:this.fetch=h}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new qC(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(e){return new w1(this.url,{headers:this.headers,schema:e,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(e,n={},{head:r=!1,get:a=!1,count:o}={}){var u;let h;const f=new URL(`${this.url}/rpc/${e}`);let d;const g=b=>b!==null&&typeof b=="object"&&(!Array.isArray(b)||b.some(g)),y=r&&Object.values(n).some(g);y?(h="POST",d=n):r||a?(h=r?"HEAD":"GET",Object.entries(n).filter(([b,x])=>x!==void 0).map(([b,x])=>[b,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([b,x])=>{f.searchParams.append(b,x)})):(h="POST",d=n);const v=new Headers(this.headers);return y?v.set("Prefer",o?`count=${o},return=minimal`:"return=minimal"):o&&v.set("Prefer",`count=${o}`),new ra({method:h,url:f,headers:v,schema:this.schemaName,body:d,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch,urlLengthLimit:this.urlLengthLimit})}};class XC{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const r=n.versions;if(r&&r.node){const a=r.node,o=parseInt(a.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const JC="2.95.3",QC=`realtime-js/${JC}`,ZC="1.0.0",S1="2.0.0",Hb=S1,Sp=1e4,eO=1e3,tO=100;var cr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(cr||(cr={}));var _t;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(_t||(_t={}));var Hn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Hn||(Hn={}));var xp;(function(t){t.websocket="websocket"})(xp||(xp={}));var $r;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})($r||($r={}));class nO{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,r;const a=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(e){var n,r;const a=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},u=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,u)}_encodeUserBroadcastPush(e,n,r){var a,o;const u=e.topic,h=(a=e.ref)!==null&&a!==void 0?a:"",f=(o=e.join_ref)!==null&&o!==void 0?o:"",d=e.payload.event,g=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},y=Object.keys(g).length===0?"":JSON.stringify(g);if(f.length>255)throw new Error(`joinRef length ${f.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`ref length ${h.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`topic length ${u.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`userEvent length ${d.length} exceeds maximum of 255`);if(y.length>255)throw new Error(`metadata length ${y.length} exceeds maximum of 255`);const v=this.USER_BROADCAST_PUSH_META_LENGTH+f.length+h.length+u.length+d.length+y.length,b=new ArrayBuffer(this.HEADER_LENGTH+v);let x=new DataView(b),E=0;x.setUint8(E++,this.KINDS.userBroadcastPush),x.setUint8(E++,f.length),x.setUint8(E++,h.length),x.setUint8(E++,u.length),x.setUint8(E++,d.length),x.setUint8(E++,y.length),x.setUint8(E++,n),Array.from(f,A=>x.setUint8(E++,A.charCodeAt(0))),Array.from(h,A=>x.setUint8(E++,A.charCodeAt(0))),Array.from(u,A=>x.setUint8(E++,A.charCodeAt(0))),Array.from(d,A=>x.setUint8(E++,A.charCodeAt(0))),Array.from(y,A=>x.setUint8(E++,A.charCodeAt(0)));var T=new Uint8Array(b.byteLength+r.byteLength);return T.set(new Uint8Array(b),0),T.set(new Uint8Array(r),b.byteLength),T.buffer}decode(e,n){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return n(r)}if(typeof e=="string"){const r=JSON.parse(e),[a,o,u,h,f]=r;return n({join_ref:a,ref:o,topic:u,event:h,payload:f})}return n({})}_binaryDecode(e){const n=new DataView(e),r=n.getUint8(0),a=new TextDecoder;if(r===this.KINDS.userBroadcast)return this._decodeUserBroadcast(e,n,a)}_decodeUserBroadcast(e,n,r){const a=n.getUint8(1),o=n.getUint8(2),u=n.getUint8(3),h=n.getUint8(4);let f=this.HEADER_LENGTH+4;const d=r.decode(e.slice(f,f+a));f=f+a;const g=r.decode(e.slice(f,f+o));f=f+o;const y=r.decode(e.slice(f,f+u));f=f+u;const v=e.slice(f,e.byteLength),b=h===this.JSON_ENCODING?JSON.parse(r.decode(v)):v,x={type:this.BROADCAST_EVENT,event:g,payload:b};return u>0&&(x.meta=JSON.parse(y)),{join_ref:null,ref:null,topic:d,event:this.BROADCAST_EVENT,payload:x}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([r])=>n.includes(r)))}}class x1{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Qe;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Qe||(Qe={}));const Fb=(t,e,n={})=>{var r;const a=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((o,u)=>(o[u]=iO(u,t,e,a),o),{}):{}},iO=(t,e,n,r)=>{const a=e.find(h=>h.name===t),o=a?.type,u=n[t];return o&&!r.includes(o)?_1(o,u):_p(u)},_1=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return oO(e,n)}switch(t){case Qe.bool:return rO(e);case Qe.float4:case Qe.float8:case Qe.int2:case Qe.int4:case Qe.int8:case Qe.numeric:case Qe.oid:return sO(e);case Qe.json:case Qe.jsonb:return aO(e);case Qe.timestamp:return lO(e);case Qe.abstime:case Qe.date:case Qe.daterange:case Qe.int4range:case Qe.int8range:case Qe.money:case Qe.reltime:case Qe.text:case Qe.time:case Qe.timestamptz:case Qe.timetz:case Qe.tsrange:case Qe.tstzrange:return _p(e);default:return _p(e)}},_p=t=>t,rO=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},sO=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},aO=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},oO=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let o;const u=t.slice(1,n);try{o=JSON.parse("["+u+"]")}catch{o=u?u.split(","):[]}return o.map(h=>_1(e,h))}return t},lO=t=>typeof t=="string"?t.replace(" ","T"):t,T1=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class yf{constructor(e,n,r={},a=Sp){this.channel=e,this.event=n,this.payload=r,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var qb;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(qb||(qb={}));class Do{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},a=>{const{onJoin:o,onLeave:u,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Do.syncState(this.state,a,o,u),this.pendingDiffs.forEach(f=>{this.state=Do.syncDiff(this.state,f,o,u)}),this.pendingDiffs=[],h()}),this.channel._on(r.diff,{},a=>{const{onJoin:o,onLeave:u,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Do.syncDiff(this.state,a,o,u),h())}),this.onJoin((a,o,u)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:o,newPresences:u})}),this.onLeave((a,o,u)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:o,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,a){const o=this.cloneDeep(e),u=this.transformState(n),h={},f={};return this.map(o,(d,g)=>{u[d]||(f[d]=g)}),this.map(u,(d,g)=>{const y=o[d];if(y){const v=g.map(T=>T.presence_ref),b=y.map(T=>T.presence_ref),x=g.filter(T=>b.indexOf(T.presence_ref)<0),E=y.filter(T=>v.indexOf(T.presence_ref)<0);x.length>0&&(h[d]=x),E.length>0&&(f[d]=E)}else h[d]=g}),this.syncDiff(o,{joins:h,leaves:f},r,a)}static syncDiff(e,n,r,a){const{joins:o,leaves:u}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),a||(a=()=>{}),this.map(o,(h,f)=>{var d;const g=(d=e[h])!==null&&d!==void 0?d:[];if(e[h]=this.cloneDeep(f),g.length>0){const y=e[h].map(b=>b.presence_ref),v=g.filter(b=>y.indexOf(b.presence_ref)<0);e[h].unshift(...v)}r(h,g,f)}),this.map(u,(h,f)=>{let d=e[h];if(!d)return;const g=f.map(y=>y.presence_ref);d=d.filter(y=>g.indexOf(y.presence_ref)<0),e[h]=d,a(h,d,f),d.length===0&&delete e[h]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const a=e[r];return"metas"in a?n[r]=a.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=a,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Kb;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Kb||(Kb={}));var No;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(No||(No={}));var Ei;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Ei||(Ei={}));class oa{constructor(e,n={config:{}},r){var a,o;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=_t.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new yf(this,Hn.join,this.params,this.timeout),this.rejoinTimer=new x1(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=_t.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=_t.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=_t.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=_t.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=_t.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Hn.reply,{},(u,h)=>{this._trigger(this._replyEventName(h),u)}),this.presence=new Do(this),this.broadcastEndpointURL=T1(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,a,o;if(this.socket.isConnected()||this.socket.connect(),this.state==_t.closed){const{config:{broadcast:u,presence:h,private:f}}=this.params,d=(a=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(b=>b.filter))!==null&&a!==void 0?a:[],g=!!this.bindings[No.PRESENCE]&&this.bindings[No.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,y={},v={broadcast:u,presence:Object.assign(Object.assign({},h),{enabled:g}),postgres_changes:d,private:f};this.socket.accessTokenValue&&(y.access_token=this.socket.accessTokenValue),this._onError(b=>e?.(Ei.CHANNEL_ERROR,b)),this._onClose(()=>e?.(Ei.CLOSED)),this.updateJoinPayload(Object.assign({config:v},y)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:b})=>{var x;if(this.socket._isManualToken()||this.socket.setAuth(),b===void 0){e?.(Ei.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,T=(x=E?.length)!==null&&x!==void 0?x:0,A=[];for(let R=0;R<T;R++){const C=E[R],{filter:{event:D,schema:$,table:M,filter:F}}=C,Y=b&&b[R];if(Y&&Y.event===D&&oa.isFilterValueEqual(Y.schema,$)&&oa.isFilterValueEqual(Y.table,M)&&oa.isFilterValueEqual(Y.filter,F))A.push(Object.assign(Object.assign({},C),{id:Y.id}));else{this.unsubscribe(),this.state=_t.errored,e?.(Ei.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=A,e&&e(Ei.SUBSCRIBED);return}}).receive("error",b=>{this.state=_t.errored,e?.(Ei.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{e?.(Ei.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===_t.joined&&e===No.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var a;if(n==null)return Promise.reject("Payload is required for httpSend()");const o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const u={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},h=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(a=r.timeout)!==null&&a!==void 0?a:this.timeout);if(h.status===202)return{success:!0};let f=h.statusText;try{const d=await h.json();f=d.error||d.message||f}catch{}return Promise.reject(new Error(f))}async send(e,n={}){var r,a;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:u}=e,h={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(h.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:h,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:u,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((a=d.body)===null||a===void 0?void 0:a.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var u,h,f;const d=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((f=(h=(u=this.params)===null||u===void 0?void 0:u.config)===null||h===void 0?void 0:h.broadcast)===null||f===void 0)&&f.ack)&&o("ok"),d.receive("ok",()=>o("ok")),d.receive("error",()=>o("error")),d.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=_t.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Hn.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(a=>{r=new yf(this,Hn.leave,{},e),r.receive("ok",()=>{n(),a("ok")}).receive("timeout",()=>{n(),a("timed out")}).receive("error",()=>{a("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=_t.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const a=new AbortController,o=setTimeout(()=>a.abort(),r),u=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:a.signal}));return clearTimeout(o),u}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new yf(this,e,n,r);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>tO){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var a,o;const u=e.toLocaleLowerCase(),{close:h,error:f,leave:d,join:g}=Hn;if(r&&[h,f,d,g].indexOf(u)>=0&&r!==this._joinRef())return;let v=this._onMessage(u,n,r);if(n&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(b=>{var x,E,T;return((x=b.filter)===null||x===void 0?void 0:x.event)==="*"||((T=(E=b.filter)===null||E===void 0?void 0:E.event)===null||T===void 0?void 0:T.toLocaleLowerCase())===u}).map(b=>b.callback(v,r)):(o=this.bindings[u])===null||o===void 0||o.filter(b=>{var x,E,T,A,R,C;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in b){const D=b.id,$=(x=b.filter)===null||x===void 0?void 0:x.event;return D&&((E=n.ids)===null||E===void 0?void 0:E.includes(D))&&($==="*"||$?.toLocaleLowerCase()===((T=n.data)===null||T===void 0?void 0:T.type.toLocaleLowerCase()))}else{const D=(R=(A=b?.filter)===null||A===void 0?void 0:A.event)===null||R===void 0?void 0:R.toLocaleLowerCase();return D==="*"||D===((C=n?.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===u}).map(b=>{if(typeof v=="object"&&"ids"in v){const x=v.data,{schema:E,table:T,commit_timestamp:A,type:R,errors:C}=x;v=Object.assign(Object.assign({},{schema:E,table:T,commit_timestamp:A,eventType:R,new:{},old:{},errors:C}),this._getPayloadRecords(x))}b.callback(v,r)})}_isClosed(){return this.state===_t.closed}_isJoined(){return this.state===_t.joined}_isJoining(){return this.state===_t.joining}_isLeaving(){return this.state===_t.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const a=e.toLocaleLowerCase(),o={type:a,filter:n,callback:r};return this.bindings[a]?this.bindings[a].push(o):this.bindings[a]=[o],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(a=>{var o;return!(((o=a.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&oa.isEqual(a.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Hn.close,{},e)}_onError(e){this._on(Hn.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=_t.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Fb(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Fb(e.columns,e.old_record)),n}}const vf=()=>{},Bu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},uO=[1e3,2e3,5e3,1e4],cO=1e4,hO=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class dO{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Sp,this.transport=null,this.heartbeatIntervalMs=Bu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=vf,this.ref=0,this.reconnectTimer=null,this.vsn=Hb,this.logger=vf,this.conn=null,this.sendBuffer=[],this.serializer=new nO,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=a=>a?(...o)=>a(...o):(...o)=>fetch(...o),!(!((r=n?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${xp.websocket}`,this.httpEndpoint=T1(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=XC.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return n==="ok"&&this._remove(e),this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case cr.connecting:return $r.Connecting;case cr.open:return $r.Open;case cr.closing:return $r.Closing;default:return $r.Closed}}isConnected(){return this.connectionState()===$r.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,a=this.getChannels().find(o=>o.topic===r);if(a)return a;{const o=new oa(`realtime:${e}`,n,this);return this.channels.push(o),o}}push(e){const{topic:n,event:r,payload:a,ref:o}=e,u=()=>{this.encode(e,h=>{var f;(f=this.conn)===null||f===void 0||f.send(h)})};this.log("push",`${n} ${r} (${o})`,a),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(eO,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Bu.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const d=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",d)}catch(g){this.log("error","error in heartbeat callback",g)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:a,payload:o,ref:u}=n,h=u?`(${u})`:"",f=o.status||"";this.log("receive",`${f} ${r} ${a} ${h}`.trim(),o),this.channels.filter(d=>d._isMember(r)).forEach(d=>d._trigger(a,o,u)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===cr.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===cr.open||this.conn.readyState===cr.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e);try{this.heartbeatCallback("error")}catch(n){this.log("error","error in heartbeat callback",n)}}_triggerChanError(){this.channels.forEach(e=>e._trigger(Hn.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",a=new URLSearchParams(n);return`${e}${r}${a}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([hO],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,r=!1;if(e)n=e,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(a=>{const o={access_token:n,version:QC};n&&a.updateJoinPayload(o),a.joinedOnce&&a._isJoined()&&a._push(Hn.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(a){this.log("error",`error in ${e} callback`,a)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new x1(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Bu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,a,o,u,h,f,d,g,y,v,b;switch(this.transport=(n=e?.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e?.timeout)!==null&&r!==void 0?r:Sp,this.heartbeatIntervalMs=(a=e?.heartbeatIntervalMs)!==null&&a!==void 0?a:Bu.HEARTBEAT_INTERVAL,this.worker=(o=e?.worker)!==null&&o!==void 0?o:!1,this.accessToken=(u=e?.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(h=e?.heartbeatCallback)!==null&&h!==void 0?h:vf,this.vsn=(f=e?.vsn)!==null&&f!==void 0?f:Hb,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=e?.reconnectAfterMs)!==null&&d!==void 0?d:(x=>uO[x-1]||cO),this.vsn){case ZC:this.encode=(g=e?.encode)!==null&&g!==void 0?g:((x,E)=>E(JSON.stringify(x))),this.decode=(y=e?.decode)!==null&&y!==void 0?y:((x,E)=>E(JSON.parse(x)));break;case S1:this.encode=(v=e?.encode)!==null&&v!==void 0?v:this.serializer.encode.bind(this.serializer),this.decode=(b=e?.decode)!==null&&b!==void 0?b:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}var Yo=class extends Error{constructor(t,e){super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function fO(t,e,n){const r=new URL(e,t);if(n)for(const[a,o]of Object.entries(n))o!==void 0&&r.searchParams.set(a,o);return r.toString()}async function pO(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function gO(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:a,body:o,headers:u}){const h=fO(t.baseUrl,r,a),f=await pO(t.auth),d=await e(h,{method:n,headers:{...o?{"Content-Type":"application/json"}:{},...f,...u},body:o?JSON.stringify(o):void 0}),g=await d.text(),y=(d.headers.get("content-type")||"").includes("application/json"),v=y&&g?JSON.parse(g):g;if(!d.ok){const b=y?v:void 0,x=b?.error;throw new Yo(x?.message??`Request failed with status ${d.status}`,{status:d.status,icebergType:x?.type,icebergCode:x?.code,details:b})}return{status:d.status,headers:d.headers,data:v}}}}function Uu(t){return t.join("")}var mO=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Uu(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Uu(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Uu(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Uu(t.namespace)}`}),!0}catch(e){if(e instanceof Yo&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof Yo&&n.status===409)return;throw n}}};function Ks(t){return t.join("")}var yO=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ks(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ks(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ks(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ks(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ks(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ks(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof Yo&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof Yo&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},vO=class{constructor(t){let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=gO({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=t.accessDelegation?.join(","),this.namespaceOps=new mO(this.client,e),this.tableOps=new yO(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},Dc=class extends Error{constructor(e,n="storage",r,a){super(e),this.__isStorageError=!0,this.namespace=n,this.name=n==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=a}};function Nc(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var zu=class extends Dc{constructor(t,e,n,r="storage"){super(t,r,e,n),this.name=r==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},E1=class extends Dc{constructor(t,e,n="storage"){super(t,n),this.name=n==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=e}};const bO=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),wO=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Tp=t=>{if(Array.isArray(t))return t.map(n=>Tp(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const a=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[a]=Tp(r)}),e},SO=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function Wo(t){"@babel/helpers - typeof";return Wo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wo(t)}function xO(t,e){if(Wo(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _O(t){var e=xO(t,"string");return Wo(e)=="symbol"?e:e+""}function TO(t,e,n){return(e=_O(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function be(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Gb(Object(n),!0).forEach(function(r){TO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gb(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const Yb=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},EO=async(t,e,n,r)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!n?.noResolveJson){const a=t,o=a.status||500;if(typeof a.json=="function")a.json().then(u=>{const h=u?.statusCode||u?.code||o+"";e(new zu(Yb(u),o,h,r))}).catch(()=>{if(r==="vectors"){const u=o+"";e(new zu(a.statusText||`HTTP ${o} error`,o,u,r))}else{const u=o+"";e(new zu(a.statusText||`HTTP ${o} error`,o,u,r))}});else{const u=o+"";e(new zu(a.statusText||`HTTP ${o} error`,o,u,r))}}else e(new E1(Yb(t),t,r))},AO=(t,e,n,r)=>{const a={method:t,headers:e?.headers||{}};return t==="GET"||t==="HEAD"||!r?be(be({},a),n):(wO(r)?(a.headers=be({"Content-Type":"application/json"},e?.headers),a.body=JSON.stringify(r)):a.body=r,e?.duplex&&(a.duplex=e.duplex),be(be({},a),n))};async function bo(t,e,n,r,a,o,u){return new Promise((h,f)=>{t(n,AO(e,r,a,o)).then(d=>{if(!d.ok)throw d;if(r?.noResolveJson)return d;if(u==="vectors"){const g=d.headers.get("content-type");if(d.headers.get("content-length")==="0"||d.status===204)return{};if(!g||!g.includes("application/json"))return{}}return d.json()}).then(d=>h(d)).catch(d=>EO(d,f,r,u))})}function A1(t="storage"){return{get:async(e,n,r,a)=>bo(e,"GET",n,r,a,void 0,t),post:async(e,n,r,a,o)=>bo(e,"POST",n,a,o,r,t),put:async(e,n,r,a,o)=>bo(e,"PUT",n,a,o,r,t),head:async(e,n,r,a)=>bo(e,"HEAD",n,be(be({},r),{},{noResolveJson:!0}),a,void 0,t),remove:async(e,n,r,a,o)=>bo(e,"DELETE",n,a,o,r,t)}}const kO=A1("storage"),{get:Xo,post:Vn,put:Ep,head:CO,remove:kg}=kO,mn=A1("vectors");var va=class{constructor(t,e={},n,r="storage"){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.fetch=bO(n),this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(t){var e=this;try{return{data:await t(),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Nc(n))return{data:null,error:n};throw n}}},OO=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Nc(e))return{data:null,error:e};throw e}}};let k1;k1=Symbol.toStringTag;var RO=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[k1]="BlobDownloadBuilder",this.promise=null}asStream(){return new OO(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Nc(e))return{data:null,error:e};throw e}}};const DO={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Wb={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var NO=class extends va{constructor(t,e={},n,r){super(t,e,r,"storage"),this.bucketId=n}async uploadOrUpdate(t,e,n,r){var a=this;return a.handleOperation(async()=>{let o;const u=be(be({},Wb),r);let h=be(be({},a.headers),t==="POST"&&{"x-upsert":String(u.upsert)});const f=u.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",u.cacheControl),f&&o.append("metadata",a.encodeMetadata(f)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.has("cacheControl")||o.append("cacheControl",u.cacheControl),f&&!o.has("metadata")&&o.append("metadata",a.encodeMetadata(f))):(o=n,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType,f&&(h["x-metadata"]=a.toBase64(a.encodeMetadata(f))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!u.duplex&&(u.duplex="half")),r?.headers&&(h=be(be({},h),r.headers));const d=a._removeEmptyFolders(e),g=a._getFinalPath(d),y=await(t=="PUT"?Ep:Vn)(a.fetch,`${a.url}/object/${g}`,o,be({headers:h},u?.duplex?{duplex:u.duplex}:{}));return{path:d,id:y.Id,fullPath:y.Key}})}async upload(t,e,n){return this.uploadOrUpdate("POST",t,e,n)}async uploadToSignedUrl(t,e,n,r){var a=this;const o=a._removeEmptyFolders(t),u=a._getFinalPath(o),h=new URL(a.url+`/object/upload/sign/${u}`);return h.searchParams.set("token",e),a.handleOperation(async()=>{let f;const d=be({upsert:Wb.upsert},r),g=be(be({},a.headers),{"x-upsert":String(d.upsert)});return typeof Blob<"u"&&n instanceof Blob?(f=new FormData,f.append("cacheControl",d.cacheControl),f.append("",n)):typeof FormData<"u"&&n instanceof FormData?(f=n,f.append("cacheControl",d.cacheControl)):(f=n,g["cache-control"]=`max-age=${d.cacheControl}`,g["content-type"]=d.contentType),{path:o,fullPath:(await Ep(a.fetch,h.toString(),f,{headers:g})).Key}})}async createSignedUploadUrl(t,e){var n=this;return n.handleOperation(async()=>{let r=n._getFinalPath(t);const a=be({},n.headers);e?.upsert&&(a["x-upsert"]="true");const o=await Vn(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:a}),u=new URL(n.url+o.url),h=u.searchParams.get("token");if(!h)throw new Dc("No token returned by API");return{signedUrl:u.toString(),path:t,token:h}})}async update(t,e,n){return this.uploadOrUpdate("PUT",t,e,n)}async move(t,e,n){var r=this;return r.handleOperation(async()=>await Vn(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n?.destinationBucket},{headers:r.headers}))}async copy(t,e,n){var r=this;return r.handleOperation(async()=>({path:(await Vn(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n?.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(t,e,n){var r=this;return r.handleOperation(async()=>{let a=r._getFinalPath(t),o=await Vn(r.fetch,`${r.url}/object/sign/${a}`,be({expiresIn:e},n?.transform?{transform:n.transform}:{}),{headers:r.headers});const u=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{signedUrl:encodeURI(`${r.url}${o.signedURL}${u}`)}})}async createSignedUrls(t,e,n){var r=this;return r.handleOperation(async()=>{const a=await Vn(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:e,paths:t},{headers:r.headers}),o=n?.download?`&download=${n.download===!0?"":n.download}`:"";return a.map(u=>be(be({},u),{},{signedUrl:u.signedURL?encodeURI(`${r.url}${u.signedURL}${o}`):null}))})}download(t,e,n){const r=typeof e?.transform<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString(e?.transform||{}),o=a?`?${a}`:"",u=this._getFinalPath(t),h=()=>Xo(this.fetch,`${this.url}/${r}/${u}${o}`,{headers:this.headers,noResolveJson:!0},n);return new RO(h,this.shouldThrowOnError)}async info(t){var e=this;const n=e._getFinalPath(t);return e.handleOperation(async()=>Tp(await Xo(e.fetch,`${e.url}/object/info/${n}`,{headers:e.headers})))}async exists(t){var e=this;const n=e._getFinalPath(t);try{return await CO(e.fetch,`${e.url}/object/${n}`,{headers:e.headers}),{data:!0,error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Nc(r)&&r instanceof E1){const a=r.originalError;if([400,404].includes(a?.status))return{data:!1,error:r}}throw r}}getPublicUrl(t,e){const n=this._getFinalPath(t),r=[],a=e?.download?`download=${e.download===!0?"":e.download}`:"";a!==""&&r.push(a);const o=typeof e?.transform<"u"?"render/image":"object",u=this.transformOptsToQueryString(e?.transform||{});u!==""&&r.push(u);let h=r.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${h}`)}}}async remove(t){var e=this;return e.handleOperation(async()=>await kg(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}))}async list(t,e,n){var r=this;return r.handleOperation(async()=>{const a=be(be(be({},DO),e),{},{prefix:t||""});return await Vn(r.fetch,`${r.url}/object/list/${r.bucketId}`,a,{headers:r.headers},n)})}async listV2(t,e){var n=this;return n.handleOperation(async()=>{const r=be({},t);return await Vn(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},e)})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const jO="2.95.3",cl={"X-Client-Info":`storage-js/${jO}`};var MO=class extends va{constructor(t,e={},n,r){const a=new URL(t);r?.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase."));const o=a.href.replace(/\/$/,""),u=be(be({},cl),e);super(o,u,n,"storage")}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const n=e.listBucketOptionsToQueryString(t);return await Xo(e.fetch,`${e.url}/bucket${n}`,{headers:e.headers})})}async getBucket(t){var e=this;return e.handleOperation(async()=>await Xo(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}))}async createBucket(t,e={public:!1}){var n=this;return n.handleOperation(async()=>await Vn(n.fetch,`${n.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}))}async updateBucket(t,e){var n=this;return n.handleOperation(async()=>await Ep(n.fetch,`${n.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}))}async emptyBucket(t){var e=this;return e.handleOperation(async()=>await Vn(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await kg(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},LO=class extends va{constructor(t,e={},n){const r=t.replace(/\/$/,""),a=be(be({},cl),e);super(r,a,n,"storage")}async createBucket(t){var e=this;return e.handleOperation(async()=>await Vn(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}))}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const n=new URLSearchParams;t?.limit!==void 0&&n.set("limit",t.limit.toString()),t?.offset!==void 0&&n.set("offset",t.offset.toString()),t?.sortColumn&&n.set("sortColumn",t.sortColumn),t?.sortOrder&&n.set("sortOrder",t.sortOrder),t?.search&&n.set("search",t.search);const r=n.toString(),a=r?`${e.url}/bucket?${r}`:`${e.url}/bucket`;return await Xo(e.fetch,a,{headers:e.headers})})}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await kg(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}from(t){var e=this;if(!SO(t))throw new Dc("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new vO({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(a,o){const u=a[o];return typeof u!="function"?u:async(...h)=>{try{return{data:await u.apply(a,h),error:null}}catch(f){if(r)throw f;return{data:null,error:f}}}}})}},IO=class extends va{constructor(t,e={},n){const r=t.replace(/\/$/,""),a=be(be({},cl),{},{"Content-Type":"application/json"},e);super(r,a,n,"vectors")}async createIndex(t){var e=this;return e.handleOperation(async()=>await mn.post(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{})}async getIndex(t,e){var n=this;return n.handleOperation(async()=>await mn.post(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers}))}async listIndexes(t){var e=this;return e.handleOperation(async()=>await mn.post(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}))}async deleteIndex(t,e){var n=this;return n.handleOperation(async()=>await mn.post(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers})||{})}},PO=class extends va{constructor(t,e={},n){const r=t.replace(/\/$/,""),a=be(be({},cl),{},{"Content-Type":"application/json"},e);super(r,a,n,"vectors")}async putVectors(t){var e=this;if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return e.handleOperation(async()=>await mn.post(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{})}async getVectors(t){var e=this;return e.handleOperation(async()=>await mn.post(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}))}async listVectors(t){var e=this;if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return e.handleOperation(async()=>await mn.post(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}))}async queryVectors(t){var e=this;return e.handleOperation(async()=>await mn.post(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}))}async deleteVectors(t){var e=this;if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return e.handleOperation(async()=>await mn.post(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{})}},BO=class extends va{constructor(t,e={},n){const r=t.replace(/\/$/,""),a=be(be({},cl),{},{"Content-Type":"application/json"},e);super(r,a,n,"vectors")}async createBucket(t){var e=this;return e.handleOperation(async()=>await mn.post(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}async getBucket(t){var e=this;return e.handleOperation(async()=>await mn.post(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}))}async listBuckets(t={}){var e=this;return e.handleOperation(async()=>await mn.post(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await mn.post(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}},UO=class extends BO{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new zO(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,n=this;return e().call(n,t)}async getBucket(t){var e=()=>super.getBucket,n=this;return e().call(n,t)}async listBuckets(t={}){var e=()=>super.listBuckets,n=this;return e().call(n,t)}async deleteBucket(t){var e=()=>super.deleteBucket,n=this;return e().call(n,t)}},zO=class extends IO{constructor(t,e,n,r){super(t,e,r),this.vectorBucketName=n}async createIndex(t){var e=()=>super.createIndex,n=this;return e().call(n,be(be({},t),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,n=this;return e().call(n,be(be({},t),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,n=this;return e().call(n,n.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,n=this;return e().call(n,n.vectorBucketName,t)}index(t){return new VO(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},VO=class extends PO{constructor(t,e,n,r,a){super(t,e,a),this.vectorBucketName=n,this.indexName=r}async putVectors(t){var e=()=>super.putVectors,n=this;return e().call(n,be(be({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(t){var e=()=>super.getVectors,n=this;return e().call(n,be(be({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,n=this;return e().call(n,be(be({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,n=this;return e().call(n,be(be({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,n=this;return e().call(n,be(be({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},$O=class extends MO{constructor(t,e={},n,r){super(t,e,n,r)}from(t){return new NO(this.url,this.headers,t,this.fetch)}get vectors(){return new UO(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new LO(this.url+"/iceberg",this.headers,this.fetch)}};const C1="2.95.3",sa=30*1e3,Ap=3,bf=Ap*sa,HO="http://localhost:9999",FO="supabase.auth.token",qO={"X-Client-Info":`gotrue-js/${C1}`},kp="X-Supabase-Api-Version",O1={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},KO=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,GO=600*1e3;class Jo extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function pe(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class YO extends Jo{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function WO(t){return pe(t)&&t.name==="AuthApiError"}class Hr extends Jo{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class ji extends Jo{constructor(e,n,r,a){super(e,r,a),this.name=n,this.status=r}}class pn extends ji{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function wf(t){return pe(t)&&t.name==="AuthSessionMissingError"}class Gs extends ji{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Vu extends ji{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class $u extends ji{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function XO(t){return pe(t)&&t.name==="AuthImplicitGrantRedirectError"}class Xb extends ji{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class JO extends ji{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Cp extends ji{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Sf(t){return pe(t)&&t.name==="AuthRetryableFetchError"}class Jb extends ji{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Op extends ji{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const oc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Qb=` 	
\r=`.split(""),QO=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Qb.length;e+=1)t[Qb[e].charCodeAt(0)]=-2;for(let e=0;e<oc.length;e+=1)t[oc[e].charCodeAt(0)]=e;return t})();function Zb(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(oc[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(oc[r]),e.queuedBits-=6}}function R1(t,e,n){const r=QO[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function ew(t){const e=[],n=u=>{e.push(String.fromCodePoint(u))},r={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},o=u=>{tR(u,r,n)};for(let u=0;u<t.length;u+=1)R1(t.charCodeAt(u),a,o);return e.join("")}function ZO(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function eR(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const a=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|a)+65536,n+=1}ZO(r,e)}}function tR(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function da(t){const e=[],n={queue:0,queuedBits:0},r=a=>{e.push(a)};for(let a=0;a<t.length;a+=1)R1(t.charCodeAt(a),n,r);return new Uint8Array(e)}function nR(t){const e=[];return eR(t,n=>e.push(n)),new Uint8Array(e)}function Kr(t){const e=[],n={queue:0,queuedBits:0},r=a=>{e.push(a)};return t.forEach(a=>Zb(a,n,r)),Zb(null,n,r),e.join("")}function iR(t){return Math.round(Date.now()/1e3)+t}function rR(){return Symbol("auth-callback")}const Mt=()=>typeof window<"u"&&typeof document<"u",Ir={tested:!1,writable:!1},D1=()=>{if(!Mt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ir.tested)return Ir.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Ir.tested=!0,Ir.writable=!0}catch{Ir.tested=!0,Ir.writable=!1}return Ir.writable};function sR(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((a,o)=>{e[o]=a})}catch{}return n.searchParams.forEach((r,a)=>{e[a]=r}),e}const N1=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),aR=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",aa=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Pr=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Nt=async(t,e)=>{await t.removeItem(e)};let j1=class M1{constructor(){this.promise=new M1.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}};j1.promiseConstructor=Promise;function Hu(t){const e=t.split(".");if(e.length!==3)throw new Op("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!KO.test(e[r]))throw new Op("JWT not in base64url format");return{header:JSON.parse(ew(e[0])),payload:JSON.parse(ew(e[1])),signature:da(e[2]),raw:{header:e[0],payload:e[1]}}}async function oR(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function lR(t,e){return new Promise((r,a)=>{(async()=>{for(let o=0;o<1/0;o++)try{const u=await t(o);if(!e(o,null,u)){r(u);return}}catch(u){if(!e(o,u)){a(u);return}}})()})}function uR(t){return("0"+t.toString(16)).substr(-2)}function cR(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let a="";for(let o=0;o<56;o++)a+=n.charAt(Math.floor(Math.random()*r));return a}return crypto.getRandomValues(e),Array.from(e,uR).join("")}async function hR(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),a=new Uint8Array(r);return Array.from(a).map(o=>String.fromCharCode(o)).join("")}async function dR(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await hR(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ys(t,e,n=!1){const r=cR();let a=r;n&&(a+="/PASSWORD_RECOVERY"),await aa(t,`${e}-code-verifier`,a);const o=await dR(r);return[o,r===o?"plain":"s256"]}const fR=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function pR(t){const e=t.headers.get(kp);if(!e||!e.match(fR))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function gR(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function mR(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const yR=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ws(t){if(!yR.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function xf(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function vR(t,e){return new Proxy(t,{get:(n,r,a)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const o=r.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,a)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,a)}})}function tw(t){return JSON.parse(JSON.stringify(t))}const Ur=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),bR=[502,503,504];async function nw(t){var e;if(!aR(t))throw new Cp(Ur(t),0);if(bR.includes(t.status))throw new Cp(Ur(t),t.status);let n;try{n=await t.json()}catch(o){throw new Hr(Ur(o),o)}let r;const a=pR(t);if(a&&a.getTime()>=O1["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Jb(Ur(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new pn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,u)=>o&&typeof u=="string",!0))throw new Jb(Ur(n),t.status,n.weak_password.reasons);throw new YO(Ur(n),t.status||500,r)}const wR=(t,e,n,r)=>{const a={method:t,headers:e?.headers||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),a.body=JSON.stringify(r),Object.assign(Object.assign({},a),n))};async function ve(t,e,n,r){var a;const o=Object.assign({},r?.headers);o[kp]||(o[kp]=O1["2024-01-01"].name),r?.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const u=(a=r?.query)!==null&&a!==void 0?a:{};r?.redirectTo&&(u.redirect_to=r.redirectTo);const h=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",f=await SR(t,e,n+h,{headers:o,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(f):{data:Object.assign({},f),error:null}}async function SR(t,e,n,r,a,o){const u=wR(e,r,a,o);let h;try{h=await t(n,Object.assign({},u))}catch(f){throw console.error(f),new Cp(Ur(f),0)}if(h.ok||await nw(h),r?.noResolveJson)return h;try{return await h.json()}catch(f){await nw(f)}}function Un(t){var e;let n=null;TR(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=iR(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function iw(t){const e=Un(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function hr(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function xR(t){return{data:t,error:null}}function _R(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:a,verification_type:o}=t,u=Rc(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:e,email_otp:n,hashed_token:r,redirect_to:a,verification_type:o},f=Object.assign({},u);return{data:{properties:h,user:f},error:null}}function rw(t){return t}function TR(t){return t.access_token&&t.refresh_token&&t.expires_in}const _f=["global","local","others"];class ER{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=N1(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=_f[0]){if(_f.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${_f.join(", ")}`);try{return await ve(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(pe(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await ve(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:hr})}catch(r){if(pe(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=Rc(e,["options"]),a=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(a.new_email=r?.newEmail,delete a.newEmail),await ve(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:_R,redirectTo:n?.redirectTo})}catch(n){if(pe(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await ve(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:hr})}catch(n){if(pe(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,a,o,u,h,f;try{const d={nextPage:null,lastPage:0,total:0},g=await ve(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(a=e?.perPage)===null||a===void 0?void 0:a.toString())!==null&&o!==void 0?o:""},xform:rw});if(g.error)throw g.error;const y=await g.json(),v=(u=g.headers.get("x-total-count"))!==null&&u!==void 0?u:0,b=(f=(h=g.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&f!==void 0?f:[];return b.length>0&&(b.forEach(x=>{const E=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(x.split(";")[1].split("=")[1]);d[`${T}Page`]=E}),d.total=parseInt(v)),{data:Object.assign(Object.assign({},y),d),error:null}}catch(d){if(pe(d))return{data:{users:[]},error:d};throw d}}async getUserById(e){Ws(e);try{return await ve(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:hr})}catch(n){if(pe(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Ws(e);try{return await ve(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:hr})}catch(r){if(pe(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){Ws(e);try{return await ve(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:hr})}catch(r){if(pe(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Ws(e.userId);try{const{data:n,error:r}=await ve(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:n,error:r}}catch(n){if(pe(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Ws(e.userId),Ws(e.id);try{return{data:await ve(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(pe(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,a,o,u,h,f;try{const d={nextPage:null,lastPage:0,total:0},g=await ve(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(a=e?.perPage)===null||a===void 0?void 0:a.toString())!==null&&o!==void 0?o:""},xform:rw});if(g.error)throw g.error;const y=await g.json(),v=(u=g.headers.get("x-total-count"))!==null&&u!==void 0?u:0,b=(f=(h=g.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&f!==void 0?f:[];return b.length>0&&(b.forEach(x=>{const E=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(x.split(";")[1].split("=")[1]);d[`${T}Page`]=E}),d.total=parseInt(v)),{data:Object.assign(Object.assign({},y),d),error:null}}catch(d){if(pe(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(e){try{return await ve(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(pe(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await ve(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(pe(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await ve(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(pe(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await ve(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(pe(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await ve(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(pe(n))return{data:null,error:n};throw n}}}function sw(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const Xs={debug:!!(globalThis&&D1()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class L1 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class AR extends L1{}async function kR(t,e,n){Xs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Xs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async a=>{if(a){Xs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,a.name);try{return await n()}finally{Xs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,a.name)}}else{if(e===0)throw Xs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new AR(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Xs.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function CR(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function I1(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function OR(t){return parseInt(t,16)}function RR(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function DR(t){var e;const{chainId:n,domain:r,expirationTime:a,issuedAt:o=new Date,nonce:u,notBefore:h,requestId:f,resources:d,scheme:g,uri:y,version:v}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!y)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const b=I1(t.address),x=g?`${g}://${r}`:r,E=t.statement?`${t.statement}
`:"",T=`${x} wants you to sign in with your Ethereum account:
${b}

${E}`;let A=`URI: ${y}
Version: ${v}
Chain ID: ${n}${u?`
Nonce: ${u}`:""}
Issued At: ${o.toISOString()}`;if(a&&(A+=`
Expiration Time: ${a.toISOString()}`),h&&(A+=`
Not Before: ${h.toISOString()}`),f&&(A+=`
Request ID: ${f}`),d){let R=`
Resources:`;for(const C of d){if(!C||typeof C!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${C}`);R+=`
- ${C}`}A+=R}return`${T}
${A}`}class bt extends Error{constructor({message:e,code:n,cause:r,name:a}){var o;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=a??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}}class lc extends bt{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function NR({error:t,options:e}){var n,r,a;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new bt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new bt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new bt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((a=o.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new bt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new bt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new bt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return o.pubKeyCredParams.filter(h=>h.type==="public-key").length===0?new bt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new bt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const u=window.location.hostname;if(P1(u)){if(o.rp.id!==u)return new bt({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new bt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new bt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new bt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new bt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function jR({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new bt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new bt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(P1(r)){if(n.rpId!==r)return new bt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new bt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new bt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new bt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class MR{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const LR=new MR;function IR(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,a=Rc(t,["challenge","user","excludeCredentials"]),o=da(e).buffer,u=Object.assign(Object.assign({},n),{id:da(n.id).buffer}),h=Object.assign(Object.assign({},a),{challenge:o,user:u});if(r&&r.length>0){h.excludeCredentials=new Array(r.length);for(let f=0;f<r.length;f++){const d=r[f];h.excludeCredentials[f]=Object.assign(Object.assign({},d),{id:da(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return h}function PR(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=Rc(t,["challenge","allowCredentials"]),a=da(e).buffer,o=Object.assign(Object.assign({},r),{challenge:a});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let u=0;u<n.length;u++){const h=n[u];o.allowCredentials[u]=Object.assign(Object.assign({},h),{id:da(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return o}function BR(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:Kr(new Uint8Array(t.response.attestationObject)),clientDataJSON:Kr(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function UR(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),a=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Kr(new Uint8Array(a.authenticatorData)),clientDataJSON:Kr(new Uint8Array(a.clientDataJSON)),signature:Kr(new Uint8Array(a.signature)),userHandle:a.userHandle?Kr(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function P1(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function aw(){var t,e;return!!(Mt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function zR(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new lc("Browser returned unexpected credential type",e)}:{data:null,error:new lc("Empty credential response",e)}}catch(e){return{data:null,error:NR({error:e,options:t})}}}async function VR(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new lc("Browser returned unexpected credential type",e)}:{data:null,error:new lc("Empty credential response",e)}}catch(e){return{data:null,error:jR({error:e,options:t})}}}const $R={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},HR={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function uc(...t){const e=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),n=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),r={};for(const a of t)if(a)for(const o in a){const u=a[o];if(u!==void 0)if(Array.isArray(u))r[o]=u;else if(n(u))r[o]=u;else if(e(u)){const h=r[o];e(h)?r[o]=uc(h,u):r[o]=uc(u)}else r[o]=u}return r}function FR(t,e){return uc($R,t,e||{})}function qR(t,e){return uc(HR,t,e||{})}class KR{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:a},o){var u;try{const{data:h,error:f}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!h)return{data:null,error:f};const d=a??LR.createNewAbortSignal();if(h.webauthn.type==="create"){const{user:g}=h.webauthn.credential_options.publicKey;if(!g.name){const y=r;if(y)g.name=`${g.id}:${y}`;else{const b=(await this.client.getUser()).data.user,x=((u=b?.user_metadata)===null||u===void 0?void 0:u.name)||b?.email||b?.id||"User";g.name=`${g.id}:${x}`}}g.displayName||(g.displayName=g.name)}switch(h.webauthn.type){case"create":{const g=FR(h.webauthn.credential_options.publicKey,o?.create),{data:y,error:v}=await zR({publicKey:g,signal:d});return y?{data:{factorId:e,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:y}},error:null}:{data:null,error:v}}case"request":{const g=qR(h.webauthn.credential_options.publicKey,o?.request),{data:y,error:v}=await VR(Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:g,signal:d}));return y?{data:{factorId:e,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:y}},error:null}:{data:null,error:v}}}}catch(h){return pe(h)?{data:null,error:h}:{data:null,error:new Hr("Unexpected error in challenge",h)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},o){if(!n)return{data:null,error:new Jo("rpId is required for WebAuthn authentication")};try{if(!aw())return{data:null,error:new Hr("Browser does not support WebAuthn",null)};const{data:u,error:h}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:a},{request:o});if(!u)return{data:null,error:h};const{webauthn:f}=u;return this._verify({factorId:e,challengeId:u.challengeId,webauthn:{type:f.type,rpId:n,rpOrigins:r,credential_response:f.credential_response}})}catch(u){return pe(u)?{data:null,error:u}:{data:null,error:new Hr("Unexpected error in authenticate",u)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},o){if(!n)return{data:null,error:new Jo("rpId is required for WebAuthn registration")};try{if(!aw())return{data:null,error:new Hr("Browser does not support WebAuthn",null)};const{data:u,error:h}=await this._enroll({friendlyName:e});if(!u)return await this.client.mfa.listFactors().then(g=>{var y;return(y=g.data)===null||y===void 0?void 0:y.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===e&&v.status!=="unverified")}).then(g=>g?this.client.mfa.unenroll({factorId:g?.id}):void 0),{data:null,error:h};const{data:f,error:d}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:a},{create:o});return f?this._verify({factorId:u.id,challengeId:f.challengeId,webauthn:{rpId:n,rpOrigins:r,type:f.webauthn.type,credential_response:f.webauthn.credential_response}}):{data:null,error:d}}catch(u){return pe(u)?{data:null,error:u}:{data:null,error:new Hr("Unexpected error in register",u)}}}}CR();const GR={url:HO,storageKey:FO,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:qO,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function ow(t,e,n){return await n()}const Js={};class Qo{get jwks(){var e,n;return(n=(e=Js[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Js[this.storageKey]=Object.assign(Object.assign({},Js[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Js[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Js[this.storageKey]=Object.assign(Object.assign({},Js[this.storageKey]),{cachedAt:e})}constructor(e){var n,r,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},GR),e);if(this.storageKey=o.storageKey,this.instanceID=(n=Qo.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Qo.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&Mt()){const u=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(u),this.logDebugMessages&&console.trace(u)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new ER({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=N1(o.fetch),this.lock=o.lock||ow,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,this.lockAcquireTimeout=o.lockAcquireTimeout,o.lock?this.lock=o.lock:this.persistSession&&Mt()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=kR:this.lock=ow,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new KR(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:D1()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=sw(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=sw(this.memoryStorage)),Mt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u);try{await this._notifyAllSubscribers(u.data.event,u.data.session,!1)}catch(h){this._debug("#broadcastChannel","error",h)}})}this.initialize().catch(u=>{this._debug("#initialize()","error",u)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${C1}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},r="none";if(Mt()&&(n=sR(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),Mt()&&this.detectSessionInUrl&&r!=="none"){const{data:a,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),XO(o)){const f=(e=o.details)===null||e===void 0?void 0:e.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:o}}return{error:o}}const{session:u,redirectType:h}=a;return this._debug("#_initialize()","detected session in URL",u,"redirect type",h),await this._saveSession(u),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return pe(n)?this._returnResult({error:n}):this._returnResult({error:new Hr("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,a;try{const o=await ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e?.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(a=e?.options)===null||a===void 0?void 0:a.captchaToken}},xform:Un}),{data:u,error:h}=o;if(h||!u)return this._returnResult({data:{user:null,session:null},error:h});const f=u.session,d=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:d,session:f},error:null})}catch(o){if(pe(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(e){var n,r,a;try{let o;if("email"in e){const{email:g,password:y,options:v}=e;let b=null,x=null;this.flowType==="pkce"&&([b,x]=await Ys(this.storage,this.storageKey)),o=await ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v?.emailRedirectTo,body:{email:g,password:y,data:(n=v?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:v?.captchaToken},code_challenge:b,code_challenge_method:x},xform:Un})}else if("phone"in e){const{phone:g,password:y,options:v}=e;o=await ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:y,data:(r=v?.data)!==null&&r!==void 0?r:{},channel:(a=v?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:v?.captchaToken}},xform:Un})}else throw new Vu("You must provide either an email or phone number and a password");const{data:u,error:h}=o;if(h||!u)return await Nt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:h});const f=u.session,d=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:d,session:f},error:null})}catch(o){if(await Nt(this.storage,`${this.storageKey}-code-verifier`),pe(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(e){try{let n;if("email"in e){const{email:o,password:u,options:h}=e;n=await ve(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:u,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:iw})}else if("phone"in e){const{phone:o,password:u,options:h}=e;n=await ve(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:u,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:iw})}else throw new Vu("You must provide either an email or phone number and a password");const{data:r,error:a}=n;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!r||!r.session||!r.user){const o=new Gs;return this._returnResult({data:{user:null,session:null},error:o})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:a})}catch(n){if(pe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,r,a,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,a,o,u,h,f,d,g,y,v;let b,x;if("message"in e)b=e.message,x=e.signature;else{const{chain:E,wallet:T,statement:A,options:R}=e;let C;if(Mt())if(typeof T=="object")C=T;else{const ee=window;if("ethereum"in ee&&typeof ee.ethereum=="object"&&"request"in ee.ethereum&&typeof ee.ethereum.request=="function")C=ee.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!R?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=T}const D=new URL((n=R?.url)!==null&&n!==void 0?n:window.location.href),$=await C.request({method:"eth_requestAccounts"}).then(ee=>ee).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!$||$.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const M=I1($[0]);let F=(r=R?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!F){const ee=await C.request({method:"eth_chainId"});F=OR(ee)}const Y={domain:D.host,address:M,statement:A,uri:D.href,version:"1",chainId:F,nonce:(a=R?.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(u=(o=R?.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(h=R?.signInWithEthereum)===null||h===void 0?void 0:h.expirationTime,notBefore:(f=R?.signInWithEthereum)===null||f===void 0?void 0:f.notBefore,requestId:(d=R?.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(g=R?.signInWithEthereum)===null||g===void 0?void 0:g.resources};b=DR(Y),x=await C.request({method:"personal_sign",params:[RR(b),M]})}try{const{data:E,error:T}=await ve(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:b,signature:x},!((y=e.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Un});if(T)throw T;if(!E||!E.session||!E.user){const A=new Gs;return this._returnResult({data:{user:null,session:null},error:A})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:T})}catch(E){if(pe(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async signInWithSolana(e){var n,r,a,o,u,h,f,d,g,y,v,b;let x,E;if("message"in e)x=e.message,E=e.signature;else{const{chain:T,wallet:A,statement:R,options:C}=e;let D;if(Mt())if(typeof A=="object")D=A;else{const M=window;if("solana"in M&&typeof M.solana=="object"&&("signIn"in M.solana&&typeof M.solana.signIn=="function"||"signMessage"in M.solana&&typeof M.solana.signMessage=="function"))D=M.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof A!="object"||!C?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");D=A}const $=new URL((n=C?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in D&&D.signIn){const M=await D.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},C?.signInWithSolana),{version:"1",domain:$.host,uri:$.href}),R?{statement:R}:null));let F;if(Array.isArray(M)&&M[0]&&typeof M[0]=="object")F=M[0];else if(M&&typeof M=="object"&&"signedMessage"in M&&"signature"in M)F=M;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in F&&"signature"in F&&(typeof F.signedMessage=="string"||F.signedMessage instanceof Uint8Array)&&F.signature instanceof Uint8Array)x=typeof F.signedMessage=="string"?F.signedMessage:new TextDecoder().decode(F.signedMessage),E=F.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in D)||typeof D.signMessage!="function"||!("publicKey"in D)||typeof D!="object"||!D.publicKey||!("toBase58"in D.publicKey)||typeof D.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${$.host} wants you to sign in with your Solana account:`,D.publicKey.toBase58(),...R?["",R,""]:[""],"Version: 1",`URI: ${$.href}`,`Issued At: ${(a=(r=C?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((o=C?.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${C.signInWithSolana.notBefore}`]:[],...!((u=C?.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${C.signInWithSolana.expirationTime}`]:[],...!((h=C?.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${C.signInWithSolana.chainId}`]:[],...!((f=C?.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${C.signInWithSolana.nonce}`]:[],...!((d=C?.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${C.signInWithSolana.requestId}`]:[],...!((y=(g=C?.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||y===void 0)&&y.length?["Resources",...C.signInWithSolana.resources.map(F=>`- ${F}`)]:[]].join(`
`);const M=await D.signMessage(new TextEncoder().encode(x),"utf8");if(!M||!(M instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=M}}try{const{data:T,error:A}=await ve(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:Kr(E)},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:Un});if(A)throw A;if(!T||!T.session||!T.user){const R=new Gs;return this._returnResult({data:{user:null,session:null},error:R})}return T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),this._returnResult({data:Object.assign({},T),error:A})}catch(T){if(pe(T))return this._returnResult({data:{user:null,session:null},error:T});throw T}}async _exchangeCodeForSession(e){const n=await Pr(this.storage,`${this.storageKey}-code-verifier`),[r,a]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new JO;const{data:o,error:u}=await ve(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Un});if(await Nt(this.storage,`${this.storageKey}-code-verifier`),u)throw u;if(!o||!o.session||!o.user){const h=new Gs;return this._returnResult({data:{user:null,session:null,redirectType:null},error:h})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:a??null}),error:u})}catch(o){if(await Nt(this.storage,`${this.storageKey}-code-verifier`),pe(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(e){try{const{options:n,provider:r,token:a,access_token:o,nonce:u}=e,h=await ve(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:a,access_token:o,nonce:u,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:Un}),{data:f,error:d}=h;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!f||!f.session||!f.user){const g=new Gs;return this._returnResult({data:{user:null,session:null},error:g})}return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),this._returnResult({data:f,error:d})}catch(n){if(pe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,r,a,o,u;try{if("email"in e){const{email:h,options:f}=e;let d=null,g=null;this.flowType==="pkce"&&([d,g]=await Ys(this.storage,this.storageKey));const{error:y}=await ve(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(n=f?.data)!==null&&n!==void 0?n:{},create_user:(r=f?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:d,code_challenge_method:g},redirectTo:f?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:y})}if("phone"in e){const{phone:h,options:f}=e,{data:d,error:g}=await ve(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(a=f?.data)!==null&&a!==void 0?a:{},create_user:(o=f?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},channel:(u=f?.channel)!==null&&u!==void 0?u:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:d?.message_id},error:g})}throw new Vu("You must provide either an email or phone number.")}catch(h){if(await Nt(this.storage,`${this.storageKey}-code-verifier`),pe(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async verifyOtp(e){var n,r;try{let a,o;"options"in e&&(a=(n=e.options)===null||n===void 0?void 0:n.redirectTo,o=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:u,error:h}=await ve(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:a,xform:Un});if(h)throw h;if(!u)throw new Error("An error occurred on token verification.");const f=u.session,d=u.user;return f?.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),this._returnResult({data:{user:d,session:f},error:null})}catch(a){if(pe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(e){var n,r,a,o,u;try{let h=null,f=null;this.flowType==="pkce"&&([h,f]=await Ys(this.storage,this.storageKey));const d=await ve(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((a=e?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:h,code_challenge_method:f}),headers:this.headers,xform:xR});return!((o=d.data)===null||o===void 0)&&o.url&&Mt()&&!(!((u=e.options)===null||u===void 0)&&u.skipBrowserRedirect)&&window.location.assign(d.data.url),this._returnResult(d)}catch(h){if(await Nt(this.storage,`${this.storageKey}-code-verifier`),pe(h))return this._returnResult({data:null,error:h});throw h}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new pn;const{error:a}=await ve(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(e){if(pe(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:a,options:o}=e,{error:u}=await ve(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:a,gotrue_meta_security:{captcha_token:o?.captchaToken}},redirectTo:o?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:u})}else if("phone"in e){const{phone:r,type:a,options:o}=e,{data:u,error:h}=await ve(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:a,gotrue_meta_security:{captcha_token:o?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:u?.message_id},error:h})}throw new Vu("You must provide either an email or phone number and a type")}catch(n){if(pe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Pr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<bf:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const u=await Pr(this.userStorage,this.storageKey+"-user");u?.user?e.user=u.user:e.user=xf()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const u={value:this.suppressGetSessionWarning};e.user=vR(e.user,u),u.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:a,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await ve(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:hr}):await this._useSession(async n=>{var r,a,o;const{data:u,error:h}=n;if(h)throw h;return!(!((r=u.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new pn}:await ve(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(a=u.session)===null||a===void 0?void 0:a.access_token)!==null&&o!==void 0?o:void 0,xform:hr})})}catch(n){if(pe(n))return wf(n)&&(await this._removeSession(),await Nt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:a,error:o}=r;if(o)throw o;if(!a.session)throw new pn;const u=a.session;let h=null,f=null;this.flowType==="pkce"&&e.email!=null&&([h,f]=await Ys(this.storage,this.storageKey));const{data:d,error:g}=await ve(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:h,code_challenge_method:f}),jwt:u.access_token,xform:hr});if(g)throw g;return u.user=d.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),this._returnResult({data:{user:u.user},error:null})})}catch(r){if(await Nt(this.storage,`${this.storageKey}-code-verifier`),pe(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new pn;const n=Date.now()/1e3;let r=n,a=!0,o=null;const{payload:u}=Hu(e.access_token);if(u.exp&&(r=u.exp,a=r<=n),a){const{data:h,error:f}=await this._callRefreshToken(e.refresh_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!h)return{data:{user:null,session:null},error:null};o=h}else{const{data:h,error:f}=await this._getUser(e.access_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});o={access_token:e.access_token,refresh_token:e.refresh_token,user:h.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(n){if(pe(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:u,error:h}=n;if(h)throw h;e=(r=u.session)!==null&&r!==void 0?r:void 0}if(!e?.refresh_token)throw new pn;const{data:a,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(pe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!Mt())throw new $u("No browser detected.");if(e.error||e.error_description||e.error_code)throw new $u(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Xb("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new $u("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Xb("No code detected.");const{data:R,error:C}=await this._exchangeCodeForSession(e.code);if(C)throw C;const D=new URL(window.location.href);return D.searchParams.delete("code"),window.history.replaceState(window.history.state,"",D.toString()),{data:{session:R.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:a,access_token:o,refresh_token:u,expires_in:h,expires_at:f,token_type:d}=e;if(!o||!h||!u||!d)throw new $u("No session defined in URL");const g=Math.round(Date.now()/1e3),y=parseInt(h);let v=g+y;f&&(v=parseInt(f));const b=v-g;b*1e3<=sa&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${y}s`);const x=v-y;g-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,v,g):g-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,v,g);const{data:E,error:T}=await this._getUser(o);if(T)throw T;const A={provider_token:r,provider_refresh_token:a,access_token:o,expires_in:y,expires_at:v,refresh_token:u,token_type:d,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:A,redirectType:e.type},error:null})}catch(r){if(pe(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Pr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:a,error:o}=n;if(o&&!wf(o))return this._returnResult({error:o});const u=(r=a.session)===null||r===void 0?void 0:r.access_token;if(u){const{error:h}=await this.admin.signOut(u,e);if(h&&!(WO(h)&&(h.status===404||h.status===401||h.status===403)||wf(h)))return this._returnResult({error:h})}return e!=="others"&&(await this._removeSession(),await Nt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=rR(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,a;try{const{data:{session:o},error:u}=n;if(u)throw u;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,n={}){let r=null,a=null;this.flowType==="pkce"&&([r,a]=await Ys(this.storage,this.storageKey,!0));try{return await ve(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:a,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(await Nt(this.storage,`${this.storageKey}-code-verifier`),pe(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(pe(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:a}=await this._useSession(async o=>{var u,h,f,d,g;const{data:y,error:v}=o;if(v)throw v;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(h=e.options)===null||h===void 0?void 0:h.scopes,queryParams:(f=e.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await ve(this.fetch,"GET",b,{headers:this.headers,jwt:(g=(d=y.session)===null||d===void 0?void 0:d.access_token)!==null&&g!==void 0?g:void 0})});if(a)throw a;return Mt()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r?.url),this._returnResult({data:{provider:e.provider,url:r?.url},error:null})}catch(r){if(pe(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:a,data:{session:o}}=n;if(a)throw a;const{options:u,provider:h,token:f,access_token:d,nonce:g}=e,y=await ve(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=o?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:h,id_token:f,access_token:d,nonce:g,link_identity:!0,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:Un}),{data:v,error:b}=y;return b?this._returnResult({data:{user:null,session:null},error:b}):!v||!v.session||!v.user?this._returnResult({data:{user:null,session:null},error:new Gs}):(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),this._returnResult({data:v,error:b}))}catch(a){if(await Nt(this.storage,`${this.storageKey}-code-verifier`),pe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,a;const{data:o,error:u}=n;if(u)throw u;return await ve(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&a!==void 0?a:void 0})})}catch(n){if(pe(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await lR(async a=>(a>0&&await oR(200*Math.pow(2,a-1)),this._debug(n,"refreshing attempt",a),await ve(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Un})),(a,o)=>{const u=200*Math.pow(2,a);return o&&Sf(o)&&Date.now()+u-r<sa})}catch(r){if(this._debug(n,"error",r),pe(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Mt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const a=await Pr(this.storage,this.storageKey);if(a&&this.userStorage){let u=await Pr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:a.user},await aa(this.userStorage,this.storageKey+"-user",u)),a.user=(e=u?.user)!==null&&e!==void 0?e:xf()}else if(a&&!a.user&&!a.user){const u=await Pr(this.storage,this.storageKey+"-user");u&&u?.user?(a.user=u.user,await Nt(this.storage,this.storageKey+"-user"),await aa(this.storage,this.storageKey,a)):a.user=xf()}if(this._debug(r,"session from storage",a),!this._isValidSession(a)){this._debug(r,"session is not valid"),a!==null&&await this._removeSession();return}const o=((n=a.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<bf;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${bf}s`),o){if(this.autoRefreshToken&&a.refresh_token){const{error:u}=await this._callRefreshToken(a.refresh_token);u&&(console.error(u),Sf(u)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:h}=await this._getUser(a.access_token);!h&&u?.user?(a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(r,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(r,"error",a),console.error(a);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new pn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new j1;const{data:o,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!o.session)throw new pn;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const h={data:o.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(o){if(this._debug(a,"error",o),pe(o)){const u={data:null,error:o};return Sf(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(u),u}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,n,r=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const o=[],u=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(e,n)}catch(f){o.push(f)}});if(await Promise.all(u),o.length>0){for(let h=0;h<o.length;h+=1)console.error(o[h]);throw o[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Nt(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await aa(this.userStorage,this.storageKey+"-user",{user:n.user});const a=Object.assign({},n);delete a.user;const o=tw(a);await aa(this.storage,this.storageKey,o)}else{const a=tw(n);await aa(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Nt(this.storage,this.storageKey),await Nt(this.storage,this.storageKey+"-code-verifier"),await Nt(this.storage,this.storageKey+"-user"),this.userStorage&&await Nt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Mt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),sa);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((r.expires_at*1e3-e)/sa);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${sa}ms, refresh threshold is ${Ap} ticks`),a<=Ap&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof L1)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Mt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(e){this._debug("#visibilityChangedCallback","error",e)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const a=[`provider=${encodeURIComponent(n)}`];if(r?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&a.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,u]=await Ys(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(u)}`});a.push(h.toString())}if(r?.queryParams){const o=new URLSearchParams(r.queryParams);a.push(o.toString())}return r?.skipBrowserRedirect&&a.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:a,error:o}=n;return o?this._returnResult({data:null,error:o}):await ve(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=a?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(pe(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,a;const{data:o,error:u}=n;if(u)return this._returnResult({data:null,error:u});const h=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:f,error:d}=await ve(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(r=o?.session)===null||r===void 0?void 0:r.access_token});return d?this._returnResult({data:null,error:d}):(e.factorType==="totp"&&f.type==="totp"&&(!((a=f?.totp)===null||a===void 0)&&a.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),this._returnResult({data:f,error:null}))})}catch(n){if(pe(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:a,error:o}=n;if(o)return this._returnResult({data:null,error:o});const u=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?BR(e.webauthn.credential_response):UR(e.webauthn.credential_response)})}:{code:e.code}),{data:h,error:f}=await ve(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:u,headers:this.headers,jwt:(r=a?.session)===null||r===void 0?void 0:r.access_token});return f?this._returnResult({data:null,error:f}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),this._returnResult({data:h,error:f}))})}catch(n){if(pe(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:a,error:o}=n;if(o)return this._returnResult({data:null,error:o});const u=await ve(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=a?.session)===null||r===void 0?void 0:r.access_token});if(u.error)return u;const{data:h}=u;if(h.type!=="webauthn")return{data:h,error:null};switch(h.webauthn.type){case"create":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:IR(h.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:PR(h.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(pe(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const a={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=n?.factors)!==null&&e!==void 0?e:[])a.all.push(o),o.status==="verified"&&a[o.factor_type].push(o);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(e){var n,r,a,o;if(e)try{const{payload:b}=Hu(e);let x=null;b.aal&&(x=b.aal);let E=x;const{data:{user:T},error:A}=await this.getUser(e);if(A)return this._returnResult({data:null,error:A});((r=(n=T?.factors)===null||n===void 0?void 0:n.filter(D=>D.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(E="aal2");const C=b.amr||[];return{data:{currentLevel:x,nextLevel:E,currentAuthenticationMethods:C},error:null}}catch(b){if(pe(b))return this._returnResult({data:null,error:b});throw b}const{data:{session:u},error:h}=await this.getSession();if(h)return this._returnResult({data:null,error:h});if(!u)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:f}=Hu(u.access_token);let d=null;f.aal&&(d=f.aal);let g=d;((o=(a=u.user.factors)===null||a===void 0?void 0:a.filter(b=>b.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(g="aal2");const v=f.amr||[];return{data:{currentLevel:d,nextLevel:g,currentAuthenticationMethods:v},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:r},error:a}=n;return a?this._returnResult({data:null,error:a}):r?await ve(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new pn})})}catch(n){if(pe(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:a},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!a)return this._returnResult({data:null,error:new pn});const u=await ve(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:h=>({data:h,error:null})});return u.data&&u.data.redirect_url&&Mt()&&!n?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(r){if(pe(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:a},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!a)return this._returnResult({data:null,error:new pn});const u=await ve(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:h=>({data:h,error:null})});return u.data&&u.data.redirect_url&&Mt()&&!n?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(r){if(pe(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;return r?this._returnResult({data:null,error:r}):n?await ve(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new pn})})}catch(e){if(pe(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:r},error:a}=n;return a?this._returnResult({data:null,error:a}):r?(await ve(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new pn})})}catch(n){if(pe(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(h=>h.kid===e);if(r)return r;const a=Date.now();if(r=this.jwks.keys.find(h=>h.kid===e),r&&this.jwks_cached_at+GO>a)return r;const{data:o,error:u}=await ve(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=a,r=o.keys.find(h=>h.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:b,error:x}=await this.getSession();if(x||!b.session)return this._returnResult({data:null,error:x});r=b.session.access_token}const{header:a,payload:o,signature:u,raw:{header:h,payload:f}}=Hu(r);n?.allowExpired||gR(o.exp);const d=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!d){const{error:b}=await this.getUser(r);if(b)throw b;return{data:{claims:o,header:a,signature:u},error:null}}const g=mR(a.alg),y=await crypto.subtle.importKey("jwk",d,g,!0,["verify"]);if(!await crypto.subtle.verify(g,y,u,nR(`${h}.${f}`)))throw new Op("Invalid JWT signature");return{data:{claims:o,header:a,signature:u},error:null}}catch(r){if(pe(r))return this._returnResult({data:null,error:r});throw r}}}Qo.nextInstanceID={};const YR=Qo,WR="2.95.3";let ko="";typeof Deno<"u"?ko="deno":typeof document<"u"?ko="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ko="react-native":ko="node";const XR={"X-Client-Info":`supabase-js-${ko}/${WR}`},JR={headers:XR},QR={schema:"public"},ZR={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},e2={};function Zo(t){"@babel/helpers - typeof";return Zo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zo(t)}function t2(t,e){if(Zo(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function n2(t){var e=t2(t,"string");return Zo(e)=="symbol"?e:e+""}function i2(t,e,n){return(e=n2(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function ut(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lw(Object(n),!0).forEach(function(r){i2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lw(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const r2=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),s2=()=>Headers,a2=(t,e,n)=>{const r=r2(n),a=s2();return async(o,u)=>{var h;const f=(h=await e())!==null&&h!==void 0?h:t;let d=new a(u?.headers);return d.has("apikey")||d.set("apikey",t),d.has("Authorization")||d.set("Authorization",`Bearer ${f}`),r(o,ut(ut({},u),{},{headers:d}))}};function o2(t){return t.endsWith("/")?t:t+"/"}function l2(t,e){var n,r;const{db:a,auth:o,realtime:u,global:h}=t,{db:f,auth:d,realtime:g,global:y}=e,v={db:ut(ut({},f),a),auth:ut(ut({},d),o),realtime:ut(ut({},g),u),storage:{},global:ut(ut(ut({},y),h),{},{headers:ut(ut({},(n=y?.headers)!==null&&n!==void 0?n:{}),(r=h?.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?v.accessToken=t.accessToken:delete v.accessToken,v}function u2(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(o2(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var c2=class extends YR{constructor(t){super(t)}},h2=class{constructor(t,e,n){var r,a;this.supabaseUrl=t,this.supabaseKey=e;const o=u2(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const u=`sb-${o.hostname.split(".")[0]}-auth-token`,h={db:QR,realtime:e2,auth:ut(ut({},ZR),{},{storageKey:u}),global:JR},f=l2(n??{},h);if(this.storageKey=(r=f.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(a=f.global.headers)!==null&&a!==void 0?a:{},f.accessToken)this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(g,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}});else{var d;this.auth=this._initSupabaseAuthClient((d=f.auth)!==null&&d!==void 0?d:{},this.headers,f.global.fetch)}this.fetch=a2(e,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(ut({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(g=>this.realtime.setAuth(g)).catch(g=>console.warn("Failed to set initial Realtime auth token:",g)),this.rest=new WC(new URL("rest/v1",o).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch,timeout:f.db.timeout,urlLengthLimit:f.db.urlLengthLimit}),this.storage=new $O(this.storageUrl.href,this.headers,this.fetch,n?.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new VC(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,n)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,n;if(t.accessToken)return await t.accessToken();const{data:r}=await t.auth.getSession();return(e=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:a,storageKey:o,flowType:u,lock:h,debug:f,throwOnError:d},g,y){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new c2({url:this.authUrl.href,headers:ut(ut({},v),g),storageKey:o,autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:a,flowType:u,lock:h,debug:f,throwOnError:d,fetch:y,hasCustomAuthorizationHeader:Object.keys(this.headers).some(b=>b.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new dO(this.realtimeUrl.href,ut(ut({},t),{},{params:ut(ut({},{apikey:this.supabaseKey}),t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e?.access_token)})}_handleTokenChanged(t,e,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const d2=(t,e,n)=>new h2(t,e,n);function f2(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const n=e.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}f2()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const p2="https://wbajyysqvkkdqsugupyj.supabase.co",g2="sb_publishable_zQnWyJ89ZueRTCMuadOFXg_2BlAL1go",Oe=d2(p2,g2),m2=()=>{{console.warn("GA_MEASUREMENT_ID is not set. Analytics disabled.");return}},Tf=window.Telegram?.WebApp,y2=()=>{const[t,e]=V.useState(null),[n,r]=V.useState(null),[a,o]=V.useState(!0),u=V.useCallback(async b=>{const{data:x}=await Oe.from("profiles").select("*").eq("id",b).maybeSingle();x&&r(x),o(!1)},[]);return V.useEffect(()=>{Tf&&(Tf.ready(),Tf.expand()),Oe.auth.getSession().then(({data:{session:x}})=>{e(x),x?.user?u(x.user.id):o(!1)});const{data:{subscription:b}}=Oe.auth.onAuthStateChange((x,E)=>{e(E),E?.user?u(E.user.id):(r(null),o(!1))});return()=>b.unsubscribe()},[u]),{session:t,userData:n,loading:a,login:async(b,x)=>{o(!0);const{error:E}=await Oe.auth.signInWithPassword({email:b,password:x});return o(!1),{error:E?.message}},register:async(b,x,E,T,A,R)=>{if(!b||!x||!E||!T)return{error:"Tida kik vljad!"};o(!0);const{data:C,error:D}=await Oe.auth.signUp({email:b,password:x});return D?(o(!1),{error:D.message}):(C.user&&await Oe.from("profiles").upsert({id:C.user.id,email:b,username:E,land:T,city:R||null,residence_permit:A,credits:5,created_at:new Date}),o(!1),{})},recovery:async b=>{const{error:x}=await Oe.auth.resetPasswordForEmail(b,{redirectTo:window.location.origin});return{error:x?.message}},logout:async()=>{await Oe.auth.signOut(),r(null)},updatePassword:async b=>{const{error:x}=await Oe.auth.updateUser({password:b});return{error:x?.message}},updateProfile:async b=>{if(!t?.user?.id)return{error:"Pole sisse logitud"};const{error:x}=await Oe.from("profiles").update(b).eq("id",t.user.id);return!x&&n&&r({...n,...b}),{error:x?.message}},setUserData:r}},uw=window.Telegram?.WebApp,v2=(t="light")=>{const[e,n]=V.useState(t);return V.useEffect(()=>{document.body.className=e+"-theme",uw&&uw.setHeaderColor(e==="dark"?"#1f2937":"#ffffff")},[e]),{theme:e,setTheme:a=>{n(a)}}},b2=[{id:"sim_1",title:"1. SIM-Karte (-)",description:"  (+49)",content:`  - (Aldi Talk, Vodafone, Telekom).         .

 :     (Aldi, Lidl)  .`,link:"",linkText:"",price:0,category:"general",step:1},{id:"reg_1",title:"2. Anmeldung ()",description:"  (Brgeramt)",content:`  .   (Anmeldung)  " "  .

 **:**  + Wohnungsgeberbesttigung (  ).`,link:"https://service.berlin.de/dienstleistung/120686/",linkText:" (Berlin)",price:0,category:"general",step:1},{id:"bank_1",title:"3. Bankkonto ()",description:" (IBAN)",content:`  Jobcenter   . 

:  + Anmeldung +  .`,link:"https://n26.com/en-de",linkText:"N26 ()",price:0,category:"general",step:2},{id:"insurance_1",title:"4. Krankenkasse ()",description:" ",content:"'   (AOK, TK, Barmer).  .",link:"https://www.tk.de/en",linkText:"TK (/)",price:0,category:"general",step:2},{id:"job_center_1",title:"5. Jobcenter / Sozialamt",description:" ",content:"   Brgergeld ().  IBAN  Anmeldung.",link:"https://www.arbeitsagentur.de/",linkText:"Jobcenter Online",price:0,category:"general",step:3},{id:"tax_1",title:"Steuernummer ",description:"  (Freelance).",price:2,category:"premium",step:0,content:"    .    Steuer-ID."},{id:"kita_1",title:"Kita-Gutschein ",description:"  .",price:3,category:"premium",step:0,content:"   ."},{id:"wbs_1",title:"WBS Schein ",description:" .",price:5,category:"premium",step:0,content:"    ."}],cw=[{id:1,source:"Tagesschau",title:"  Jobcenter  2026 ",published_at:"2026-01-15T12:00:00Z",region:"all",image_url:"https://images.unsplash.com/photo-1554224155-6726b3ff858f",content:"      .",status:"ACTIVE"},{id:2,source:"BVG Berlin",title:"Berlin Pass -  ",published_at:"2026-01-14T12:00:00Z",region:"Berlin",image_url:"https://images.unsplash.com/photo-1570125909232-eb263c188f7e",content:"    .",status:"ACTIVE"}],B1=["Baden-Wrttemberg","Bayern","Berlin","Brandenburg","Bremen","Hamburg","Hessen","Mecklenburg-Vorpommern","Niedersachsen","Nordrhein-Westfalen","Rheinland-Pfalz","Saarland","Sachsen","Sachsen-Anhalt","Schleswig-Holstein","Thringen"],jo={protection:[{value:"24",label:" 24 (Massenzustrom)"},{value:"25",label:" 25 Asyl"},{value:"Duldung",label:"Duldung"}],work:[{value:"Blue Card",label:"Blue Card"},{value:"18",label:" 18 (Fachkraft)"},{value:"16b",label:" 16b Studium"}],other:[{value:"Visa D",label:"Visa D"},{value:"Visa C",label:"Visa C"},{value:"EU-Citizen",label:"EU-Citizen"}]},w2=()=>{const[t,e]=V.useState(b2),[n,r]=V.useState(cw),[a,o]=V.useState([]),[u,h]=V.useState([]),[f,d]=V.useState([]),[g,y]=V.useState([]),v=V.useCallback(async(D,$,M)=>{const{data:F}=await Oe.from("profiles").select("completed_tasks, unlocked_tasks").eq("id",D).maybeSingle();F&&(d(F.completed_tasks||[]),y(F.unlocked_tasks||[]));const{data:Y}=await Oe.from("news").select("*").order("created_at",{ascending:!1});if(Y&&Y.length>0){const ie=new Date,he=Y.filter(Q=>Q.expires_at&&new Date(Q.expires_at)<ie?!1:!!(Q.scope==="DE"||Q.scope==="LAND"&&Q.land===$||Q.scope==="CITY"&&M&&Q.city===M||!Q.scope&&(Q.region==="all"||Q.region===$))),ae={HIGH:0,MEDIUM:1,LOW:2};he.sort((Q,P)=>{const K=ae[Q.priority||"LOW"]??2,re=ae[P.priority||"LOW"]??2;return K!==re?K-re:new Date(P.created_at||0).getTime()-new Date(Q.created_at||0).getTime()}),r(he.length>0?he:cw)}const{data:ee}=await Oe.from("tasks").select("*").order("id",{ascending:!0});ee&&ee.length>0&&e(ee);const{data:oe}=await Oe.from("personal_tasks").select("*").order("created_at",{ascending:!0});oe&&o(oe);const{data:ne}=await Oe.from("user_files").select("*").order("created_at",{ascending:!1});ne&&h(ne)},[]);return{tasks:t,news:n,personalTasks:a,userFiles:u,completedTasks:f,unlockedTasks:g,loadAppData:v,toggleTask:async(D,$)=>{const M=f.includes(D)?f.filter(F=>F!==D):[...f,D];d(M),await Oe.from("profiles").update({completed_tasks:M}).eq("id",$)},unlockTask:async(D,$,M)=>{if(M<D.price)return null;const F=M-D.price,Y=[...g,D.id];return y(Y),await Oe.from("profiles").update({credits:F,unlocked_tasks:Y}).eq("id",$),{newCredits:F}},addPersonalTask:async(D,$)=>{const{data:M,error:F}=await Oe.from("personal_tasks").insert({user_id:D,title:$}).select().single();M&&!F&&o([...a,M])},togglePersonalTask:async D=>{const{error:$}=await Oe.from("personal_tasks").update({is_completed:!D.is_completed}).eq("id",D.id);$||o(a.map(M=>M.id===D.id?{...M,is_completed:!M.is_completed}:M))},deletePersonalTask:async D=>{const{error:$}=await Oe.from("personal_tasks").delete().eq("id",D);$||o(a.filter(M=>M.id!==D))},addUserFile:D=>{h([D,...u])},deleteUserFile:async D=>{const{error:$}=await Oe.from("user_files").delete().eq("id",D);$||h(u.filter(M=>M.id!==D))},setCompletedTasks:d,setUnlockedTasks:y}},S2=t=>new Promise(e=>{const n=new Image;n.src=t,n.onload=()=>{if(n.width>n.height){const r=document.createElement("canvas");r.width=n.height,r.height=n.width;const a=r.getContext("2d");if(a){a.translate(r.width/2,r.height/2),a.rotate(90*Math.PI/180),a.drawImage(n,-n.width/2,-n.height/2),e(r.toDataURL("image/jpeg",.9));return}}e(t)}}),x2=async t=>(await fetch(t)).blob(),_2=(t="Dokument",e="jpg")=>{const n=new Date().toISOString().split("T")[0],r=Math.floor(Math.random()*1e3);return`${t}_${n}_${r}.${e}`},T2=({onLogin:t,onSwitchToRegister:e,onSwitchToRecovery:n,loading:r})=>{const[a,o]=V.useState(""),[u,h]=V.useState(""),f=async()=>{const d=await t(a,u);d.error&&alert("Viga: "+d.error)};return S.jsxs("div",{className:"auth-container",children:[S.jsx("h2",{className:"title",children:" "}),S.jsx("div",{className:"input-group",children:S.jsx("input",{type:"email",placeholder:"Email",value:a,onChange:d=>o(d.target.value)})}),S.jsx("div",{className:"input-group",children:S.jsx("input",{type:"password",placeholder:"",value:u,onChange:d=>h(d.target.value)})}),S.jsx("button",{className:"primary-btn",onClick:f,disabled:r,children:""}),S.jsxs("div",{className:"auth-links",children:[S.jsx("button",{className:"link-btn",onClick:e,children:" "}),S.jsx("button",{className:"link-btn",onClick:n,children:" ?"})]})]})},E2=({onRegister:t,onSwitchToLogin:e,loading:n})=>{const[r,a]=V.useState(""),[o,u]=V.useState(""),[h,f]=V.useState(""),[d,g]=V.useState(""),[y,v]=V.useState(""),[b,x]=V.useState(""),E=async()=>{const T=await t(r,o,h,d,b,y);T.error?alert("Viga: "+T.error):alert("Konto loodud!")};return S.jsxs("div",{className:"auth-container",children:[S.jsx("h2",{className:"title",children:""}),S.jsx("div",{className:"input-group",children:S.jsx("input",{type:"email",placeholder:"Email",value:r,onChange:T=>a(T.target.value)})}),S.jsx("div",{className:"input-group",children:S.jsx("input",{type:"password",placeholder:"",value:o,onChange:T=>u(T.target.value)})}),S.jsx("div",{className:"input-group",children:S.jsx("input",{type:"text",placeholder:" '",value:h,onChange:T=>f(T.target.value)})}),S.jsx("div",{className:"input-group",children:S.jsxs("select",{value:d,onChange:T=>g(T.target.value),className:"select-input",children:[S.jsx("option",{value:"",children:" ..."}),B1.map(T=>S.jsx("option",{value:T,children:T},T))]})}),S.jsx("div",{className:"input-group",children:S.jsx("input",{type:"text",placeholder:" /",value:y,onChange:T=>v(T.target.value)})}),S.jsx("div",{className:"input-group",children:S.jsxs("select",{value:b,onChange:T=>x(T.target.value),className:"select-input",children:[S.jsx("option",{value:"",children:"..."}),S.jsx("optgroup",{label:"",children:jo.protection.map(T=>S.jsx("option",{value:T.value,children:T.label},T.value))}),S.jsx("optgroup",{label:"",children:jo.work.map(T=>S.jsx("option",{value:T.value,children:T.label},T.value))}),S.jsx("optgroup",{label:"",children:jo.other.map(T=>S.jsx("option",{value:T.value,children:T.label},T.value))})]})}),S.jsx("button",{className:"primary-btn",onClick:E,disabled:n,children:""}),S.jsx("button",{className:"link-btn",onClick:e,children:""})]})},A2=({onRecovery:t,onSwitchToLogin:e})=>{const[n,r]=V.useState(""),a=async()=>{const o=await t(n);o.error?alert(o.error):(alert("Link saadetud!"),e())};return S.jsxs("div",{className:"auth-container",children:[S.jsx("h2",{className:"title",children:""}),S.jsx("div",{className:"input-group",children:S.jsx("input",{type:"email",placeholder:"Email",value:n,onChange:o=>r(o.target.value)})}),S.jsx("button",{className:"primary-btn",onClick:a,children:""}),S.jsx("button",{className:"link-btn",onClick:e,children:""})]})},k2=({userData:t,todayDate:e})=>S.jsxs("header",{className:"app-header",children:[S.jsxs("div",{className:"header-left",children:[S.jsx("div",{className:"avatar-circle",children:t.username?.charAt(0).toUpperCase()}),S.jsxs("div",{className:"user-text",children:[S.jsx("h3",{children:t.username}),S.jsx("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:S.jsx("span",{style:{color:"var(--primary)",fontWeight:"bold"},children:t.land})})]})]}),S.jsx("div",{className:"date-display",children:e})]});const U1=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();const C2=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const O2=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase());const hw=t=>{const e=O2(t);return e.charAt(0).toUpperCase()+e.slice(1)};var R2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const D2=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const N2=V.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:o,iconNode:u,...h},f)=>V.createElement("svg",{ref:f,...R2,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:U1("lucide",a),...!o&&!D2(h)&&{"aria-hidden":"true"},...h},[...u.map(([d,g])=>V.createElement(d,g)),...Array.isArray(o)?o:[o]]));const Pe=(t,e)=>{const n=V.forwardRef(({className:r,...a},o)=>V.createElement(N2,{ref:o,iconNode:e,className:U1(`lucide-${C2(hw(t))}`,`lucide-${t}`,r),...a}));return n.displayName=hw(t),n};const j2=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],M2=Pe("archive",j2);const L2=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Rp=Pe("arrow-left",L2);const I2=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],P2=Pe("arrow-right",I2);const B2=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],U2=Pe("bot",B2);const z2=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],V2=Pe("briefcase",z2);const $2=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],H2=Pe("camera",$2);const F2=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Cg=Pe("check",F2);const q2=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],z1=Pe("chevron-down",q2);const K2=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],fa=Pe("chevron-right",K2);const G2=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],V1=Pe("chevron-up",G2);const Y2=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],W2=Pe("credit-card",Y2);const X2=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Fr=Pe("file-text",X2);const J2=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],Q2=Pe("folder-open",J2);const Z2=[["path",{d:"M10.5 3 8 9l4 13 4-13-2.5-6",key:"b3dvk1"}],["path",{d:"M17 3a2 2 0 0 1 1.6.8l3 4a2 2 0 0 1 .013 2.382l-7.99 10.986a2 2 0 0 1-3.247 0l-7.99-10.986A2 2 0 0 1 2.4 7.8l2.998-3.997A2 2 0 0 1 7 3z",key:"7w4byz"}],["path",{d:"M2 9h20",key:"16fsjt"}]],dw=Pe("gem",Z2);const eD=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],fw=Pe("house",eD);const tD=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],$1=Pe("lock",tD);const nD=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],iD=Pe("log-out",nD);const rD=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],sD=Pe("mail",rD);const aD=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Dp=Pe("map-pin",aD);const oD=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],lD=Pe("map",oD);const uD=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],cD=Pe("menu",uD);const hD=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],dD=Pe("message-square",hD);const fD=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],pD=Pe("moon",fD);const gD=[["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-4 0v-9a2 2 0 0 1 2-2h2",key:"39pd36"}],["rect",{width:"8",height:"4",x:"10",y:"6",rx:"1",key:"aywv1n"}]],mD=Pe("newspaper",gD);const yD=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],vD=Pe("pen",yD);const bD=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],wD=Pe("plus",bD);const SD=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],xD=Pe("send",SD);const _D=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],TD=Pe("square-check-big",_D);const ED=[["path",{d:"M21 9a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 15 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2z",key:"1dfntj"}],["path",{d:"M15 3v5a1 1 0 0 0 1 1h5",key:"6s6qgf"}]],AD=Pe("sticky-note",ED);const kD=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],CD=Pe("sun",kD);const OD=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Np=Pe("trash-2",OD);const RD=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],DD=Pe("user",RD);const ND=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],jD=Pe("wallet",ND);const MD=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],LD=Pe("x",MD),ID=({activeTab:t,onTabChange:e})=>{const n=(a,o)=>{const u={size:24,strokeWidth:o?2.5:2,className:"nav-icon"};switch(a){case"home":return S.jsx(fw,{...u});case"tasks":return S.jsx(TD,{...u});case"portfolio":return S.jsx(Q2,{...u});case"news":return S.jsx(mD,{...u});case"menu":return S.jsx(cD,{...u});case"assistant":return S.jsx(U2,{...u});default:return S.jsx(fw,{...u})}},r=[{id:"home",label:""},{id:"tasks",label:""},{id:"assistant",label:""},{id:"portfolio",label:""},{id:"news",label:""},{id:"menu",label:""}];return S.jsx("nav",{className:"bottom-nav",children:r.map(a=>{const o=t===a.id;return S.jsxs("button",{className:o?"active":"",onClick:()=>e(a.id),children:[n(a.id,o),S.jsx("span",{className:"nav-label",children:a.label})]},a.id)})})},PD=()=>S.jsx("div",{className:"loading-screen",children:S.jsx("div",{className:"loader"})}),BD=({news:t,onNewsClick:e,onNavigate:n})=>{const[r,a]=V.useState("");V.useEffect(()=>{const u="sachsen-leipzig",h=new Date().getTime();a(`/assets/news/hero/${u}/latest.png?t=${h}`)},[]);const o=t.length>0?t[0]:null;return S.jsx("div",{className:"home-container",style:{padding:"0 4px"},children:S.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px",marginBottom:"20px"},children:[o&&S.jsxs("div",{style:{gridColumn:"span 2",height:"260px",borderRadius:"24px",overflow:"hidden",position:"relative",cursor:"pointer",boxShadow:"var(--shadow-md)",transition:"transform 0.2s"},onClick:()=>e({...o,type:"news"}),className:"bento-card",children:[S.jsx("img",{src:r||o.image_url||o.image,alt:"News",style:{width:"100%",height:"100%",objectFit:"cover"},onError:u=>{o.image_url&&(u.currentTarget.src=o.image_url)}}),S.jsxs("div",{style:{position:"absolute",bottom:0,left:0,right:0,padding:"24px",paddingTop:"80px",background:"linear-gradient(to top, rgba(0,0,0,0.8) 0%, transparent 100%)",color:"white"},children:[S.jsx("div",{style:{fontSize:"11px",fontWeight:"700",textTransform:"uppercase",background:"rgba(255,255,255,0.3)",backdropFilter:"blur(4px)",padding:"4px 8px",borderRadius:"6px",display:"inline-block",marginBottom:"8px"},children:" "}),S.jsx("h3",{style:{fontSize:"22px",fontWeight:"700",lineHeight:"1.2",textShadow:"0 2px 4px rgba(0,0,0,0.3)"},children:o.title})]})]}),S.jsxs("div",{onClick:()=>n("documents"),style:{background:"linear-gradient(135deg, #007AFF 0%, #00C7BE 100%)",borderRadius:"24px",padding:"20px",height:"160px",color:"white",display:"flex",flexDirection:"column",justifyContent:"space-between",boxShadow:"var(--shadow-md)",cursor:"pointer"},children:[S.jsx("div",{style:{width:"36px",height:"36px",background:"rgba(255,255,255,0.2)",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center"},children:S.jsx(Fr,{size:20,color:"white"})}),S.jsxs("div",{children:[S.jsx("div",{style:{fontSize:"16px",fontWeight:"700",marginBottom:"4px"},children:""}),S.jsx("div",{style:{fontSize:"13px",opacity:.9},children:"  "})]})]}),S.jsxs("div",{onClick:()=>n("chat"),style:{background:"linear-gradient(135deg, #AF52DE 0%, #5856D6 100%)",borderRadius:"24px",padding:"20px",height:"160px",color:"white",display:"flex",flexDirection:"column",justifyContent:"space-between",boxShadow:"var(--shadow-md)",cursor:"pointer"},children:[S.jsx("div",{style:{width:"36px",height:"36px",background:"rgba(255,255,255,0.2)",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center"},children:S.jsx(dD,{size:20,color:"white"})}),S.jsxs("div",{children:[S.jsx("div",{style:{fontSize:"16px",fontWeight:"700",marginBottom:"4px"},children:""}),S.jsx("div",{style:{fontSize:"13px",opacity:.9},children:" AI"})]})]}),S.jsxs("div",{onClick:()=>n("roadmap"),style:{gridColumn:"span 2",background:"var(--card-bg)",borderRadius:"24px",padding:"20px",boxShadow:"var(--shadow-sm)",cursor:"pointer",border:"1px solid var(--border)",display:"flex",alignItems:"center",gap:"16px"},children:[S.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"14px",background:"#007AFF",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:S.jsx(lD,{size:24,color:"white"})}),S.jsxs("div",{style:{flex:1},children:[S.jsx("div",{style:{fontSize:"16px",fontWeight:"700",color:"var(--text-main)",marginBottom:"4px"},children:" "}),S.jsx("div",{style:{width:"100%",height:"6px",background:"var(--bg-secondary)",borderRadius:"3px",overflow:"hidden"},children:S.jsx("div",{style:{width:"35%",height:"100%",background:"#34C759",borderRadius:"3px"}})}),S.jsx("div",{style:{fontSize:"12px",color:"var(--text-sub)",marginTop:"6px"},children:":  1 ()"})]}),S.jsx(fa,{size:20,color:"var(--text-sub)"})]})]})})},UD=({tasks:t,completedTasks:e,unlockedTasks:n,onTaskClick:r,onToggleTask:a})=>{const[o,u]=V.useState(1),h=d=>d===1?"":d>1&&d<5?"":"",f=(d,g,y,v)=>{const b=t.filter(R=>R.step===d),x=d===0?t.filter(R=>R.category==="premium"):b,E=o===d,T={color:y},A={borderLeft:`4px solid ${y}`};return S.jsxs("div",{style:{marginBottom:"16px"},children:[S.jsxs("div",{className:"task-card",onClick:()=>u(E?null:d),style:{...A,marginBottom:E?"8px":"0"},children:[S.jsx("div",{style:{padding:"8px",background:`${y}15`,borderRadius:"10px"},children:S.jsx(v,{size:24,style:T,strokeWidth:2.5})}),S.jsxs("div",{className:"task-details",children:[S.jsx("h4",{children:g}),S.jsxs("p",{children:[x.length," ",h(x.length)]})]}),S.jsx("span",{className:"arrow-icon",children:E?S.jsx(V1,{size:20}):S.jsx(z1,{size:20})})]}),E&&S.jsx("div",{style:{paddingLeft:"12px",animation:"fadeIn 0.3s ease"},children:x.map(R=>{const C=R.category==="premium"?n.includes(R.id):!0,D=e.includes(R.id);return S.jsxs("div",{className:`task-card ${R.category==="premium"&&!C?"premium":""}`,onClick:()=>r(R),style:{marginBottom:"10px",padding:"16px"},children:[S.jsxs("div",{className:`checkbox ${D?"checked":R.category==="premium"&&!C?"locked":""}`,onClick:$=>{R.category==="premium"&&!C||($.stopPropagation(),a(R.id))},children:[D&&S.jsx(Cg,{size:16,strokeWidth:3}),R.category==="premium"&&!C&&S.jsx($1,{size:14})]}),S.jsxs("div",{className:"task-details",children:[S.jsx("h4",{children:R.title}),S.jsx("p",{children:R.description})]}),R.category==="premium"&&!C&&S.jsxs("span",{className:"price-tag",style:{display:"flex",alignItems:"center",gap:"4px"},children:[S.jsx(dw,{size:12})," ",R.price]}),S.jsx("span",{className:"arrow-icon",children:S.jsx(fa,{size:20})})]},R.id)})})]},d)};return S.jsxs("div",{className:"task-list-container",children:[S.jsx("div",{className:"task-card",style:{justifyContent:"center",marginBottom:"20px",background:"linear-gradient(135deg, #007AFF 0%, #0056b3 100%)",color:"white"},children:S.jsx("h4",{style:{fontSize:"18px",fontWeight:"700",color:"white",margin:0},children:"  :    "})}),f(1," 1: ","#FF3B30",Dp),"   ",f(2," 2: ","#FF9500",jD),"     ",f(3," 3: ","#34C759",Fr),"    ",f(0," (PREMIUM)","#0071E3",dw),"       "]})},zD=({userFiles:t,personalTasks:e,onFileSelect:n,onFileClick:r,onAddPersonalTask:a,onTogglePersonalTask:o,onDeletePersonalTask:u})=>{const h=V.useRef(null),[f,d]=V.useState(""),[g,y]=V.useState(!1),v=T=>{const A=T.target.files?.[0];A&&n(A)},b=()=>{f.trim()&&(a(f),d(""))},x=t.filter(T=>!T.file_name.startsWith("Analiz_")&&!T.file_name.startsWith("Jobcenter_")),E=t.filter(T=>T.file_name.startsWith("Analiz_")||T.file_name.startsWith("Jobcenter_"));return g?S.jsxs("div",{className:"task-list-container",children:[S.jsxs("div",{className:"task-card",style:{marginBottom:"20px",background:"linear-gradient(135deg, #007AFF 0%, #0056b3 100%)",color:"white",padding:"15px",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[S.jsx("button",{onClick:()=>y(!1),style:{background:"rgba(255,255,255,0.2)",border:"none",color:"white",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",width:"32px",height:"32px",borderRadius:"50%",padding:0},children:S.jsx(fa,{size:20,style:{transform:"rotate(180deg)"}})}),S.jsx("h4",{style:{fontSize:"16px",fontWeight:"700",color:"white",margin:0},children:" "}),S.jsx("div",{style:{width:"32px"}})," "]}),E.length===0&&S.jsxs("div",{style:{textAlign:"center",color:"var(--text-sub)",padding:"40px 20px",background:"var(--card-bg)",borderRadius:"var(--radius-card)",border:"2px dashed var(--border)",fontSize:"14px"},children:[S.jsx(Fr,{size:48,style:{opacity:.2,marginBottom:"15px"}}),S.jsx("p",{children:'     ""'})]}),S.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:E.map(T=>S.jsxs("div",{className:"task-card",onClick:()=>window.open(T.file_url,"_blank"),style:{padding:"12px"},children:[S.jsx("div",{style:{width:"36px",height:"36px",background:"var(--primary-light)",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center",color:"var(--primary)",flexShrink:0},children:S.jsx(Fr,{size:18})}),S.jsxs("div",{style:{flex:1,minWidth:0,marginLeft:"12px"},children:[S.jsx("div",{style:{fontWeight:"600",fontSize:"14px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:T.file_name}),S.jsx("div",{style:{fontSize:"12px",color:"var(--text-sub)",marginTop:"2px"},children:new Date(T.created_at).toLocaleDateString()})]})]},T.id))})]}):S.jsxs("div",{className:"task-list-container",children:[S.jsxs("div",{style:{marginBottom:"20px"},children:[S.jsx("input",{type:"file",ref:h,onChange:v,style:{display:"none"},accept:"image/*"}),S.jsxs("button",{className:"primary-btn",style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",background:"linear-gradient(135deg, #0071E3, #00C7BE)",border:"none",boxShadow:"0 4px 12px -2px rgba(0, 113, 227, 0.3)",fontSize:"15px",padding:"12px",width:"100%"},onClick:()=>h.current?.click(),children:[S.jsx(H2,{size:20,strokeWidth:2.5}),S.jsx("span",{children:" "})]})]}),S.jsx("div",{className:"task-card",style:{justifyContent:"center",marginBottom:"20px",background:"linear-gradient(135deg, #007AFF 0%, #0056b3 100%)",color:"white"},children:S.jsx("h4",{style:{fontSize:"16px",fontWeight:"700",color:"white",margin:0},children:" "})}),x.length===0&&S.jsxs("div",{style:{textAlign:"center",color:"var(--text-sub)",padding:"30px 10px",background:"var(--card-bg)",borderRadius:"var(--radius-card)",border:"2px dashed var(--border)",fontSize:"13px",marginBottom:"30px"},children:[S.jsx(Fr,{size:40,style:{opacity:.2,marginBottom:"10px"}}),S.jsx("p",{children:".  !"})]}),S.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px",marginBottom:"30px"},children:x.map(T=>S.jsxs("div",{className:"task-card",onClick:()=>r(T),style:{padding:"12px"},children:[S.jsx("div",{style:{width:"36px",height:"36px",background:"var(--primary-light)",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center",color:"var(--primary)",flexShrink:0},children:S.jsx(Fr,{size:18})}),S.jsxs("div",{style:{flex:1,minWidth:0,marginLeft:"12px"},children:[S.jsx("div",{style:{fontWeight:"600",fontSize:"14px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:T.file_name}),S.jsx("div",{style:{fontSize:"12px",color:"var(--text-sub)",marginTop:"2px"},children:new Date(T.created_at).toLocaleDateString()})]}),S.jsx(fa,{size:18,style:{color:"#C7C7CC"}})]},T.id))}),S.jsxs("button",{onClick:()=>y(!0),className:"task-card",style:{width:"100%",justifyContent:"space-between",padding:"15px",marginBottom:"30px",background:"linear-gradient(135deg, #007AFF 0%, #0056b3 100%)",boxShadow:"0 4px 12px -2px rgba(0, 113, 227, 0.3)",border:"none",color:"white"},children:[S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[S.jsx("div",{style:{width:"32px",height:"32px",background:"rgba(255,255,255,0.2)",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",color:"white"},children:S.jsx(Fr,{size:16})}),S.jsxs("div",{style:{textAlign:"left"},children:[S.jsx("div",{style:{fontWeight:"700",color:"white",fontSize:"14px"},children:""}),S.jsxs("div",{style:{fontSize:"12px",color:"rgba(255,255,255,0.8)"},children:[E.length," "]})]})]}),S.jsx(fa,{size:20,style:{color:"white"}})]}),S.jsx("h4",{className:"section-title",children:" "}),S.jsxs("div",{style:{background:"var(--card-bg)",padding:"20px",borderRadius:"var(--radius-card)",boxShadow:"var(--shadow-sm)",marginBottom:"20px"},children:[S.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"20px"},children:[S.jsxs("div",{style:{flex:1,position:"relative"},children:[S.jsx("input",{type:"text",placeholder:"  ?",value:f,onChange:T=>d(T.target.value),onKeyDown:T=>T.key==="Enter"&&b(),style:{width:"100%",padding:"12px 16px",paddingLeft:"40px",borderRadius:"12px",border:"1px solid var(--border)",background:"var(--bg-color)",color:"var(--text-main)",outline:"none",fontSize:"15px"}}),S.jsx(AD,{size:18,style:{position:"absolute",left:"12px",top:"14px",color:"var(--text-sub)"}})]}),S.jsx("button",{onClick:b,style:{background:"var(--primary)",color:"white",border:"none",borderRadius:"12px",width:"44px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},children:S.jsx(wD,{size:24})})]}),S.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[e.map(T=>S.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",paddingBottom:"12px",borderBottom:"1px solid var(--divider)"},children:[S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",flex:1,cursor:"pointer"},onClick:()=>o(T),children:[S.jsx("div",{className:`checkbox ${T.is_completed?"checked":""}`,style:{width:"22px",height:"22px"},children:T.is_completed&&S.jsx(Cg,{size:14,strokeWidth:3})}),S.jsx("span",{style:{textDecoration:T.is_completed?"line-through":"none",color:T.is_completed?"var(--text-tertiary)":"var(--text-main)",fontSize:"15px"},children:T.title})]}),S.jsx("button",{onClick:()=>u(T.id),style:{background:"none",border:"none",cursor:"pointer",color:"var(--text-sub)",padding:"5px"},children:S.jsx(Np,{size:18})})]},T.id)),e.length===0&&S.jsx("div",{style:{textAlign:"center",color:"var(--text-sub)",fontSize:"13px",padding:"10px"},children:" "})]})]})]})},VD="modulepreload",$D=function(t){return"/"+t},pw={},Mo=function(e,n,r){let a=Promise.resolve();if(n&&n.length>0){let f=function(d){return Promise.all(d.map(g=>Promise.resolve(g).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),h=u?.nonce||u?.getAttribute("nonce");a=f(n.map(d=>{if(d=$D(d),d in pw)return;pw[d]=!0;const g=d.endsWith(".css"),y=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${y}`))return;const v=document.createElement("link");if(v.rel=g?"stylesheet":VD,g||(v.as="script"),v.crossOrigin="",v.href=d,h&&v.setAttribute("nonce",h),document.head.appendChild(v),g)return new Promise((b,x)=>{v.addEventListener("load",b),v.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${d}`)))})}))}function o(u){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=u,window.dispatchEvent(h),!h.defaultPrevented)throw u}return a.then(u=>{for(const h of u||[])h.status==="rejected"&&o(h.reason);return e().catch(o)})};function Og(t){if(!t)return"";const e=t.trim().replace(/\s+/g," "),n=e.split(" ");if(n.length<=7)return e;const r=n.slice(0,7);return r[6]=r[6]+"...",r.join(" ")}function HD(t){if(!t)return"";const e=t.trim().replace(/\s+/g," "),n=e.split(" ");return n.length<=200?e:n.slice(0,200).join(" ")+"..."}const FD=({item:t,onBack:e})=>{const n=Og(t.title);let r="";try{t.link&&(r=new URL(t.link).hostname)}catch{r="source"}r.length>15&&(r=r.substring(0,15)+"...");const a=t.image_url&&t.image_status!=="failed"?t.image_url:"/placeholder-image.svg";return S.jsxs("div",{className:"news-detail-view",children:[S.jsxs("div",{className:"news-detail-header",children:[S.jsx("button",{onClick:e,className:"back-button",children:" "}),S.jsx("div",{className:"header-title",children:n})]}),S.jsxs("div",{className:"detail-scroll-container",children:[S.jsx("div",{className:"detail-image-container",children:S.jsx("img",{src:a,alt:t.title,className:"detail-image",onError:o=>o.currentTarget.style.display="none"})}),S.jsxs("div",{className:"detail-content",children:[S.jsx("div",{className:"detail-text",children:t.content||"Sisu puudub..."}),S.jsxs("div",{className:"detail-source-line",children:[": ",S.jsx("a",{href:t.link,target:"_blank",rel:"noopener noreferrer",children:r})]})]}),S.jsx("div",{className:"detail-actions",children:S.jsx("button",{className:"read-more-button",onClick:()=>window.open(t.link,"_blank"),children:"  "})})]})]})},jp="telegram-app-news-state-v7",cc={visibleFeed:[],pool:[],history:{shown:[],archived:[],deleted:[]},signals:{IMPORTANT:{openRate:0,timeSpent:0},INFO:{openRate:0,timeSpent:0},FUN:{openRate:0,timeSpent:0}},location:{},lastActionDate:new Date().toISOString().split("T")[0],userState:"BASELINE"},Mp=new Set;let Wn=qD();function qD(){try{const t=localStorage.getItem(jp);if(t){const e=JSON.parse(t);return Array.isArray(e.visibleFeed)||(e.visibleFeed=[]),Array.isArray(e.pool)||(e.pool=[]),e.history||(e.history={shown:[],archived:[],deleted:[]}),{...cc,...e}}}catch(t){console.error("Failed to load news state",t);try{Oe.from("system_errors").insert({error_code:"STATE_CORRUPTION",error_message:String(t),context:{location:"newsStore.loadState"}}).then(()=>console.log("Error reported."))}catch{}try{localStorage.removeItem(jp)}catch{}}return cc}function Ef(){try{localStorage.setItem(jp,JSON.stringify(Wn))}catch(t){console.error("Failed to save news state",t)}}function Af(){Mp.forEach(t=>t(Wn))}async function KD(t){if(t.userId)try{const{error:e}=await Oe.from("user_news_states").upsert({user_id:t.userId,state:t,last_updated:new Date});e&&console.error("[NewsStore] Cloud sync failed:",e)}catch(e){console.error("[NewsStore] Cloud sync exception:",e)}}async function GD(t){try{const{data:e}=await Oe.from("user_news_states").select("state").eq("user_id",t).single();if(e&&e.state)return console.log("[NewsStore] Loaded state from cloud"),e.state}catch(e){console.warn("[NewsStore] No cloud state found or error",e)}return null}const ft={getState:()=>Wn,subscribe:t=>(Mp.add(t),()=>Mp.delete(t)),setState:t=>{Wn=t(Wn),Ef(),KD(Wn),Af()},reset:async t=>{if(!t){Wn={...cc},Ef(),Af();return}const e=await GD(t);e?Wn={...e,userId:t}:Wn={...cc,userId:t},Ef(),Af()},initialize:async t=>{Wn.userId!==t&&await ft.reset(t)}},wo={leipzig:{name:"Leipzig",land:"Sachsen",neighbors:["Berlin","Dresden","Halle"]},dresden:{name:"Dresden",land:"Sachsen",neighbors:["Berlin","Leipzig","Chemnitz"]},chemnitz:{name:"Chemnitz",land:"Sachsen",neighbors:["Leipzig","Dresden","Zwickau"]},halle:{name:"Halle (Saale)",land:"Sachsen-Anhalt",neighbors:["Leipzig","Magdeburg","Dessau"]},magdeburg:{name:"Magdeburg",land:"Sachsen-Anhalt",neighbors:["Berlin","Halle","Leipzig"]},erfurt:{name:"Erfurt",land:"Thringen",neighbors:["Weimar","Jena","Leipzig"]},berlin:{name:"Berlin",land:"Berlin",neighbors:["Brandenburg","Potsdam"]},potsdam:{name:"Potsdam",land:"Brandenburg",neighbors:["Berlin","Brandenburg"]},cottbus:{name:"Cottbus",land:"Brandenburg",neighbors:["Berlin","Dresden","Potsdam"]},frankfurt_oder:{name:"Frankfurt (Oder)",land:"Brandenburg",neighbors:["Berlin","Cottbus","Potsdam"]},rostock:{name:"Rostock",land:"Mecklenburg-Vorpommern",neighbors:["Schwerin","Kiel","Hamburg"]},schwerin:{name:"Schwerin",land:"Mecklenburg-Vorpommern",neighbors:["Hamburg","Rostock","Mecklenburg-Vorpommern"]},hamburg:{name:"Hamburg",land:"Hamburg",neighbors:["Schleswig-Holstein","Niedersachsen","Lbeck"]},kiel:{name:"Kiel",land:"Schleswig-Holstein",neighbors:["Hamburg","Lbeck","Schleswig-Holstein"]},luebeck:{name:"Lbeck",land:"Schleswig-Holstein",neighbors:["Hamburg","Kiel","Rostock"]},bremen:{name:"Bremen",land:"Bremen",neighbors:["Hamburg","Niedersachsen"]},bremerhaven:{name:"Bremerhaven",land:"Bremen",neighbors:["Bremen","Hamburg","Cuxhaven"]},hannover:{name:"Hannover",land:"Niedersachsen",neighbors:["Braunschweig","Hildesheim","Wolfsburg"]},wolfsburg:{name:"Wolfsburg",land:"Niedersachsen",neighbors:["Braunschweig","Hannover","Magdeburg"]},braunschweig:{name:"Braunschweig",land:"Niedersachsen",neighbors:["Wolfsburg","Hannover","Hildesheim"]},koeln:{name:"Kln",land:"Nordrhein-Westfalen",neighbors:["Dsseldorf","Bonn","Leverkusen"]},duesseldorf:{name:"Dsseldorf",land:"Nordrhein-Westfalen",neighbors:["Kln","Duisburg","Essen"]},dortmund:{name:"Dortmund",land:"Nordrhein-Westfalen",neighbors:["Bochum","Essen","Hagen"]},essen:{name:"Essen",land:"Nordrhein-Westfalen",neighbors:["Bochum","Duisburg","Gelsenkirchen"]},duisburg:{name:"Duisburg",land:"Nordrhein-Westfalen",neighbors:["Essen","Dsseldorf","Oberhausen"]},bochum:{name:"Bochum",land:"Nordrhein-Westfalen",neighbors:["Essen","Dortmund","Gelsenkirchen"]},bonn:{name:"Bonn",land:"Nordrhein-Westfalen",neighbors:["Kln","Koblenz","Aachen"]},muenster:{name:"Mnster",land:"Nordrhein-Westfalen",neighbors:["Dortmund","Osnabrck","Bielefeld"]},wuppertal:{name:"Wuppertal",land:"Nordrhein-Westfalen",neighbors:["Dsseldorf","Essen","Kln"]},bielefeld:{name:"Bielefeld",land:"Nordrhein-Westfalen",neighbors:["Mnster","Osnabrck","Hannover"]},aachen:{name:"Aachen",land:"Nordrhein-Westfalen",neighbors:["Kln","Dsseldorf","Bonn"]},gelsenkirchen:{name:"Gelsenkirchen",land:"Nordrhein-Westfalen",neighbors:["Essen","Bochum","Dortmund"]},oberhausen:{name:"Oberhausen",land:"Nordrhein-Westfalen",neighbors:["Duisburg","Essen","Bottrop"]},moenchengladbach:{name:"Mnchengladbach",land:"Nordrhein-Westfalen",neighbors:["Dsseldorf","Kln","Krefeld"]},recklinghausen:{name:"Recklinghausen",land:"Nordrhein-Westfalen",neighbors:["Dortmund","Essen","Bochum"]},krefeld:{name:"Krefeld",land:"Nordrhein-Westfalen",neighbors:["Dsseldorf","Duisburg","Mnchengladbach"]},frankfurt:{name:"Frankfurt am Main",land:"Hessen",neighbors:["Wiesbaden","Mainz","Darmstadt"]},wiesbaden:{name:"Wiesbaden",land:"Hessen",neighbors:["Mainz","Frankfurt","Hessen"]},mainz:{name:"Mainz",land:"Rheinland-Pfalz",neighbors:["Wiesbaden","Frankfurt","Rheinland-Pfalz"]},kaiserslautern:{name:"Kaiserslautern",land:"Rheinland-Pfalz",neighbors:["Mainz","Saarbrcken","Mannheim"]},trier:{name:"Trier",land:"Rheinland-Pfalz",neighbors:["Saarbrcken","Koblenz","Luxemburg"]},saarbruecken:{name:"Saarbrcken",land:"Saarland",neighbors:["Trier","Rheinland-Pfalz","Saarland"]},stuttgart:{name:"Stuttgart",land:"Baden-Wrttemberg",neighbors:["Karlsruhe","Ulm","Heilbronn"]},karlsruhe:{name:"Karlsruhe",land:"Baden-Wrttemberg",neighbors:["Stuttgart","Mannheim","Heidelberg"]},mannheim:{name:"Mannheim",land:"Baden-Wrttemberg",neighbors:["Heidelberg","Ludwigshafen","Frankfurt"]},heidelberg:{name:"Heidelberg",land:"Baden-Wrttemberg",neighbors:["Mannheim","Karlsruhe","Stuttgart"]},ulm:{name:"Ulm",land:"Baden-Wrttemberg",neighbors:["Stuttgart","Augsburg","Mnchen"]},muenchen:{name:"Mnchen",land:"Bayern",neighbors:["Augsburg","Nrnberg","Rosenheim"]},nuernberg:{name:"Nrnberg",land:"Bayern",neighbors:["Frth","Erlangen","Mnchen"]},augsburg:{name:"Augsburg",land:"Bayern",neighbors:["Mnchen","Ulm","Stuttgart"]},regensburg:{name:"Regensburg",land:"Bayern",neighbors:["Mnchen","Nrnberg","Ingolstadt"]}},Fu={Sachsen:["Berlin","Brandenburg","Sachsen-Anhalt"],"Sachsen-Anhalt":["Sachsen","Niedersachsen","Berlin"],Thringen:["Sachsen","Hessen","Bayern"],Brandenburg:["Berlin","Sachsen","Mecklenburg-Vorpommern"],"Schleswig-Holstein":["Hamburg","Niedersachsen"],"Mecklenburg-Vorpommern":["Brandenburg","Hamburg","Berlin"],Hessen:["Rheinland-Pfalz","Bayern","Thringen"],"Rheinland-Pfalz":["Hessen","Saarland","Baden-Wrttemberg"],Saarland:["Rheinland-Pfalz"],Bayern:["Baden-Wrttemberg","Thringen","Hessen"],"Baden-Wrttemberg":["Bayern","Hessen","Rheinland-Pfalz"],"Nordrhein-Westfalen":["Niedersachsen","Hessen","Rheinland-Pfalz"],Niedersachsen:["Hamburg","Bremen","Nordrhein-Westfalen","Schleswig-Holstein"],Berlin:["Brandenburg","Potsdam"],Bremen:["Niedersachsen"],Hamburg:["Schleswig-Holstein","Niedersachsen"]},gw=["IMPORTANT","FUN","IMPORTANT","INFO","FUN","INFO"];let jt={};class tc{static async setUserGeo(e,n){if(jt.land===e&&jt.city===n)return;jt={land:e,city:n},console.log("[FeedManager] User geo set:",jt),ft.setState(a=>({...a,location:{city:n,land:e}})),ft.getState().visibleFeed.length>0&&(console.log("[FeedManager] Geo changed, forcing feed refresh..."),await this.forceRefillFeed())}static async initialize(e,n){e&&await this.setUserGeo(e,n);const{data:{user:r}}=await Oe.auth.getUser();r&&ft.getState().userId!==r.id&&(console.log("[FeedManager] New user detected. Resetting news state."),ft.reset(r.id));const a=new Date().toISOString().split("T")[0],o=ft.getState();o.visibleFeed.length===0&&await this.forceRefillFeed(),o.lastActionDate!==a&&await this.performDayRollover(a),this.syncPushToken(),o.visibleFeed.some(u=>u<=0)&&(console.log("Found empty slots, attempting to fill..."),await this.fillEmptySlots()),await this.verifyFeedIntegrity()}static handleSwipe(e,n){const r=ft.getState();if(r.visibleFeed.indexOf(e)===-1)return;const o=n==="RIGHT"?"ARCHIVE":"DELETE",u={...r.history};o==="ARCHIVE"?(u.archived=[...u.archived,e],u.shown=[...u.shown,e]):(u.deleted=[...u.deleted,e],u.shown=[...u.shown,e]),ft.setState(h=>({...h,history:u,lastActionDate:new Date().toISOString().split("T")[0],visibleFeed:h.visibleFeed.map(f=>f===e?-1:f)})),this.fillEmptySlots()}static handleArchiveDeletion(e){const r={...ft.getState().history};r.archived=r.archived.filter(a=>a!==e),r.deleted=[...r.deleted,e],ft.setState(a=>({...a,history:r}))}static getNeighbors(e){if(!e)return[];const n=e.toLowerCase();if(wo[n])return wo[n].neighbors;const r=n.replace(/[()]/g,"").trim().replace(/\s+/g,"_");if(wo[r])return wo[r].neighbors;const a=Object.values(wo).find(o=>o.name.toLowerCase()===n);return a?a.neighbors:Fu[e]||Fu[n]?Fu[e]||Fu[n]:[]}static sortCandidatesByGeo(e){return e.sort((n,r)=>{const a=g=>g.scope==="CITY"&&g.city===jt.city?100:g.scope==="LAND"&&g.land===jt.land?90:g.scope==="DE"||g.scope==="COUNTRY"?50:10,o=a(n),u=a(r);if(o!==u)return u-o;const h={HIGH:3,MEDIUM:2,LOW:1},f=h[n.priority]||0;return(h[r.priority]||0)-f})}static filterByGeo(e,n=!1){return e.filter(r=>{if(!r.scope||r.scope==="DE"||r.scope==="COUNTRY"||r.scope==="LAND"&&r.land===jt.land||r.scope==="CITY"&&r.city===jt.city)return!0;if(n){const a=[...this.getNeighbors(jt.city||""),...this.getNeighbors(jt.land||"")];if(r.city&&a.includes(r.city)||r.land&&a.includes(r.land))return!0}return!1})}static async forceRefillFeed(){console.log("[FeedManager] Force refilling feed (Defensive Mode)",jt);const e=ft.getState(),n=e.userId,{defensiveFetch:r}=await Mo(async()=>{const{defensiveFetch:v}=await import("./defensiveFetch-BC22A_pq.js");return{defensiveFetch:v}},[]),a=async()=>{const{data:v,error:b}=await Oe.functions.invoke("serve-feed",{body:{city:jt.city,land:jt.land,userId:n,limit:100}});if(b)throw b;return v},o=await r({key:`feed:${jt.city||"all"}:${jt.land||"all"}`,fn:a});if(o.error){if(console.error("[FeedManager] Feed Refresh Failed:",o.error),o.error.kind==="AUTH_REQUIRED"){console.warn("[FeedManager] CRITICAL: Auth Required. Stopping refresh.");return}if(o.error.kind==="CIRCUIT_OPEN"||o.error.kind==="RETRYABLE"){console.warn("[FeedManager] Offline/Circuit Open. Using existing cache.");return}return}const u=o.data?.feed||[];console.log(`[FeedManager] Received ${u.length} items from server`);const h=new Set([...e.history.deleted,...e.history.archived,...e.visibleFeed.filter(v=>v>0)]),f=u.filter(v=>!h.has(v.id)),d=[],g=new Set;gw.forEach(v=>{const b=f.find(x=>x.type===v&&!g.has(x.id));if(b)d.push(b.id),g.add(b.id);else{const x=f.find(E=>!g.has(E.id));x?(d.push(x.id),g.add(x.id)):d.push(0)}});const y=f.filter(v=>!g.has(v.id)).map(v=>v.id);ft.setState(v=>({...v,visibleFeed:d,pool:y,lastFetch:new Date().toISOString()}))}static async performDayRollover(e){console.log(`Performing Day Rollover to ${e}`),ft.getState().lastActionDate!==e&&console.log("Inactivity detected. Rotating slots..."),ft.setState(a=>({...a,lastActionDate:e}))}static async fillEmptySlots(){const e=ft.getState(),n=e.visibleFeed.map((y,v)=>y<=0?v:-1).filter(y=>y!==-1);if(n.length===0)return;console.log(`Filling ${n.length} slots...`);const r=new Set([...e.visibleFeed,...e.history.shown]);let a=Oe.from("news").select("*").in("status",["POOL","ACTIVE"]).eq("image_status","generated").not("image_url","is",null).not("type","is",null),o=r;const u=Array.from(r).filter(y=>typeof y=="number"&&y>0);u.length>0&&(a=a.not("id","in",`(${u.join(",")})`));let{data:h}=await a.order("priority",{ascending:!1}).order("created_at",{ascending:!1}).order("id",{ascending:!1}).limit(100);if(!h||h.length===0){console.log("[FeedManager] No fresh news found. Recycling old news...");const{data:y}=await Oe.from("news").select("*").in("status",["POOL","ACTIVE"]).eq("image_status","generated").not("image_url","is",null).not("type","is",null).order("priority",{ascending:!1}).order("created_at",{ascending:!1}).order("id",{ascending:!1}).limit(50);y&&y.length>0&&(h=y,o=new Set([...e.visibleFeed.filter(v=>v>0),...e.history.deleted,...e.history.archived]))}if(!h)return;let f=this.filterByGeo(h,!1);f.length<n.length&&(console.log("[FeedManager] Not enough strict local candidates. Expanding to neighbors..."),f=this.filterByGeo(h,!0)),f=this.sortCandidatesByGeo(f);const d=[...e.visibleFeed],g=new Set;n.forEach(y=>{const v=gw[y];let b=f.find(x=>x.type===v&&!o.has(x.id)&&!g.has(x.id));b||(b=f.find(x=>!o.has(x.id)&&!g.has(x.id))),!b&&h.length>0&&(b=h.find(x=>!g.has(x.id)),b&&console.log("[FeedManager] Last resort: Recycling recently seen item to prevent empty slot.")),b?(d[y]=b.id,g.add(b.id)):d[y]=-999}),ft.setState(y=>({...y,visibleFeed:d}))}static async verifyFeedIntegrity(){const n=ft.getState().visibleFeed.filter(a=>a>0);if(n.length===0)return;console.log("[FeedManager] Verifying feed integrity for IDs:",n);const{data:r}=await Oe.from("news").select("id").in("id",n);if(r){const a=new Set(r.map(u=>u.id)),o=n.filter(u=>!a.has(u));o.length>0?(console.warn("[FeedManager] Found dead IDs in persistent store:",o),ft.setState(u=>({...u,visibleFeed:u.visibleFeed.map(h=>o.includes(h)?0:h)})),await this.fillEmptySlots()):console.log("[FeedManager] Feed integrity check passed.")}}static async syncPushToken(){try{if(typeof Notification>"u"||Notification.permission!=="granted")return;const{messaging:e}=await Mo(async()=>{const{messaging:a}=await Promise.resolve().then(()=>EV);return{messaging:a}},void 0);if(!e)return;const{getToken:n}=await Mo(async()=>{const{getToken:a}=await Promise.resolve().then(()=>xV);return{getToken:a}},void 0),r=await n(e,{vapidKey:void 0});if(r){const a=ft.getState();console.log("[FeedManager] Syncing Push Token:",r.substring(0,10));const{error:o}=await Oe.from("user_push_tokens").upsert({token:r,user_id:a.userId,city:jt.city||null,land:jt.land||null,last_updated:new Date().toISOString()});o&&console.error("[FeedManager] Token sync failed:",o)}}catch(e){console.warn("[FeedManager] Push init failed:",e)}}}const YD=Object.freeze(Object.defineProperty({__proto__:null,FeedManager:tc},Symbol.toStringTag,{value:"Module"}));function H1(t={}){const[e,n]=V.useState(ft.getState());return V.useEffect(()=>{tc.initialize(t.land,t.city);const o=ft.subscribe(u=>{n({...u})});return()=>{o()}},[t.land,t.city]),{...e,handleSwipe:async(o,u)=>{await tc.handleSwipe(o,u)},handleArchiveDeletion:async o=>{await tc.handleArchiveDeletion(o)}}}const Rg=V.createContext({});function Zr(t){const e=V.useRef(null);return e.current===null&&(e.current=t()),e.current}const F1=typeof window<"u",Dg=F1?V.useLayoutEffect:V.useEffect,jc=V.createContext(null);function Ng(t,e){t.indexOf(e)===-1&&t.push(e)}function jg(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const ei=(t,e,n)=>n>e?e:n<t?t:n;let Mg=()=>{};const Oi={},q1=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function K1(t){return typeof t=="object"&&t!==null}const G1=t=>/^0[^.\s]+$/u.test(t);function Lg(t){let e;return()=>(e===void 0&&(e=t()),e)}const Dn=t=>t,WD=(t,e)=>n=>e(t(n)),hl=(...t)=>t.reduce(WD),el=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class Ig{constructor(){this.subscriptions=[]}add(e){return Ng(this.subscriptions,e),()=>jg(this.subscriptions,e)}notify(e,n,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,r);else for(let o=0;o<a;o++){const u=this.subscriptions[o];u&&u(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ki=t=>t*1e3,Rn=t=>t/1e3;function Y1(t,e){return e?t*(1e3/e):0}const W1=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,XD=1e-7,JD=12;function QD(t,e,n,r,a){let o,u,h=0;do u=e+(n-e)/2,o=W1(u,r,a)-t,o>0?n=u:e=u;while(Math.abs(o)>XD&&++h<JD);return u}function dl(t,e,n,r){if(t===e&&n===r)return Dn;const a=o=>QD(o,0,1,t,n);return o=>o===0||o===1?o:W1(a(o),e,r)}const X1=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,J1=t=>e=>1-t(1-e),Q1=dl(.33,1.53,.69,.99),Pg=J1(Q1),Z1=X1(Pg),e_=t=>(t*=2)<1?.5*Pg(t):.5*(2-Math.pow(2,-10*(t-1))),Bg=t=>1-Math.sin(Math.acos(t)),t_=J1(Bg),n_=X1(Bg),ZD=dl(.42,0,1,1),eN=dl(0,0,.58,1),i_=dl(.42,0,.58,1),tN=t=>Array.isArray(t)&&typeof t[0]!="number",r_=t=>Array.isArray(t)&&typeof t[0]=="number",nN={linear:Dn,easeIn:ZD,easeInOut:i_,easeOut:eN,circIn:Bg,circInOut:n_,circOut:t_,backIn:Pg,backInOut:Z1,backOut:Q1,anticipate:e_},iN=t=>typeof t=="string",mw=t=>{if(r_(t)){Mg(t.length===4);const[e,n,r,a]=t;return dl(e,n,r,a)}else if(iN(t))return nN[t];return t},qu=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function rN(t,e){let n=new Set,r=new Set,a=!1,o=!1;const u=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function f(g){u.has(g)&&(d.schedule(g),t()),g(h)}const d={schedule:(g,y=!1,v=!1)=>{const x=v&&a?n:r;return y&&u.add(g),x.has(g)||x.add(g),g},cancel:g=>{r.delete(g),u.delete(g)},process:g=>{if(h=g,a){o=!0;return}a=!0,[n,r]=[r,n],n.forEach(f),n.clear(),a=!1,o&&(o=!1,d.process(g))}};return d}const sN=40;function s_(t,e){let n=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,u=qu.reduce((C,D)=>(C[D]=rN(o),C),{}),{setup:h,read:f,resolveKeyframes:d,preUpdate:g,update:y,preRender:v,render:b,postRender:x}=u,E=()=>{const C=Oi.useManualTiming?a.timestamp:performance.now();n=!1,Oi.useManualTiming||(a.delta=r?1e3/60:Math.max(Math.min(C-a.timestamp,sN),1)),a.timestamp=C,a.isProcessing=!0,h.process(a),f.process(a),d.process(a),g.process(a),y.process(a),v.process(a),b.process(a),x.process(a),a.isProcessing=!1,n&&e&&(r=!1,t(E))},T=()=>{n=!0,r=!0,a.isProcessing||t(E)};return{schedule:qu.reduce((C,D)=>{const $=u[D];return C[D]=(M,F=!1,Y=!1)=>(n||T(),$.schedule(M,F,Y)),C},{}),cancel:C=>{for(let D=0;D<qu.length;D++)u[qu[D]].cancel(C)},state:a,steps:u}}const{schedule:tt,cancel:Ri,state:Lt,steps:kf}=s_(typeof requestAnimationFrame<"u"?requestAnimationFrame:Dn,!0);let nc;function aN(){nc=void 0}const Ft={now:()=>(nc===void 0&&Ft.set(Lt.isProcessing||Oi.useManualTiming?Lt.timestamp:performance.now()),nc),set:t=>{nc=t,queueMicrotask(aN)}},a_=t=>e=>typeof e=="string"&&e.startsWith(t),o_=a_("--"),oN=a_("var(--"),Ug=t=>oN(t)?lN.test(t.split("/*")[0].trim()):!1,lN=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function yw(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const ba={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},tl={...ba,transform:t=>ei(0,1,t)},Ku={...ba,default:1},Lo=t=>Math.round(t*1e5)/1e5,zg=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function uN(t){return t==null}const cN=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Vg=(t,e)=>n=>!!(typeof n=="string"&&cN.test(n)&&n.startsWith(t)||e&&!uN(n)&&Object.prototype.hasOwnProperty.call(n,e)),l_=(t,e,n)=>r=>{if(typeof r!="string")return r;const[a,o,u,h]=r.match(zg);return{[t]:parseFloat(a),[e]:parseFloat(o),[n]:parseFloat(u),alpha:h!==void 0?parseFloat(h):1}},hN=t=>ei(0,255,t),Cf={...ba,transform:t=>Math.round(hN(t))},Gr={test:Vg("rgb","red"),parse:l_("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Cf.transform(t)+", "+Cf.transform(e)+", "+Cf.transform(n)+", "+Lo(tl.transform(r))+")"};function dN(t){let e="",n="",r="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,r+=r,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const Lp={test:Vg("#"),parse:dN,transform:Gr.transform},fl=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),lr=fl("deg"),Zn=fl("%"),ue=fl("px"),fN=fl("vh"),pN=fl("vw"),vw={...Zn,parse:t=>Zn.parse(t)/100,transform:t=>Zn.transform(t*100)},la={test:Vg("hsl","hue"),parse:l_("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Zn.transform(Lo(e))+", "+Zn.transform(Lo(n))+", "+Lo(tl.transform(r))+")"},wt={test:t=>Gr.test(t)||Lp.test(t)||la.test(t),parse:t=>Gr.test(t)?Gr.parse(t):la.test(t)?la.parse(t):Lp.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Gr.transform(t):la.transform(t),getAnimatableNone:t=>{const e=wt.parse(t);return e.alpha=0,wt.transform(e)}},gN=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function mN(t){return isNaN(t)&&typeof t=="string"&&(t.match(zg)?.length||0)+(t.match(gN)?.length||0)>0}const u_="number",c_="color",yN="var",vN="var(",bw="${}",bN=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function nl(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},a=[];let o=0;const h=e.replace(bN,f=>(wt.test(f)?(r.color.push(o),a.push(c_),n.push(wt.parse(f))):f.startsWith(vN)?(r.var.push(o),a.push(yN),n.push(f)):(r.number.push(o),a.push(u_),n.push(parseFloat(f))),++o,bw)).split(bw);return{values:n,split:h,indexes:r,types:a}}function h_(t){return nl(t).values}function d_(t){const{split:e,types:n}=nl(t),r=e.length;return a=>{let o="";for(let u=0;u<r;u++)if(o+=e[u],a[u]!==void 0){const h=n[u];h===u_?o+=Lo(a[u]):h===c_?o+=wt.transform(a[u]):o+=a[u]}return o}}const wN=t=>typeof t=="number"?0:wt.test(t)?wt.getAnimatableNone(t):t;function SN(t){const e=h_(t);return d_(t)(e.map(wN))}const pr={test:mN,parse:h_,createTransformer:d_,getAnimatableNone:SN};function Of(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function xN({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let a=0,o=0,u=0;if(!e)a=o=u=n;else{const h=n<.5?n*(1+e):n+e-n*e,f=2*n-h;a=Of(f,h,t+1/3),o=Of(f,h,t),u=Of(f,h,t-1/3)}return{red:Math.round(a*255),green:Math.round(o*255),blue:Math.round(u*255),alpha:r}}function hc(t,e){return n=>n>0?e:t}const at=(t,e,n)=>t+(e-t)*n,Rf=(t,e,n)=>{const r=t*t,a=n*(e*e-r)+r;return a<0?0:Math.sqrt(a)},_N=[Lp,Gr,la],TN=t=>_N.find(e=>e.test(t));function ww(t){const e=TN(t);if(!e)return!1;let n=e.parse(t);return e===la&&(n=xN(n)),n}const Sw=(t,e)=>{const n=ww(t),r=ww(e);if(!n||!r)return hc(t,e);const a={...n};return o=>(a.red=Rf(n.red,r.red,o),a.green=Rf(n.green,r.green,o),a.blue=Rf(n.blue,r.blue,o),a.alpha=at(n.alpha,r.alpha,o),Gr.transform(a))},Ip=new Set(["none","hidden"]);function EN(t,e){return Ip.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function AN(t,e){return n=>at(t,e,n)}function $g(t){return typeof t=="number"?AN:typeof t=="string"?Ug(t)?hc:wt.test(t)?Sw:ON:Array.isArray(t)?f_:typeof t=="object"?wt.test(t)?Sw:kN:hc}function f_(t,e){const n=[...t],r=n.length,a=t.map((o,u)=>$g(o)(o,e[u]));return o=>{for(let u=0;u<r;u++)n[u]=a[u](o);return n}}function kN(t,e){const n={...t,...e},r={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(r[a]=$g(t[a])(t[a],e[a]));return a=>{for(const o in r)n[o]=r[o](a);return n}}function CN(t,e){const n=[],r={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const o=e.types[a],u=t.indexes[o][r[o]],h=t.values[u]??0;n[a]=h,r[o]++}return n}const ON=(t,e)=>{const n=pr.createTransformer(e),r=nl(t),a=nl(e);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?Ip.has(t)&&!a.values.length||Ip.has(e)&&!r.values.length?EN(t,e):hl(f_(CN(r,a),a.values),n):hc(t,e)};function p_(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?at(t,e,n):$g(t)(t,e)}const RN=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>tt.update(e,n),stop:()=>Ri(e),now:()=>Lt.isProcessing?Lt.timestamp:Ft.now()}},g_=(t,e,n=10)=>{let r="";const a=Math.max(Math.round(e/n),2);for(let o=0;o<a;o++)r+=Math.round(t(o/(a-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},dc=2e4;function Hg(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<dc;)e+=n,r=t.next(e);return e>=dc?1/0:e}function DN(t,e=100,n){const r=n({...t,keyframes:[0,e]}),a=Math.min(Hg(r),dc);return{type:"keyframes",ease:o=>r.next(a*o).value/e,duration:Rn(a)}}const NN=5;function m_(t,e,n){const r=Math.max(e-NN,0);return Y1(n-t(r),e-r)}const ct={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Df=.001;function jN({duration:t=ct.duration,bounce:e=ct.bounce,velocity:n=ct.velocity,mass:r=ct.mass}){let a,o,u=1-e;u=ei(ct.minDamping,ct.maxDamping,u),t=ei(ct.minDuration,ct.maxDuration,Rn(t)),u<1?(a=d=>{const g=d*u,y=g*t,v=g-n,b=Pp(d,u),x=Math.exp(-y);return Df-v/b*x},o=d=>{const y=d*u*t,v=y*n+n,b=Math.pow(u,2)*Math.pow(d,2)*t,x=Math.exp(-y),E=Pp(Math.pow(d,2),u);return(-a(d)+Df>0?-1:1)*((v-b)*x)/E}):(a=d=>{const g=Math.exp(-d*t),y=(d-n)*t+1;return-Df+g*y},o=d=>{const g=Math.exp(-d*t),y=(n-d)*(t*t);return g*y});const h=5/t,f=LN(a,o,h);if(t=ki(t),isNaN(f))return{stiffness:ct.stiffness,damping:ct.damping,duration:t};{const d=Math.pow(f,2)*r;return{stiffness:d,damping:u*2*Math.sqrt(r*d),duration:t}}}const MN=12;function LN(t,e,n){let r=n;for(let a=1;a<MN;a++)r=r-t(r)/e(r);return r}function Pp(t,e){return t*Math.sqrt(1-e*e)}const IN=["duration","bounce"],PN=["stiffness","damping","mass"];function xw(t,e){return e.some(n=>t[n]!==void 0)}function BN(t){let e={velocity:ct.velocity,stiffness:ct.stiffness,damping:ct.damping,mass:ct.mass,isResolvedFromDuration:!1,...t};if(!xw(t,PN)&&xw(t,IN))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),a=r*r,o=2*ei(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:ct.mass,stiffness:a,damping:o}}else{const n=jN(t);e={...e,...n,mass:ct.mass},e.isResolvedFromDuration=!0}return e}function fc(t=ct.visualDuration,e=ct.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:a}=n;const o=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],h={done:!1,value:o},{stiffness:f,damping:d,mass:g,duration:y,velocity:v,isResolvedFromDuration:b}=BN({...n,velocity:-Rn(n.velocity||0)}),x=v||0,E=d/(2*Math.sqrt(f*g)),T=u-o,A=Rn(Math.sqrt(f/g)),R=Math.abs(T)<5;r||(r=R?ct.restSpeed.granular:ct.restSpeed.default),a||(a=R?ct.restDelta.granular:ct.restDelta.default);let C;if(E<1){const $=Pp(A,E);C=M=>{const F=Math.exp(-E*A*M);return u-F*((x+E*A*T)/$*Math.sin($*M)+T*Math.cos($*M))}}else if(E===1)C=$=>u-Math.exp(-A*$)*(T+(x+A*T)*$);else{const $=A*Math.sqrt(E*E-1);C=M=>{const F=Math.exp(-E*A*M),Y=Math.min($*M,300);return u-F*((x+E*A*T)*Math.sinh(Y)+$*T*Math.cosh(Y))/$}}const D={calculatedDuration:b&&y||null,next:$=>{const M=C($);if(b)h.done=$>=y;else{let F=$===0?x:0;E<1&&(F=$===0?ki(x):m_(C,$,M));const Y=Math.abs(F)<=r,ee=Math.abs(u-M)<=a;h.done=Y&&ee}return h.value=h.done?u:M,h},toString:()=>{const $=Math.min(Hg(D),dc),M=g_(F=>D.next($*F).value,$,30);return $+"ms "+M},toTransition:()=>{}};return D}fc.applyToOptions=t=>{const e=DN(t,100,fc);return t.ease=e.ease,t.duration=ki(e.duration),t.type="keyframes",t};function Bp({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:o=500,modifyTarget:u,min:h,max:f,restDelta:d=.5,restSpeed:g}){const y=t[0],v={done:!1,value:y},b=Y=>h!==void 0&&Y<h||f!==void 0&&Y>f,x=Y=>h===void 0?f:f===void 0||Math.abs(h-Y)<Math.abs(f-Y)?h:f;let E=n*e;const T=y+E,A=u===void 0?T:u(T);A!==T&&(E=A-y);const R=Y=>-E*Math.exp(-Y/r),C=Y=>A+R(Y),D=Y=>{const ee=R(Y),oe=C(Y);v.done=Math.abs(ee)<=d,v.value=v.done?A:oe};let $,M;const F=Y=>{b(v.value)&&($=Y,M=fc({keyframes:[v.value,x(v.value)],velocity:m_(C,Y,v.value),damping:a,stiffness:o,restDelta:d,restSpeed:g}))};return F(0),{calculatedDuration:null,next:Y=>{let ee=!1;return!M&&$===void 0&&(ee=!0,D(Y),F(Y)),$!==void 0&&Y>=$?M.next(Y-$):(!ee&&D(Y),v)}}}function UN(t,e,n){const r=[],a=n||Oi.mix||p_,o=t.length-1;for(let u=0;u<o;u++){let h=a(t[u],t[u+1]);if(e){const f=Array.isArray(e)?e[u]||Dn:e;h=hl(f,h)}r.push(h)}return r}function y_(t,e,{clamp:n=!0,ease:r,mixer:a}={}){const o=t.length;if(Mg(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=UN(e,r,a),f=h.length,d=g=>{if(u&&g<t[0])return e[0];let y=0;if(f>1)for(;y<t.length-2&&!(g<t[y+1]);y++);const v=el(t[y],t[y+1],g);return h[y](v)};return n?g=>d(ei(t[0],t[o-1],g)):d}function zN(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const a=el(0,e,r);t.push(at(n,1,a))}}function VN(t){const e=[0];return zN(e,t.length-1),e}function $N(t,e){return t.map(n=>n*e)}function HN(t,e){return t.map(()=>e||i_).splice(0,t.length-1)}function Io({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const a=tN(r)?r.map(mw):mw(r),o={done:!1,value:e[0]},u=$N(n&&n.length===e.length?n:VN(e),t),h=y_(u,e,{ease:Array.isArray(a)?a:HN(e,a)});return{calculatedDuration:t,next:f=>(o.value=h(f),o.done=f>=t,o)}}const FN=t=>t!==null;function Fg(t,{repeat:e,repeatType:n="loop"},r,a=1){const o=t.filter(FN),h=a<0||e&&n!=="loop"&&e%2===1?0:o.length-1;return!h||r===void 0?o[h]:r}const qN={decay:Bp,inertia:Bp,tween:Io,keyframes:Io,spring:fc};function v_(t){typeof t.type=="string"&&(t.type=qN[t.type])}class qg{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const KN=t=>t/100;class Kg extends qg{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Ft.now()&&this.tick(Ft.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;v_(e);const{type:n=Io,repeat:r=0,repeatDelay:a=0,repeatType:o,velocity:u=0}=e;let{keyframes:h}=e;const f=n||Io;f!==Io&&typeof h[0]!="number"&&(this.mixKeyframes=hl(KN,p_(h[0],h[1])),h=[0,100]);const d=f({...e,keyframes:h});o==="mirror"&&(this.mirroredGenerator=f({...e,keyframes:[...h].reverse(),velocity:-u})),d.calculatedDuration===null&&(d.calculatedDuration=Hg(d));const{calculatedDuration:g}=d;this.calculatedDuration=g,this.resolvedDuration=g+a,this.totalDuration=this.resolvedDuration*(r+1)-a,this.generator=d}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:a,mixKeyframes:o,mirroredGenerator:u,resolvedDuration:h,calculatedDuration:f}=this;if(this.startTime===null)return r.next(0);const{delay:d=0,keyframes:g,repeat:y,repeatType:v,repeatDelay:b,type:x,onUpdate:E,finalKeyframe:T}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const A=this.currentTime-d*(this.playbackSpeed>=0?1:-1),R=this.playbackSpeed>=0?A<0:A>a;this.currentTime=Math.max(A,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let C=this.currentTime,D=r;if(y){const Y=Math.min(this.currentTime,a)/h;let ee=Math.floor(Y),oe=Y%1;!oe&&Y>=1&&(oe=1),oe===1&&ee--,ee=Math.min(ee,y+1),ee%2&&(v==="reverse"?(oe=1-oe,b&&(oe-=b/h)):v==="mirror"&&(D=u)),C=ei(0,1,oe)*h}const $=R?{done:!1,value:g[0]}:D.next(C);o&&($.value=o($.value));let{done:M}=$;!R&&f!==null&&(M=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const F=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&M);return F&&x!==Bp&&($.value=Fg(g,this.options,T,this.speed)),E&&E($.value),F&&this.finish(),$}then(e,n){return this.finished.then(e,n)}get duration(){return Rn(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Rn(e)}get time(){return Rn(this.currentTime)}set time(e){e=ki(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Ft.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Rn(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=RN,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ft.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function GN(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Yr=t=>t*180/Math.PI,Up=t=>{const e=Yr(Math.atan2(t[1],t[0]));return zp(e)},YN={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Up,rotateZ:Up,skewX:t=>Yr(Math.atan(t[1])),skewY:t=>Yr(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},zp=t=>(t=t%360,t<0&&(t+=360),t),_w=Up,Tw=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Ew=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),WN={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Tw,scaleY:Ew,scale:t=>(Tw(t)+Ew(t))/2,rotateX:t=>zp(Yr(Math.atan2(t[6],t[5]))),rotateY:t=>zp(Yr(Math.atan2(-t[2],t[0]))),rotateZ:_w,rotate:_w,skewX:t=>Yr(Math.atan(t[4])),skewY:t=>Yr(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Vp(t){return t.includes("scale")?1:0}function $p(t,e){if(!t||t==="none")return Vp(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,a;if(n)r=WN,a=n;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=YN,a=h}if(!a)return Vp(e);const o=r[e],u=a[1].split(",").map(JN);return typeof o=="function"?o(u):u[o]}const XN=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return $p(n,e)};function JN(t){return parseFloat(t.trim())}const wa=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Sa=new Set(wa),Aw=t=>t===ba||t===ue,QN=new Set(["x","y","z"]),ZN=wa.filter(t=>!QN.has(t));function ej(t){const e=[];return ZN.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const dr={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>$p(e,"x"),y:(t,{transform:e})=>$p(e,"y")};dr.translateX=dr.x;dr.translateY=dr.y;const Qr=new Set;let Hp=!1,Fp=!1,qp=!1;function b_(){if(Fp){const t=Array.from(Qr).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const a=ej(r);a.length&&(n.set(r,a),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const a=n.get(r);a&&a.forEach(([o,u])=>{r.getValue(o)?.set(u)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Fp=!1,Hp=!1,Qr.forEach(t=>t.complete(qp)),Qr.clear()}function w_(){Qr.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Fp=!0)})}function tj(){qp=!0,w_(),b_(),qp=!1}class Gg{constructor(e,n,r,a,o,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=a,this.element=o,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Qr.add(this),Hp||(Hp=!0,tt.read(w_),tt.resolveKeyframes(b_))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:a}=this;if(e[0]===null){const o=a?.get(),u=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const h=r.readValue(n,u);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=u),a&&o===void 0&&a.set(e[0])}GN(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Qr.delete(this)}cancel(){this.state==="scheduled"&&(Qr.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const nj=t=>t.startsWith("--");function ij(t,e,n){nj(e)?t.style.setProperty(e,n):t.style[e]=n}const rj=Lg(()=>window.ScrollTimeline!==void 0),sj={};function aj(t,e){const n=Lg(t);return()=>sj[e]??n()}const S_=aj(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Co=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,kw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Co([0,.65,.55,1]),circOut:Co([.55,0,1,.45]),backIn:Co([.31,.01,.66,-.59]),backOut:Co([.33,1.53,.69,.99])};function x_(t,e){if(t)return typeof t=="function"?S_()?g_(t,e):"ease-out":r_(t)?Co(t):Array.isArray(t)?t.map(n=>x_(n,e)||kw.easeOut):kw[t]}function oj(t,e,n,{delay:r=0,duration:a=300,repeat:o=0,repeatType:u="loop",ease:h="easeOut",times:f}={},d=void 0){const g={[e]:n};f&&(g.offset=f);const y=x_(h,a);Array.isArray(y)&&(g.easing=y);const v={delay:r,duration:a,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:o+1,direction:u==="reverse"?"alternate":"normal"};return d&&(v.pseudoElement=d),t.animate(g,v)}function __(t){return typeof t=="function"&&"applyToOptions"in t}function lj({type:t,...e}){return __(t)&&S_()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class uj extends qg{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:r,keyframes:a,pseudoElement:o,allowFlatten:u=!1,finalKeyframe:h,onComplete:f}=e;this.isPseudoElement=!!o,this.allowFlatten=u,this.options=e,Mg(typeof e.type!="string");const d=lj(e);this.animation=oj(n,r,a,d,o),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const g=Fg(a,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(g):ij(n,r,g),this.animation.cancel()}f?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Rn(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Rn(e)}get time(){return Rn(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=ki(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&rj()?(this.animation.timeline=e,Dn):n(this)}}const T_={anticipate:e_,backInOut:Z1,circInOut:n_};function cj(t){return t in T_}function hj(t){typeof t.ease=="string"&&cj(t.ease)&&(t.ease=T_[t.ease])}const Nf=10;class dj extends uj{constructor(e){hj(e),v_(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:a,element:o,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const h=new Kg({...u,autoplay:!1}),f=Math.max(Nf,Ft.now()-this.startTime),d=ei(0,Nf,f-Nf);n.setWithVelocity(h.sample(Math.max(0,f-d)).value,h.sample(f).value,d),h.stop()}}const Cw=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(pr.test(t)||t==="0")&&!t.startsWith("url("));function fj(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function pj(t,e,n,r){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],u=Cw(a,e),h=Cw(o,e);return!u||!h?!1:fj(t)||(n==="spring"||__(n))&&r}function Kp(t){t.duration=0,t.type="keyframes"}const gj=new Set(["opacity","clipPath","filter","transform"]),mj=Lg(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function yj(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:a,damping:o,type:u}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:d}=e.owner.getProps();return mj()&&n&&gj.has(n)&&(n!=="transform"||!d)&&!f&&!r&&a!=="mirror"&&o!==0&&u!=="inertia"}const vj=40;class bj extends qg{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:a=0,repeatDelay:o=0,repeatType:u="loop",keyframes:h,name:f,motionValue:d,element:g,...y}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Ft.now();const v={autoplay:e,delay:n,type:r,repeat:a,repeatDelay:o,repeatType:u,name:f,motionValue:d,element:g,...y},b=g?.KeyframeResolver||Gg;this.keyframeResolver=new b(h,(x,E,T)=>this.onKeyframesResolved(x,E,v,!T),f,d,g),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,a){this.keyframeResolver=void 0;const{name:o,type:u,velocity:h,delay:f,isHandoff:d,onUpdate:g}=r;this.resolvedAt=Ft.now(),pj(e,o,u,h)||((Oi.instantAnimations||!f)&&g?.(Fg(e,r,n)),e[0]=e[e.length-1],Kp(r),r.repeat=0);const v={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>vj?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},b=!d&&yj(v),x=v.motionValue?.owner?.current,E=b?new dj({...v,element:x}):new Kg(v);E.finished.then(()=>{this.notifyFinished()}).catch(Dn),this.pendingTimeline&&(this.stopTimeline=E.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=E}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),tj()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function E_(t,e,n,r=0,a=1){const o=Array.from(t).sort((d,g)=>d.sortNodePosition(g)).indexOf(e),u=t.size,h=(u-1)*r;return typeof n=="function"?n(o,u):a===1?o*r:h-o*r}const wj=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Sj(t){const e=wj.exec(t);if(!e)return[,];const[,n,r,a]=e;return[`--${n??r}`,a]}function A_(t,e,n=1){const[r,a]=Sj(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const u=o.trim();return q1(u)?parseFloat(u):u}return Ug(a)?A_(a,e,n+1):a}const xj={type:"spring",stiffness:500,damping:25,restSpeed:10},_j=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Tj={type:"keyframes",duration:.8},Ej={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Aj=(t,{keyframes:e})=>e.length>2?Tj:Sa.has(t)?t.startsWith("scale")?_j(e[1]):xj:Ej,kj=t=>t!==null;function Cj(t,{repeat:e,repeatType:n="loop"},r){const a=t.filter(kj),o=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[o]}function Yg(t,e){return t?.[e]??t?.default??t}function Oj({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:a,repeat:o,repeatType:u,repeatDelay:h,from:f,elapsed:d,...g}){return!!Object.keys(g).length}const Wg=(t,e,n,r={},a,o)=>u=>{const h=Yg(r,t)||{},f=h.delay||r.delay||0;let{elapsed:d=0}=r;d=d-ki(f);const g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-d,onUpdate:v=>{e.set(v),h.onUpdate&&h.onUpdate(v)},onComplete:()=>{u(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:o?void 0:a};Oj(h)||Object.assign(g,Aj(t,g)),g.duration&&(g.duration=ki(g.duration)),g.repeatDelay&&(g.repeatDelay=ki(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let y=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(Kp(g),g.delay===0&&(y=!0)),(Oi.instantAnimations||Oi.skipAnimations)&&(y=!0,Kp(g),g.delay=0),g.allowFlatten=!h.type&&!h.ease,y&&!o&&e.get()!==void 0){const v=Cj(g.keyframes,h);if(v!==void 0){tt.update(()=>{g.onUpdate(v),g.onComplete()});return}}return h.isSync?new Kg(g):new bj(g)};function Ow(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Xg(t,e,n,r){if(typeof e=="function"){const[a,o]=Ow(r);e=e(n!==void 0?n:t.custom,a,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,o]=Ow(r);e=e(n!==void 0?n:t.custom,a,o)}return e}function pa(t,e,n){const r=t.getProps();return Xg(r,e,n!==void 0?n:r.custom,t)}const k_=new Set(["width","height","top","left","right","bottom",...wa]),Rw=30,Rj=t=>!isNaN(parseFloat(t)),Po={current:void 0};class Dj{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const a=Ft.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Ft.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Rj(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Ig);const r=this.events[e].add(n);return e==="change"?()=>{r(),tt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return Po.current&&Po.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=Ft.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Rw)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Rw);return Y1(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function es(t,e){return new Dj(t,e)}const Gp=t=>Array.isArray(t);function Nj(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,es(n))}function jj(t){return Gp(t)?t[t.length-1]||0:t}function Mj(t,e){const n=pa(t,e);let{transitionEnd:r={},transition:a={},...o}=n||{};o={...o,...r};for(const u in o){const h=jj(o[u]);Nj(t,u,h)}}const Pt=t=>!!(t&&t.getVelocity);function Lj(t){return!!(Pt(t)&&t.add)}function Yp(t,e){const n=t.getValue("willChange");if(Lj(n))return n.add(e);if(!n&&Oi.WillChange){const r=new Oi.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function Jg(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const Ij="framerAppearId",C_="data-"+Jg(Ij);function O_(t){return t.props[C_]}function Pj({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function R_(t,e,{delay:n=0,transitionOverride:r,type:a}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:u,...h}=e;const f=o?.reduceMotion;r&&(o=r);const d=[],g=a&&t.animationState&&t.animationState.getState()[a];for(const y in h){const v=t.getValue(y,t.latestValues[y]??null),b=h[y];if(b===void 0||g&&Pj(g,y))continue;const x={delay:n,...Yg(o||{},y)},E=v.get();if(E!==void 0&&!v.isAnimating&&!Array.isArray(b)&&b===E&&!x.velocity)continue;let T=!1;if(window.MotionHandoffAnimation){const C=O_(t);if(C){const D=window.MotionHandoffAnimation(C,y,tt);D!==null&&(x.startTime=D,T=!0)}}Yp(t,y);const A=f??t.shouldReduceMotion;v.start(Wg(y,v,b,A&&k_.has(y)?{type:!1}:x,t,T));const R=v.animation;R&&d.push(R)}return u&&Promise.all(d).then(()=>{tt.update(()=>{u&&Mj(t,u)})}),d}function Wp(t,e,n={}){const r=pa(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(a=n.transitionOverride);const o=r?()=>Promise.all(R_(t,r,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(f=0)=>{const{delayChildren:d=0,staggerChildren:g,staggerDirection:y}=a;return Bj(t,e,f,d,g,y,n)}:()=>Promise.resolve(),{when:h}=a;if(h){const[f,d]=h==="beforeChildren"?[o,u]:[u,o];return f().then(()=>d())}else return Promise.all([o(),u(n.delay)])}function Bj(t,e,n=0,r=0,a=0,o=1,u){const h=[];for(const f of t.variantChildren)f.notify("AnimationStart",e),h.push(Wp(f,e,{...u,delay:n+(typeof r=="function"?0:r)+E_(t.variantChildren,f,r,a,o)}).then(()=>f.notify("AnimationComplete",e)));return Promise.all(h)}function Uj(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const a=e.map(o=>Wp(t,o,n));r=Promise.all(a)}else if(typeof e=="string")r=Wp(t,e,n);else{const a=typeof e=="function"?pa(t,e,n.custom):e;r=Promise.all(R_(t,a,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const zj={test:t=>t==="auto",parse:t=>t},D_=t=>e=>e.test(t),N_=[ba,ue,Zn,lr,pN,fN,zj],Dw=t=>N_.find(D_(t));function Vj(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||G1(t):!0}const $j=new Set(["brightness","contrast","saturate","opacity"]);function Hj(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(zg)||[];if(!r)return t;const a=n.replace(r,"");let o=$j.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+a+")"}const Fj=/\b([a-z-]*)\(.*?\)/gu,Xp={...pr,getAnimatableNone:t=>{const e=t.match(Fj);return e?e.map(Hj).join(" "):t}},Nw={...ba,transform:Math.round},qj={rotate:lr,rotateX:lr,rotateY:lr,rotateZ:lr,scale:Ku,scaleX:Ku,scaleY:Ku,scaleZ:Ku,skew:lr,skewX:lr,skewY:lr,distance:ue,translateX:ue,translateY:ue,translateZ:ue,x:ue,y:ue,z:ue,perspective:ue,transformPerspective:ue,opacity:tl,originX:vw,originY:vw,originZ:ue},Qg={borderWidth:ue,borderTopWidth:ue,borderRightWidth:ue,borderBottomWidth:ue,borderLeftWidth:ue,borderRadius:ue,borderTopLeftRadius:ue,borderTopRightRadius:ue,borderBottomRightRadius:ue,borderBottomLeftRadius:ue,width:ue,maxWidth:ue,height:ue,maxHeight:ue,top:ue,right:ue,bottom:ue,left:ue,inset:ue,insetBlock:ue,insetBlockStart:ue,insetBlockEnd:ue,insetInline:ue,insetInlineStart:ue,insetInlineEnd:ue,padding:ue,paddingTop:ue,paddingRight:ue,paddingBottom:ue,paddingLeft:ue,paddingBlock:ue,paddingBlockStart:ue,paddingBlockEnd:ue,paddingInline:ue,paddingInlineStart:ue,paddingInlineEnd:ue,margin:ue,marginTop:ue,marginRight:ue,marginBottom:ue,marginLeft:ue,marginBlock:ue,marginBlockStart:ue,marginBlockEnd:ue,marginInline:ue,marginInlineStart:ue,marginInlineEnd:ue,fontSize:ue,backgroundPositionX:ue,backgroundPositionY:ue,...qj,zIndex:Nw,fillOpacity:tl,strokeOpacity:tl,numOctaves:Nw},Kj={...Qg,color:wt,backgroundColor:wt,outlineColor:wt,fill:wt,stroke:wt,borderColor:wt,borderTopColor:wt,borderRightColor:wt,borderBottomColor:wt,borderLeftColor:wt,filter:Xp,WebkitFilter:Xp},j_=t=>Kj[t];function M_(t,e){let n=j_(t);return n!==Xp&&(n=pr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Gj=new Set(["auto","none","0"]);function Yj(t,e,n){let r=0,a;for(;r<t.length&&!a;){const o=t[r];typeof o=="string"&&!Gj.has(o)&&nl(o).values.length&&(a=t[r]),r++}if(a&&n)for(const o of e)t[o]=M_(n,a)}class Wj extends Gg{constructor(e,n,r,a,o){super(e,n,r,a,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let g=0;g<e.length;g++){let y=e[g];if(typeof y=="string"&&(y=y.trim(),Ug(y))){const v=A_(y,n.current);v!==void 0&&(e[g]=v),g===e.length-1&&(this.finalKeyframe=y)}}if(this.resolveNoneKeyframes(),!k_.has(r)||e.length!==2)return;const[a,o]=e,u=Dw(a),h=Dw(o),f=yw(a),d=yw(o);if(f!==d&&dr[r]){this.needsMeasurement=!0;return}if(u!==h)if(Aw(u)&&Aw(h))for(let g=0;g<e.length;g++){const y=e[g];typeof y=="string"&&(e[g]=parseFloat(y))}else dr[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let a=0;a<e.length;a++)(e[a]===null||Vj(e[a]))&&r.push(a);r.length&&Yj(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=dr[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(r,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const o=r.length-1,u=r[o];r[o]=dr[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,f])=>{e.getValue(h).set(f)}),this.resolveNoneKeyframes()}}function Xj(t,e,n){if(t==null)return[];if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const a=n?.[t]??r.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t).filter(r=>r!=null)}const L_=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function Jp(t){return K1(t)&&"offsetHeight"in t}const{schedule:Zg}=s_(queueMicrotask,!1),zn={x:!1,y:!1};function I_(){return zn.x||zn.y}function Jj(t){return t==="x"||t==="y"?zn[t]?null:(zn[t]=!0,()=>{zn[t]=!1}):zn.x||zn.y?null:(zn.x=zn.y=!0,()=>{zn.x=zn.y=!1})}function P_(t,e){const n=Xj(t),r=new AbortController,a={passive:!0,...e,signal:r.signal};return[n,a,()=>r.abort()]}function jw(t){return!(t.pointerType==="touch"||I_())}function Qj(t,e,n={}){const[r,a,o]=P_(t,n),u=h=>{if(!jw(h))return;const{target:f}=h,d=e(f,h);if(typeof d!="function"||!f)return;const g=y=>{jw(y)&&(d(y),f.removeEventListener("pointerleave",g))};f.addEventListener("pointerleave",g,a)};return r.forEach(h=>{h.addEventListener("pointerenter",u,a)}),o}const B_=(t,e)=>e?t===e?!0:B_(t,e.parentElement):!1,em=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Zj=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function U_(t){return Zj.has(t.tagName)||t.isContentEditable===!0}const ic=new WeakSet;function Mw(t){return e=>{e.key==="Enter"&&t(e)}}function jf(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const eM=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=Mw(()=>{if(ic.has(n))return;jf(n,"down");const a=Mw(()=>{jf(n,"up")}),o=()=>jf(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function Lw(t){return em(t)&&!I_()}function tM(t,e,n={}){const[r,a,o]=P_(t,n),u=h=>{const f=h.currentTarget;if(!Lw(h))return;ic.add(f);const d=e(f,h),g=(b,x)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",v),ic.has(f)&&ic.delete(f),Lw(b)&&typeof d=="function"&&d(b,{success:x})},y=b=>{g(b,f===window||f===document||n.useGlobalTarget||B_(f,b.target))},v=b=>{g(b,!1)};window.addEventListener("pointerup",y,a),window.addEventListener("pointercancel",v,a)};return r.forEach(h=>{(n.useGlobalTarget?window:h).addEventListener("pointerdown",u,a),Jp(h)&&(h.addEventListener("focus",d=>eM(d,a)),!U_(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),o}function z_(t){return K1(t)&&"ownerSVGElement"in t}function nM(t){return z_(t)&&t.tagName==="svg"}function iM(...t){const e=!Array.isArray(t[0]),n=e?0:-1,r=t[0+n],a=t[1+n],o=t[2+n],u=t[3+n],h=y_(a,o,u);return e?h(r):h}const rM=[...N_,wt,pr],sM=t=>rM.find(D_(t)),Iw=()=>({translate:0,scale:1,origin:0,originPoint:0}),ua=()=>({x:Iw(),y:Iw()}),Pw=()=>({min:0,max:0}),Tt=()=>({x:Pw(),y:Pw()}),Qp={current:null},V_={current:!1},aM=typeof window<"u";function oM(){if(V_.current=!0,!!aM)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Qp.current=t.matches;t.addEventListener("change",e),e()}else Qp.current=!1}const lM=new WeakMap;function Mc(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function il(t){return typeof t=="string"||Array.isArray(t)}const tm=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],nm=["initial",...tm];function Lc(t){return Mc(t.animate)||nm.some(e=>il(t[e]))}function $_(t){return!!(Lc(t)||t.variants)}function uM(t,e,n){for(const r in e){const a=e[r],o=n[r];if(Pt(a))t.addValue(r,a);else if(Pt(o))t.addValue(r,es(a,{owner:t}));else if(o!==a)if(t.hasValue(r)){const u=t.getValue(r);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=t.getStaticValue(r);t.addValue(r,es(u!==void 0?u:a,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const Bw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let pc={};function H_(t){pc=t}function cM(){return pc}class hM{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:a,blockInitialAnimation:o,visualState:u},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Gg,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=Ft.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,tt.render(this.render,!1,!0))};const{latestValues:f,renderState:d}=u;this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=d,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=h,this.blockInitialAnimation=!!o,this.isControllingVariants=Lc(n),this.isVariantNode=$_(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...y}=this.scrapeMotionValuesFromProps(n,{},this);for(const v in y){const b=y[v];f[v]!==void 0&&Pt(b)&&b.set(f[v])}}mount(e){this.current=e,lM.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(V_.current||oM(),this.shouldReduceMotion=Qp.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ri(this.notifyUpdate),Ri(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Sa.has(e);r&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&tt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;typeof window<"u"&&window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in pc){const n=pc[e];if(!n)continue;const{isEnabled:r,Feature:a}=n;if(!this.features[e]&&a&&r(this.props)&&(this.features[e]=new a(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Tt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Bw.length;r++){const a=Bw[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const o="on"+a,u=e[o];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=uM(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=es(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(q1(r)||G1(r))?r=parseFloat(r):!sM(r)&&pr.test(n)&&(r=M_(e,n)),this.setBaseTarget(e,Pt(r)?r.get():r)),Pt(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=Xg(this.props,n,this.presenceContext?.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Pt(a)?a:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Ig),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Zg.render(this.render)}}class F_ extends hM{constructor(){super(...arguments),this.KeyframeResolver=Wj}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const r=e.style;return r?r[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Pt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class gr{constructor(e){this.isMounted=!1,this.node=e}update(){}}function q_({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function dM({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function fM(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Mf(t){return t===void 0||t===1}function Zp({scale:t,scaleX:e,scaleY:n}){return!Mf(t)||!Mf(e)||!Mf(n)}function zr(t){return Zp(t)||K_(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function K_(t){return Uw(t.x)||Uw(t.y)}function Uw(t){return t&&t!=="0%"}function gc(t,e,n){const r=t-n,a=e*r;return n+a}function zw(t,e,n,r,a){return a!==void 0&&(t=gc(t,a,r)),gc(t,n,r)+e}function eg(t,e=0,n=1,r,a){t.min=zw(t.min,e,n,r,a),t.max=zw(t.max,e,n,r,a)}function G_(t,{x:e,y:n}){eg(t.x,e.translate,e.scale,e.originPoint),eg(t.y,n.translate,n.scale,n.originPoint)}const Vw=.999999999999,$w=1.0000000000001;function pM(t,e,n,r=!1){const a=n.length;if(!a)return;e.x=e.y=1;let o,u;for(let h=0;h<a;h++){o=n[h],u=o.projectionDelta;const{visualElement:f}=o.options;f&&f.props.style&&f.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&ha(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,G_(t,u)),r&&zr(o.latestValues)&&ha(t,o.latestValues))}e.x<$w&&e.x>Vw&&(e.x=1),e.y<$w&&e.y>Vw&&(e.y=1)}function ca(t,e){t.min=t.min+e,t.max=t.max+e}function Hw(t,e,n,r,a=.5){const o=at(t.min,t.max,a);eg(t,e,n,o,r)}function ha(t,e){Hw(t.x,e.x,e.scaleX,e.scale,e.originX),Hw(t.y,e.y,e.scaleY,e.scale,e.originY)}function Y_(t,e){return q_(fM(t.getBoundingClientRect(),e))}function gM(t,e,n){const r=Y_(t,n),{scroll:a}=e;return a&&(ca(r.x,a.offset.x),ca(r.y,a.offset.y)),r}const mM={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},yM=wa.length;function vM(t,e,n){let r="",a=!0;for(let o=0;o<yM;o++){const u=wa[o],h=t[u];if(h===void 0)continue;let f=!0;if(typeof h=="number")f=h===(u.startsWith("scale")?1:0);else{const d=parseFloat(h);f=u.startsWith("scale")?d===1:d===0}if(!f||n){const d=L_(h,Qg[u]);if(!f){a=!1;const g=mM[u]||u;r+=`${g}(${d}) `}n&&(e[u]=d)}}return r=r.trim(),n?r=n(e,a?"":r):a&&(r="none"),r}function im(t,e,n){const{style:r,vars:a,transformOrigin:o}=t;let u=!1,h=!1;for(const f in e){const d=e[f];if(Sa.has(f)){u=!0;continue}else if(o_(f)){a[f]=d;continue}else{const g=L_(d,Qg[f]);f.startsWith("origin")?(h=!0,o[f]=g):r[f]=g}}if(e.transform||(u||n?r.transform=vM(e,t.transform,n):r.transform&&(r.transform="none")),h){const{originX:f="50%",originY:d="50%",originZ:g=0}=o;r.transformOrigin=`${f} ${d} ${g}`}}function W_(t,{style:e,vars:n},r,a){const o=t.style;let u;for(u in e)o[u]=e[u];a?.applyProjectionStyles(o,r);for(u in n)o.setProperty(u,n[u])}function Fw(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const So={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ue.test(t))t=parseFloat(t);else return t;const n=Fw(t,e.target.x),r=Fw(t,e.target.y);return`${n}% ${r}%`}},bM={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,a=pr.parse(t);if(a.length>5)return r;const o=pr.createTransformer(t),u=typeof a[0]!="number"?1:0,h=n.x.scale*e.x,f=n.y.scale*e.y;a[0+u]/=h,a[1+u]/=f;const d=at(h,f,.5);return typeof a[2+u]=="number"&&(a[2+u]/=d),typeof a[3+u]=="number"&&(a[3+u]/=d),o(a)}},tg={borderRadius:{...So,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:So,borderTopRightRadius:So,borderBottomLeftRadius:So,borderBottomRightRadius:So,boxShadow:bM};function X_(t,{layout:e,layoutId:n}){return Sa.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!tg[t]||t==="opacity")}function rm(t,e,n){const r=t.style,a=e?.style,o={};if(!r)return o;for(const u in r)(Pt(r[u])||a&&Pt(a[u])||X_(u,t)||n?.getValue(u)?.liveStyle!==void 0)&&(o[u]=r[u]);return o}function wM(t){return window.getComputedStyle(t)}class SM extends F_{constructor(){super(...arguments),this.type="html",this.renderInstance=W_}readValueFromInstance(e,n){if(Sa.has(n))return this.projection?.isProjecting?Vp(n):XN(e,n);{const r=wM(e),a=(o_(n)?r.getPropertyValue(n):r[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Y_(e,n)}build(e,n,r){im(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return rm(e,n,r)}}const xM={offset:"stroke-dashoffset",array:"stroke-dasharray"},_M={offset:"strokeDashoffset",array:"strokeDasharray"};function TM(t,e,n=1,r=0,a=!0){t.pathLength=1;const o=a?xM:_M;t[o.offset]=`${-r}`,t[o.array]=`${e} ${n}`}const EM=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function J_(t,{attrX:e,attrY:n,attrScale:r,pathLength:a,pathSpacing:o=1,pathOffset:u=0,...h},f,d,g){if(im(t,h,d),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:y,style:v}=t;y.transform&&(v.transform=y.transform,delete y.transform),(v.transform||y.transformOrigin)&&(v.transformOrigin=y.transformOrigin??"50% 50%",delete y.transformOrigin),v.transform&&(v.transformBox=g?.transformBox??"fill-box",delete y.transformBox);for(const b of EM)y[b]!==void 0&&(v[b]=y[b],delete y[b]);e!==void 0&&(y.x=e),n!==void 0&&(y.y=n),r!==void 0&&(y.scale=r),a!==void 0&&TM(y,a,o,u,!1)}const Q_=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),Z_=t=>typeof t=="string"&&t.toLowerCase()==="svg";function AM(t,e,n,r){W_(t,e,void 0,r);for(const a in e.attrs)t.setAttribute(Q_.has(a)?a:Jg(a),e.attrs[a])}function eT(t,e,n){const r=rm(t,e,n);for(const a in t)if(Pt(t[a])||Pt(e[a])){const o=wa.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;r[o]=t[a]}return r}class kM extends F_{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Tt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Sa.has(n)){const r=j_(n);return r&&r.default||0}return n=Q_.has(n)?n:Jg(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return eT(e,n,r)}build(e,n,r){J_(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,a){AM(e,n,r,a)}mount(e){this.isSVGTag=Z_(e.tagName),super.mount(e)}}const CM=nm.length;function tT(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?tT(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<CM;n++){const r=nm[n],a=t.props[r];(il(a)||a===!1)&&(e[r]=a)}return e}function nT(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const OM=[...tm].reverse(),RM=tm.length;function DM(t){return e=>Promise.all(e.map(({animation:n,options:r})=>Uj(t,n,r)))}function NM(t){let e=DM(t),n=qw(),r=!0;const a=f=>(d,g)=>{const y=pa(t,g,f==="exit"?t.presenceContext?.custom:void 0);if(y){const{transition:v,transitionEnd:b,...x}=y;d={...d,...x,...b}}return d};function o(f){e=f(t)}function u(f){const{props:d}=t,g=tT(t.parent)||{},y=[],v=new Set;let b={},x=1/0;for(let T=0;T<RM;T++){const A=OM[T],R=n[A],C=d[A]!==void 0?d[A]:g[A],D=il(C),$=A===f?R.isActive:null;$===!1&&(x=T);let M=C===g[A]&&C!==d[A]&&D;if(M&&r&&t.manuallyAnimateOnMount&&(M=!1),R.protectedKeys={...b},!R.isActive&&$===null||!C&&!R.prevProp||Mc(C)||typeof C=="boolean")continue;const F=jM(R.prevProp,C);let Y=F||A===f&&R.isActive&&!M&&D||T>x&&D,ee=!1;const oe=Array.isArray(C)?C:[C];let ne=oe.reduce(a(A),{});$===!1&&(ne={});const{prevResolvedValues:ie={}}=R,he={...ie,...ne},ae=K=>{Y=!0,v.has(K)&&(ee=!0,v.delete(K)),R.needsAnimating[K]=!0;const re=t.getValue(K);re&&(re.liveStyle=!1)};for(const K in he){const re=ne[K],ge=ie[K];if(b.hasOwnProperty(K))continue;let O=!1;Gp(re)&&Gp(ge)?O=!nT(re,ge):O=re!==ge,O?re!=null?ae(K):v.add(K):re!==void 0&&v.has(K)?ae(K):R.protectedKeys[K]=!0}R.prevProp=C,R.prevResolvedValues=ne,R.isActive&&(b={...b,...ne}),r&&t.blockInitialAnimation&&(Y=!1);const Q=M&&F;Y&&(!Q||ee)&&y.push(...oe.map(K=>{const re={type:A};if(typeof K=="string"&&r&&!Q&&t.manuallyAnimateOnMount&&t.parent){const{parent:ge}=t,O=pa(ge,K);if(ge.enteringChildren&&O){const{delayChildren:j}=O.transition||{};re.delay=E_(ge.enteringChildren,t,j)}}return{animation:K,options:re}}))}if(v.size){const T={};if(typeof d.initial!="boolean"){const A=pa(t,Array.isArray(d.initial)?d.initial[0]:d.initial);A&&A.transition&&(T.transition=A.transition)}v.forEach(A=>{const R=t.getBaseTarget(A),C=t.getValue(A);C&&(C.liveStyle=!0),T[A]=R??null}),y.push({animation:T})}let E=!!y.length;return r&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(E=!1),r=!1,E?e(y):Promise.resolve()}function h(f,d){if(n[f].isActive===d)return Promise.resolve();t.variantChildren?.forEach(y=>y.animationState?.setActive(f,d)),n[f].isActive=d;const g=u(f);for(const y in n)n[y].protectedKeys={};return g}return{animateChanges:u,setActive:h,setAnimateFunction:o,getState:()=>n,reset:()=>{n=qw()}}}function jM(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!nT(e,t):!1}function Br(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function qw(){return{animate:Br(!0),whileInView:Br(),whileHover:Br(),whileTap:Br(),whileDrag:Br(),whileFocus:Br(),exit:Br()}}function Kw(t,e){t.min=e.min,t.max=e.max}function Bn(t,e){Kw(t.x,e.x),Kw(t.y,e.y)}function Gw(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const iT=1e-4,MM=1-iT,LM=1+iT,rT=.01,IM=0-rT,PM=0+rT;function qt(t){return t.max-t.min}function BM(t,e,n){return Math.abs(t-e)<=n}function Yw(t,e,n,r=.5){t.origin=r,t.originPoint=at(e.min,e.max,t.origin),t.scale=qt(n)/qt(e),t.translate=at(n.min,n.max,t.origin)-t.originPoint,(t.scale>=MM&&t.scale<=LM||isNaN(t.scale))&&(t.scale=1),(t.translate>=IM&&t.translate<=PM||isNaN(t.translate))&&(t.translate=0)}function Bo(t,e,n,r){Yw(t.x,e.x,n.x,r?r.originX:void 0),Yw(t.y,e.y,n.y,r?r.originY:void 0)}function Ww(t,e,n){t.min=n.min+e.min,t.max=t.min+qt(e)}function UM(t,e,n){Ww(t.x,e.x,n.x),Ww(t.y,e.y,n.y)}function Xw(t,e,n){t.min=e.min-n.min,t.max=t.min+qt(e)}function mc(t,e,n){Xw(t.x,e.x,n.x),Xw(t.y,e.y,n.y)}function Jw(t,e,n,r,a){return t-=e,t=gc(t,1/n,r),a!==void 0&&(t=gc(t,1/a,r)),t}function zM(t,e=0,n=1,r=.5,a,o=t,u=t){if(Zn.test(e)&&(e=parseFloat(e),e=at(u.min,u.max,e/100)-u.min),typeof e!="number")return;let h=at(o.min,o.max,r);t===o&&(h-=e),t.min=Jw(t.min,e,n,h,a),t.max=Jw(t.max,e,n,h,a)}function Qw(t,e,[n,r,a],o,u){zM(t,e[n],e[r],e[a],e.scale,o,u)}const VM=["x","scaleX","originX"],$M=["y","scaleY","originY"];function Zw(t,e,n,r){Qw(t.x,e,VM,n?n.x:void 0,r?r.x:void 0),Qw(t.y,e,$M,n?n.y:void 0,r?r.y:void 0)}function eS(t){return t.translate===0&&t.scale===1}function sT(t){return eS(t.x)&&eS(t.y)}function tS(t,e){return t.min===e.min&&t.max===e.max}function HM(t,e){return tS(t.x,e.x)&&tS(t.y,e.y)}function nS(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function aT(t,e){return nS(t.x,e.x)&&nS(t.y,e.y)}function iS(t){return qt(t.x)/qt(t.y)}function rS(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function Cn(t){return[t("x"),t("y")]}function FM(t,e,n){let r="";const a=t.x.translate/e.x,o=t.y.translate/e.y,u=n?.z||0;if((a||o||u)&&(r=`translate3d(${a}px, ${o}px, ${u}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:d,rotate:g,rotateX:y,rotateY:v,skewX:b,skewY:x}=n;d&&(r=`perspective(${d}px) ${r}`),g&&(r+=`rotate(${g}deg) `),y&&(r+=`rotateX(${y}deg) `),v&&(r+=`rotateY(${v}deg) `),b&&(r+=`skewX(${b}deg) `),x&&(r+=`skewY(${x}deg) `)}const h=t.x.scale*e.x,f=t.y.scale*e.y;return(h!==1||f!==1)&&(r+=`scale(${h}, ${f})`),r||"none"}const oT=["TopLeft","TopRight","BottomLeft","BottomRight"],qM=oT.length,sS=t=>typeof t=="string"?parseFloat(t):t,aS=t=>typeof t=="number"||ue.test(t);function KM(t,e,n,r,a,o){a?(t.opacity=at(0,n.opacity??1,GM(r)),t.opacityExit=at(e.opacity??1,0,YM(r))):o&&(t.opacity=at(e.opacity??1,n.opacity??1,r));for(let u=0;u<qM;u++){const h=`border${oT[u]}Radius`;let f=oS(e,h),d=oS(n,h);if(f===void 0&&d===void 0)continue;f||(f=0),d||(d=0),f===0||d===0||aS(f)===aS(d)?(t[h]=Math.max(at(sS(f),sS(d),r),0),(Zn.test(d)||Zn.test(f))&&(t[h]+="%")):t[h]=d}(e.rotate||n.rotate)&&(t.rotate=at(e.rotate||0,n.rotate||0,r))}function oS(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const GM=lT(0,.5,t_),YM=lT(.5,.95,Dn);function lT(t,e,n){return r=>r<t?0:r>e?1:n(el(t,e,r))}function WM(t,e,n){const r=Pt(t)?t:es(t);return r.start(Wg("",r,e,n)),r.animation}function rl(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const XM=(t,e)=>t.depth-e.depth;class JM{constructor(){this.children=[],this.isDirty=!1}add(e){Ng(this.children,e),this.isDirty=!0}remove(e){jg(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(XM),this.isDirty=!1,this.children.forEach(e)}}function QM(t,e){const n=Ft.now(),r=({timestamp:a})=>{const o=a-n;o>=e&&(Ri(r),t(o-e))};return tt.setup(r,!0),()=>Ri(r)}function rc(t){return Pt(t)?t.get():t}class ZM{constructor(){this.members=[]}add(e){Ng(this.members,e),e.scheduleRender()}remove(e){if(jg(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let r;for(let a=n;a>=0;a--){const o=this.members[a];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender();const a=r.options.layoutDependency,o=e.options.layoutDependency;a!==void 0&&o!==void 0&&a===o||(e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0));const{crossfade:h}=e.options;h===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const sc={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Lf=["","X","Y","Z"],eL=1e3;let tL=0;function If(t,e,n,r){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),r&&(r[t]=0))}function uT(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=O_(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",tt,!(a||o))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&uT(r)}function cT({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(u={},h=e?.()){this.id=tL++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(rL),this.nodes.forEach(lL),this.nodes.forEach(uL),this.nodes.forEach(sL)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new JM)}addEventListener(u,h){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new Ig),this.eventHandlers.get(u).add(h)}notifyListeners(u,...h){const f=this.eventHandlers.get(u);f&&f.notify(...h)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=z_(u)&&!nM(u),this.instance=u;const{layoutId:h,layout:f,visualElement:d}=this.options;if(d&&!d.current&&d.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||h)&&(this.isLayoutDirty=!0),t){let g,y=0;const v=()=>this.root.updateBlockedByResize=!1;tt.read(()=>{y=window.innerWidth}),t(u,()=>{const b=window.innerWidth;b!==y&&(y=b,this.root.updateBlockedByResize=!0,g&&g(),g=QM(v,250),sc.hasAnimatedSinceResize&&(sc.hasAnimatedSinceResize=!1,this.nodes.forEach(cS)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&d&&(h||f)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:y,hasRelativeLayoutChanged:v,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||d.getDefaultTransition()||pL,{onLayoutAnimationStart:E,onLayoutAnimationComplete:T}=d.getProps(),A=!this.targetLayout||!aT(this.targetLayout,b),R=!y&&v;if(this.options.layoutRoot||this.resumeFrom||R||y&&(A||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const C={...Yg(x,"layout"),onPlay:E,onComplete:T};(d.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C),this.setAnimationOrigin(g,R)}else y||cS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ri(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(cL),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&uT(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const y=this.path[g];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:h,layout:f}=this.options;if(h===void 0&&!f)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(lS);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(uS);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(oL),this.nodes.forEach(nL),this.nodes.forEach(iL)):this.nodes.forEach(uS),this.clearAllSnapshots();const h=Ft.now();Lt.delta=ei(0,1e3/60,h-Lt.timestamp),Lt.timestamp=h,Lt.isProcessing=!0,kf.update.process(Lt),kf.preRender.process(Lt),kf.render.process(Lt),Lt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Zg.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(aL),this.sharedNodes.forEach(hL)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,tt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){tt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!qt(this.snapshot.measuredBox.x)&&!qt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Tt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(h=!1),h&&this.instance){const f=r(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!sT(this.projectionDelta),f=this.getTransformTemplate(),d=f?f(this.latestValues,""):void 0,g=d!==this.prevTransformTemplateValue;u&&this.instance&&(h||zr(this.latestValues)||g)&&(a(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const h=this.measurePageBox();let f=this.removeElementScroll(h);return u&&(f=this.removeTransform(f)),gL(f),{animationId:this.root.animationId,measuredBox:h,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return Tt();const h=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(mL))){const{scroll:d}=this.root;d&&(ca(h.x,d.offset.x),ca(h.y,d.offset.y))}return h}removeElementScroll(u){const h=Tt();if(Bn(h,u),this.scroll?.wasRoot)return h;for(let f=0;f<this.path.length;f++){const d=this.path[f],{scroll:g,options:y}=d;d!==this.root&&g&&y.layoutScroll&&(g.wasRoot&&Bn(h,u),ca(h.x,g.offset.x),ca(h.y,g.offset.y))}return h}applyTransform(u,h=!1){const f=Tt();Bn(f,u);for(let d=0;d<this.path.length;d++){const g=this.path[d];!h&&g.options.layoutScroll&&g.scroll&&g!==g.root&&ha(f,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),zr(g.latestValues)&&ha(f,g.latestValues)}return zr(this.latestValues)&&ha(f,this.latestValues),f}removeTransform(u){const h=Tt();Bn(h,u);for(let f=0;f<this.path.length;f++){const d=this.path[f];if(!d.instance||!zr(d.latestValues))continue;Zp(d.latestValues)&&d.updateSnapshot();const g=Tt(),y=d.measurePageBox();Bn(g,y),Zw(h,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,g)}return zr(this.latestValues)&&Zw(h,this.latestValues),h}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Lt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==h;if(!(u||f&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:y}=this.options;if(!this.layout||!(g||y))return;this.resolvedRelativeTargetAt=Lt.timestamp;const v=this.getClosestProjectingParent();v&&this.linkedParentVersion!==v.layoutVersion&&!v.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(v&&v.layout?this.createRelativeTarget(v,this.layout.layoutBox,v.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Tt(),this.targetWithTransforms=Tt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),UM(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Bn(this.target,this.layout.layoutBox),G_(this.target,this.targetDelta)):Bn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?this.createRelativeTarget(v,this.target,v.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Zp(this.parent.latestValues)||K_(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,h,f){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Tt(),this.relativeTargetOrigin=Tt(),mc(this.relativeTargetOrigin,h,f),Bn(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const u=this.getLead(),h=!!this.resumingFrom||this!==u;let f=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(f=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===Lt.timestamp&&(f=!1),f)return;const{layout:d,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||g))return;Bn(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,v=this.treeScale.y;pM(this.layoutCorrected,this.treeScale,this.path,h),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Tt());const{target:b}=u;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Gw(this.prevProjectionDelta.x,this.projectionDelta.x),Gw(this.prevProjectionDelta.y,this.projectionDelta.y)),Bo(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==v||!rS(this.projectionDelta.x,this.prevProjectionDelta.x)||!rS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ua(),this.projectionDelta=ua(),this.projectionDeltaWithTransform=ua()}setAnimationOrigin(u,h=!1){const f=this.snapshot,d=f?f.latestValues:{},g={...this.latestValues},y=ua();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const v=Tt(),b=f?f.source:void 0,x=this.layout?this.layout.source:void 0,E=b!==x,T=this.getStack(),A=!T||T.members.length<=1,R=!!(E&&!A&&this.options.crossfade===!0&&!this.path.some(fL));this.animationProgress=0;let C;this.mixTargetDelta=D=>{const $=D/1e3;hS(y.x,u.x,$),hS(y.y,u.y,$),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(mc(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),dL(this.relativeTarget,this.relativeTargetOrigin,v,$),C&&HM(this.relativeTarget,C)&&(this.isProjectionDirty=!1),C||(C=Tt()),Bn(C,this.relativeTarget)),E&&(this.animationValues=g,KM(g,d,this.latestValues,$,R,A)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=$},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Ri(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=tt.update(()=>{sc.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=es(0)),this.currentAnimation=WM(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),u.onUpdate&&u.onUpdate(h)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(eL),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:h,target:f,layout:d,latestValues:g}=u;if(!(!h||!f||!d)){if(this!==u&&this.layout&&d&&hT(this.options.animationType,this.layout.layoutBox,d.layoutBox)){f=this.target||Tt();const y=qt(this.layout.layoutBox.x);f.x.min=u.target.x.min,f.x.max=f.x.min+y;const v=qt(this.layout.layoutBox.y);f.y.min=u.target.y.min,f.y.max=f.y.min+v}Bn(h,f),ha(h,g),Bo(this.projectionDeltaWithTransform,this.layoutCorrected,h,g)}}registerSharedNode(u,h){this.sharedNodes.has(u)||this.sharedNodes.set(u,new ZM),this.sharedNodes.get(u).add(h);const d=h.options.initialPromotionConfig;h.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(h):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:h,preserveFollowOpacity:f}={}){const d=this.getStack();d&&d.promote(this,f),u&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let h=!1;const{latestValues:f}=u;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(h=!0),!h)return;const d={};f.z&&If("z",u,d,this.animationValues);for(let g=0;g<Lf.length;g++)If(`rotate${Lf[g]}`,u,d,this.animationValues),If(`skew${Lf[g]}`,u,d,this.animationValues);u.render();for(const g in d)u.setStaticValue(g,d[g]),this.animationValues&&(this.animationValues[g]=d[g]);u.scheduleRender()}applyProjectionStyles(u,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=rc(h?.pointerEvents)||"",u.transform=f?f(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=rc(h?.pointerEvents)||""),this.hasProjected&&!zr(this.latestValues)&&(u.transform=f?f({},""):"none",this.hasProjected=!1);return}u.visibility="";const g=d.animationValues||d.latestValues;this.applyTransformsToTarget();let y=FM(this.projectionDeltaWithTransform,this.treeScale,g);f&&(y=f(g,y)),u.transform=y;const{x:v,y:b}=this.projectionDelta;u.transformOrigin=`${v.origin*100}% ${b.origin*100}% 0`,d.animationValues?u.opacity=d===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:u.opacity=d===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const x in tg){if(g[x]===void 0)continue;const{correct:E,applyTo:T,isCSSVariable:A}=tg[x],R=y==="none"?g[x]:E(g[x],d);if(T){const C=T.length;for(let D=0;D<C;D++)u[T[D]]=R}else A?this.options.visualElement.renderState.vars[x]=R:u[x]=R}this.options.layoutId&&(u.pointerEvents=d===this?rc(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(lS),this.root.sharedNodes.clear()}}}function nL(t){t.updateLayout()}function iL(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:a}=t.options,o=e.source!==t.layout.source;a==="size"?Cn(g=>{const y=o?e.measuredBox[g]:e.layoutBox[g],v=qt(y);y.min=n[g].min,y.max=y.min+v}):hT(a,e.layoutBox,n)&&Cn(g=>{const y=o?e.measuredBox[g]:e.layoutBox[g],v=qt(n[g]);y.max=y.min+v,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+v)});const u=ua();Bo(u,n,e.layoutBox);const h=ua();o?Bo(h,t.applyTransform(r,!0),e.measuredBox):Bo(h,n,e.layoutBox);const f=!sT(u);let d=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:y,layout:v}=g;if(y&&v){const b=Tt();mc(b,e.layoutBox,y.layoutBox);const x=Tt();mc(x,n,v.layoutBox),aT(b,x)||(d=!0),g.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=b,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:h,layoutDelta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function rL(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function sL(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function aL(t){t.clearSnapshot()}function lS(t){t.clearMeasurements()}function uS(t){t.isLayoutDirty=!1}function oL(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function cS(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function lL(t){t.resolveTargetDelta()}function uL(t){t.calcProjection()}function cL(t){t.resetSkewAndRotation()}function hL(t){t.removeLeadSnapshot()}function hS(t,e,n){t.translate=at(e.translate,0,n),t.scale=at(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function dS(t,e,n,r){t.min=at(e.min,n.min,r),t.max=at(e.max,n.max,r)}function dL(t,e,n,r){dS(t.x,e.x,n.x,r),dS(t.y,e.y,n.y,r)}function fL(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const pL={duration:.45,ease:[.4,0,.1,1]},fS=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),pS=fS("applewebkit/")&&!fS("chrome/")?Math.round:Dn;function gS(t){t.min=pS(t.min),t.max=pS(t.max)}function gL(t){gS(t.x),gS(t.y)}function hT(t,e,n){return t==="position"||t==="preserve-aspect"&&!BM(iS(e),iS(n),.2)}function mL(t){return t!==t.root&&t.scroll?.wasRoot}const yL=cT({attachResizeListener:(t,e)=>rl(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),Pf={current:void 0},dT=cT({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Pf.current){const t=new yL({});t.mount(window),t.setOptions({layoutScroll:!0}),Pf.current=t}return Pf.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Ic=V.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function mS(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function vL(...t){return e=>{let n=!1;const r=t.map(a=>{const o=mS(a,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let a=0;a<r.length;a++){const o=r[a];typeof o=="function"?o():mS(t[a],null)}}}}function bL(...t){return V.useCallback(vL(...t),t)}class wL extends V.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,a=Jp(r)&&r.offsetWidth||0,o=Jp(r)&&r.offsetHeight||0,u=this.props.sizeRef.current;u.height=n.offsetHeight||0,u.width=n.offsetWidth||0,u.top=n.offsetTop,u.left=n.offsetLeft,u.right=a-u.width-u.left,u.bottom=o-u.height-u.top}return null}componentDidUpdate(){}render(){return this.props.children}}function SL({children:t,isPresent:e,anchorX:n,anchorY:r,root:a}){const o=V.useId(),u=V.useRef(null),h=V.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:f}=V.useContext(Ic),d=t.props?.ref??t?.ref,g=bL(u,d);return V.useInsertionEffect(()=>{const{width:y,height:v,top:b,left:x,right:E,bottom:T}=h.current;if(e||!u.current||!y||!v)return;const A=n==="left"?`left: ${x}`:`right: ${E}`,R=r==="bottom"?`bottom: ${T}`:`top: ${b}`;u.current.dataset.motionPopId=o;const C=document.createElement("style");f&&(C.nonce=f);const D=a??document.head;return D.appendChild(C),C.sheet&&C.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${y}px !important;
            height: ${v}px !important;
            ${A}px !important;
            ${R}px !important;
          }
        `),()=>{D.contains(C)&&D.removeChild(C)}},[e]),S.jsx(wL,{isPresent:e,childRef:u,sizeRef:h,children:V.cloneElement(t,{ref:g})})}const xL=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:a,presenceAffectsLayout:o,mode:u,anchorX:h,anchorY:f,root:d})=>{const g=Zr(_L),y=V.useId();let v=!0,b=V.useMemo(()=>(v=!1,{id:y,initial:e,isPresent:n,custom:a,onExitComplete:x=>{g.set(x,!0);for(const E of g.values())if(!E)return;r&&r()},register:x=>(g.set(x,!1),()=>g.delete(x))}),[n,g,r]);return o&&v&&(b={...b}),V.useMemo(()=>{g.forEach((x,E)=>g.set(E,!1))},[n]),V.useEffect(()=>{!n&&!g.size&&r&&r()},[n]),u==="popLayout"&&(t=S.jsx(SL,{isPresent:n,anchorX:h,anchorY:f,root:d,children:t})),S.jsx(jc.Provider,{value:b,children:t})};function _L(){return new Map}function fT(t=!0){const e=V.useContext(jc);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:a}=e,o=V.useId();V.useEffect(()=>{if(t)return a(o)},[t]);const u=V.useCallback(()=>t&&r&&r(o),[o,r,t]);return!n&&r?[!1,u]:[!0]}const Gu=t=>t.key||"";function yS(t){const e=[];return V.Children.forEach(t,n=>{V.isValidElement(n)&&e.push(n)}),e}const TL=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:a=!0,mode:o="sync",propagate:u=!1,anchorX:h="left",anchorY:f="top",root:d})=>{const[g,y]=fT(u),v=V.useMemo(()=>yS(t),[t]),b=u&&!g?[]:v.map(Gu),x=V.useRef(!0),E=V.useRef(v),T=Zr(()=>new Map),A=V.useRef(new Set),[R,C]=V.useState(v),[D,$]=V.useState(v);Dg(()=>{x.current=!1,E.current=v;for(let Y=0;Y<D.length;Y++){const ee=Gu(D[Y]);b.includes(ee)?(T.delete(ee),A.current.delete(ee)):T.get(ee)!==!0&&T.set(ee,!1)}},[D,b.length,b.join("-")]);const M=[];if(v!==R){let Y=[...v];for(let ee=0;ee<D.length;ee++){const oe=D[ee],ne=Gu(oe);b.includes(ne)||(Y.splice(ee,0,oe),M.push(oe))}return o==="wait"&&M.length&&(Y=M),$(yS(Y)),C(v),null}const{forceRender:F}=V.useContext(Rg);return S.jsx(S.Fragment,{children:D.map(Y=>{const ee=Gu(Y),oe=u&&!g?!1:v===D||b.includes(ee),ne=()=>{if(A.current.has(ee))return;if(A.current.add(ee),T.has(ee))T.set(ee,!0);else return;let ie=!0;T.forEach(he=>{he||(ie=!1)}),ie&&(F?.(),$(E.current),u&&y?.(),r&&r())};return S.jsx(xL,{isPresent:oe,initial:!x.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:o,root:d,onExitComplete:oe?void 0:ne,anchorX:h,anchorY:f,children:Y},ee)})})},pT=V.createContext({strict:!1}),vS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let bS=!1;function EL(){if(bS)return;const t={};for(const e in vS)t[e]={isEnabled:n=>vS[e].some(r=>!!n[r])};H_(t),bS=!0}function gT(){return EL(),cM()}function AL(t){const e=gT();for(const n in t)e[n]={...e[n],...t[n]};H_(e)}const kL=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function yc(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||kL.has(t)}let mT=t=>!yc(t);function CL(t){typeof t=="function"&&(mT=e=>e.startsWith("on")?!yc(e):t(e))}try{CL(require("@emotion/is-prop-valid").default)}catch{}function OL(t,e,n){const r={};for(const a in t)a==="values"&&typeof t.values=="object"||(mT(a)||n===!0&&yc(a)||!e&&!yc(a)||t.draggable&&a.startsWith("onDrag"))&&(r[a]=t[a]);return r}const Pc=V.createContext({});function RL(t,e){if(Lc(t)){const{initial:n,animate:r}=t;return{initial:n===!1||il(n)?n:void 0,animate:il(r)?r:void 0}}return t.inherit!==!1?e:{}}function DL(t){const{initial:e,animate:n}=RL(t,V.useContext(Pc));return V.useMemo(()=>({initial:e,animate:n}),[wS(e),wS(n)])}function wS(t){return Array.isArray(t)?t.join(" "):t}const sm=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function yT(t,e,n){for(const r in e)!Pt(e[r])&&!X_(r,n)&&(t[r]=e[r])}function NL({transformTemplate:t},e){return V.useMemo(()=>{const n=sm();return im(n,e,t),Object.assign({},n.vars,n.style)},[e])}function jL(t,e){const n=t.style||{},r={};return yT(r,n,t),Object.assign(r,NL(t,e)),r}function ML(t,e){const n={},r=jL(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const vT=()=>({...sm(),attrs:{}});function LL(t,e,n,r){const a=V.useMemo(()=>{const o=vT();return J_(o,e,Z_(r),t.transformTemplate,t.style),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};yT(o,t.style,t),a.style={...o,...a.style}}return a}const IL=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function am(t){return typeof t!="string"||t.includes("-")?!1:!!(IL.indexOf(t)>-1||/[A-Z]/u.test(t))}function PL(t,e,n,{latestValues:r},a,o=!1,u){const f=(u??am(t)?LL:ML)(e,r,a,t),d=OL(e,typeof t=="string",o),g=t!==V.Fragment?{...d,...f,ref:n}:{},{children:y}=e,v=V.useMemo(()=>Pt(y)?y.get():y,[y]);return V.createElement(t,{...g,children:v})}function BL({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,a){return{latestValues:UL(n,r,a,t),renderState:e()}}function UL(t,e,n,r){const a={},o=r(t,{});for(const v in o)a[v]=rc(o[v]);let{initial:u,animate:h}=t;const f=Lc(t),d=$_(t);e&&d&&!f&&t.inherit!==!1&&(u===void 0&&(u=e.initial),h===void 0&&(h=e.animate));let g=n?n.initial===!1:!1;g=g||u===!1;const y=g?h:u;if(y&&typeof y!="boolean"&&!Mc(y)){const v=Array.isArray(y)?y:[y];for(let b=0;b<v.length;b++){const x=Xg(t,v[b]);if(x){const{transitionEnd:E,transition:T,...A}=x;for(const R in A){let C=A[R];if(Array.isArray(C)){const D=g?C.length-1:0;C=C[D]}C!==null&&(a[R]=C)}for(const R in E)a[R]=E[R]}}}return a}const bT=t=>(e,n)=>{const r=V.useContext(Pc),a=V.useContext(jc),o=()=>BL(t,e,r,a);return n?o():Zr(o)},zL=bT({scrapeMotionValuesFromProps:rm,createRenderState:sm}),VL=bT({scrapeMotionValuesFromProps:eT,createRenderState:vT}),$L=Symbol.for("motionComponentSymbol");function HL(t,e,n){const r=V.useRef(n);V.useInsertionEffect(()=>{r.current=n});const a=V.useRef(null);return V.useCallback(o=>{o&&t.onMount?.(o),e&&(o?e.mount(o):e.unmount());const u=r.current;if(typeof u=="function")if(o){const h=u(o);typeof h=="function"&&(a.current=h)}else a.current?(a.current(),a.current=null):u(o);else u&&(u.current=o)},[e])}const wT=V.createContext({});function Oo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function FL(t,e,n,r,a,o){const{visualElement:u}=V.useContext(Pc),h=V.useContext(pT),f=V.useContext(jc),d=V.useContext(Ic).reducedMotion,g=V.useRef(null),y=V.useRef(!1);r=r||h.renderer,!g.current&&r&&(g.current=r(t,{visualState:e,parent:u,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:d,isSVG:o}),y.current&&g.current&&(g.current.manuallyAnimateOnMount=!0));const v=g.current,b=V.useContext(wT);v&&!v.projection&&a&&(v.type==="html"||v.type==="svg")&&qL(g.current,n,a,b);const x=V.useRef(!1);V.useInsertionEffect(()=>{v&&x.current&&v.update(n,f)});const E=n[C_],T=V.useRef(!!E&&!window.MotionHandoffIsComplete?.(E)&&window.MotionHasOptimisedAnimation?.(E));return Dg(()=>{y.current=!0,v&&(x.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),T.current&&v.animationState&&v.animationState.animateChanges())}),V.useEffect(()=>{v&&(!T.current&&v.animationState&&v.animationState.animateChanges(),T.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(E)}),T.current=!1),v.enteringChildren=void 0)}),v}function qL(t,e,n,r){const{layoutId:a,layout:o,drag:u,dragConstraints:h,layoutScroll:f,layoutRoot:d,layoutCrossfade:g}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:ST(t.parent)),t.projection.setOptions({layoutId:a,layout:o,alwaysMeasureLayout:!!u||h&&Oo(h),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,crossfade:g,layoutScroll:f,layoutRoot:d})}function ST(t){if(t)return t.options.allowProjection!==!1?t.projection:ST(t.parent)}function Bf(t,{forwardMotionProps:e=!1,type:n}={},r,a){r&&AL(r);const o=n?n==="svg":am(t),u=o?VL:zL;function h(d,g){let y;const v={...V.useContext(Ic),...d,layoutId:KL(d)},{isStatic:b}=v,x=DL(d),E=u(d,b);if(!b&&F1){GL();const T=YL(v);y=T.MeasureLayout,x.visualElement=FL(t,E,v,a,T.ProjectionNode,o)}return S.jsxs(Pc.Provider,{value:x,children:[y&&x.visualElement?S.jsx(y,{visualElement:x.visualElement,...v}):null,PL(t,d,HL(E,x.visualElement,g),E,b,e,o)]})}h.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const f=V.forwardRef(h);return f[$L]=t,f}function KL({layoutId:t}){const e=V.useContext(Rg).id;return e&&t!==void 0?e+"-"+t:t}function GL(t,e){V.useContext(pT).strict}function YL(t){const e=gT(),{drag:n,layout:r}=e;if(!n&&!r)return{};const a={...n,...r};return{MeasureLayout:n?.isEnabled(t)||r?.isEnabled(t)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function WL(t,e){if(typeof Proxy>"u")return Bf;const n=new Map,r=(o,u)=>Bf(o,u,t,e),a=(o,u)=>r(o,u);return new Proxy(a,{get:(o,u)=>u==="create"?r:(n.has(u)||n.set(u,Bf(u,void 0,t,e)),n.get(u))})}const XL=(t,e)=>e.isSVG??am(t)?new kM(e):new SM(e,{allowProjection:t!==V.Fragment});class JL extends gr{constructor(e){super(e),e.animationState||(e.animationState=NM(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Mc(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let QL=0;class ZL extends gr{constructor(){super(...arguments),this.id=QL++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const eI={animation:{Feature:JL},exit:{Feature:ZL}};function pl(t){return{point:{x:t.pageX,y:t.pageY}}}const tI=t=>e=>em(e)&&t(e,pl(e));function Uo(t,e,n,r){return rl(t,e,tI(n),r)}const xT=({current:t})=>t?t.ownerDocument.defaultView:null,SS=(t,e)=>Math.abs(t-e);function nI(t,e){const n=SS(t.x,e.x),r=SS(t.y,e.y);return Math.sqrt(n**2+r**2)}const xS=new Set(["auto","scroll"]);class _T{constructor(e,n,{transformPagePoint:r,contextWindow:a=window,dragSnapToOrigin:o=!1,distanceThreshold:u=3,element:h}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=b=>{this.handleScroll(b.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=zf(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,E=nI(b.offset,{x:0,y:0})>=this.distanceThreshold;if(!x&&!E)return;const{point:T}=b,{timestamp:A}=Lt;this.history.push({...T,timestamp:A});const{onStart:R,onMove:C}=this.handlers;x||(R&&R(this.lastMoveEvent,b),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,b)},this.handlePointerMove=(b,x)=>{this.lastMoveEvent=b,this.lastMoveEventInfo=Uf(x,this.transformPagePoint),tt.update(this.updatePoint,!0)},this.handlePointerUp=(b,x)=>{this.end();const{onEnd:E,onSessionEnd:T,resumeAnimation:A}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&A&&A(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const R=zf(b.type==="pointercancel"?this.lastMoveEventInfo:Uf(x,this.transformPagePoint),this.history);this.startEvent&&E&&E(b,R),T&&T(b,R)},!em(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=u,this.contextWindow=a||window;const f=pl(e),d=Uf(f,this.transformPagePoint),{point:g}=d,{timestamp:y}=Lt;this.history=[{...g,timestamp:y}];const{onSessionStart:v}=n;v&&v(e,zf(d,this.history)),this.removeListeners=hl(Uo(this.contextWindow,"pointermove",this.handlePointerMove),Uo(this.contextWindow,"pointerup",this.handlePointerUp),Uo(this.contextWindow,"pointercancel",this.handlePointerUp)),h&&this.startScrollTracking(h)}startScrollTracking(e){let n=e.parentElement;for(;n;){const r=getComputedStyle(n);(xS.has(r.overflowX)||xS.has(r.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const r=e===window,a=r?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},o={x:a.x-n.x,y:a.y-n.y};o.x===0&&o.y===0||(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=o.x,this.lastMoveEventInfo.point.y+=o.y):this.history.length>0&&(this.history[0].x-=o.x,this.history[0].y-=o.y),this.scrollPositions.set(e,a),tt.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Ri(this.updatePoint)}}function Uf(t,e){return e?{point:e(t.point)}:t}function _S(t,e){return{x:t.x-e.x,y:t.y-e.y}}function zf({point:t},e){return{point:t,delta:_S(t,TT(e)),offset:_S(t,iI(e)),velocity:rI(e,.1)}}function iI(t){return t[0]}function TT(t){return t[t.length-1]}function rI(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const a=TT(t);for(;n>=0&&(r=t[n],!(a.timestamp-r.timestamp>ki(e)));)n--;if(!r)return{x:0,y:0};const o=Rn(a.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const u={x:(a.x-r.x)/o,y:(a.y-r.y)/o};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function sI(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?at(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?at(n,t,r.max):Math.min(t,n)),t}function TS(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function aI(t,{top:e,left:n,bottom:r,right:a}){return{x:TS(t.x,n,a),y:TS(t.y,e,r)}}function ES(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function oI(t,e){return{x:ES(t.x,e.x),y:ES(t.y,e.y)}}function lI(t,e){let n=.5;const r=qt(t),a=qt(e);return a>r?n=el(e.min,e.max-r,t.min):r>a&&(n=el(t.min,t.max-a,e.min)),ei(0,1,n)}function uI(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const ng=.35;function cI(t=ng){return t===!1?t=0:t===!0&&(t=ng),{x:AS(t,"left","right"),y:AS(t,"top","bottom")}}function AS(t,e,n){return{min:kS(t,e),max:kS(t,n)}}function kS(t,e){return typeof t=="number"?t:t[e]||0}const hI=new WeakMap;class dI{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Tt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const o=y=>{n?(this.stopAnimation(),this.snapToCursor(pl(y).point)):this.pauseAnimation()},u=(y,v)=>{this.stopAnimation();const{drag:b,dragPropagation:x,onDragStart:E}=this.getProps();if(b&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Jj(b),!this.openDragLock))return;this.latestPointerEvent=y,this.latestPanInfo=v,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Cn(A=>{let R=this.getAxisMotionValue(A).get()||0;if(Zn.test(R)){const{projection:C}=this.visualElement;if(C&&C.layout){const D=C.layout.layoutBox[A];D&&(R=qt(D)*(parseFloat(R)/100))}}this.originPoint[A]=R}),E&&tt.postRender(()=>E(y,v)),Yp(this.visualElement,"transform");const{animationState:T}=this.visualElement;T&&T.setActive("whileDrag",!0)},h=(y,v)=>{this.latestPointerEvent=y,this.latestPanInfo=v;const{dragPropagation:b,dragDirectionLock:x,onDirectionLock:E,onDrag:T}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:A}=v;if(x&&this.currentDirection===null){this.currentDirection=fI(A),this.currentDirection!==null&&E&&E(this.currentDirection);return}this.updateAxis("x",v.point,A),this.updateAxis("y",v.point,A),this.visualElement.render(),T&&T(y,v)},f=(y,v)=>{this.latestPointerEvent=y,this.latestPanInfo=v,this.stop(y,v),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>Cn(y=>this.getAnimationState(y)==="paused"&&this.getAxisMotionValue(y).animation?.play()),{dragSnapToOrigin:g}=this.getProps();this.panSession=new _T(e,{onSessionStart:o,onStart:u,onMove:h,onSessionEnd:f,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:r,contextWindow:xT(this.visualElement),element:this.visualElement.current})}stop(e,n){const r=e||this.latestPointerEvent,a=n||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!a||!r)return;const{velocity:u}=a;this.startAnimation(u);const{onDragEnd:h}=this.getProps();h&&tt.postRender(()=>h(r,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,n,r){const{drag:a}=this.getProps();if(!r||!Yu(e,a,this.currentDirection))return;const o=this.getAxisMotionValue(e);let u=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(u=sI(u,this.constraints[e],this.elastic[e])),o.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&Oo(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=aI(r.layoutBox,e):this.constraints=!1,this.elastic=cI(n),a!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Cn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=uI(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Oo(e))return!1;const r=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const o=gM(r,a.root,this.visualElement.getTransformPagePoint());let u=oI(a.layout.layoutBox,o);if(n){const h=n(dM(u));this.hasMutatedConstraints=!!h,h&&(u=q_(h))}return u}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:a,dragTransition:o,dragSnapToOrigin:u,onDragTransitionEnd:h}=this.getProps(),f=this.constraints||{},d=Cn(g=>{if(!Yu(g,n,this.currentDirection))return;let y=f&&f[g]||{};u&&(y={min:0,max:0});const v=a?200:1e6,b=a?40:1e7,x={type:"inertia",velocity:r?e[g]:0,bounceStiffness:v,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...o,...y};return this.startAxisValueAnimation(g,x)});return Promise.all(d).then(h)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Yp(this.visualElement,e),r.start(Wg(e,r,0,n,this.visualElement,!1))}stopAnimation(){Cn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Cn(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),a=r[n];return a||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Cn(n=>{const{drag:r}=this.getProps();if(!Yu(n,r,this.currentDirection))return;const{projection:a}=this.visualElement,o=this.getAxisMotionValue(n);if(a&&a.layout){const{min:u,max:h}=a.layout.layoutBox[n],f=o.get()||0;o.set(e[n]-at(u,h,.5)+f)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Oo(n)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Cn(u=>{const h=this.getAxisMotionValue(u);if(h&&this.constraints!==!1){const f=h.get();a[u]=lI({min:f,max:f},this.constraints[u])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Cn(u=>{if(!Yu(u,e,null))return;const h=this.getAxisMotionValue(u),{min:f,max:d}=this.constraints[u];h.set(at(f,d,a[u]))})}addListeners(){if(!this.visualElement.current)return;hI.set(this.visualElement,this);const e=this.visualElement.current,n=Uo(e,"pointerdown",f=>{const{drag:d,dragListener:g=!0}=this.getProps(),y=f.target,v=y!==e&&U_(y);d&&g&&!v&&this.start(f)}),r=()=>{const{dragConstraints:f}=this.getProps();Oo(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,o=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),tt.read(r);const u=rl(window,"resize",()=>this.scalePositionWithinConstraints()),h=a.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:d})=>{this.isDragging&&d&&(Cn(g=>{const y=this.getAxisMotionValue(g);y&&(this.originPoint[g]+=f[g].translate,y.set(y.get()+f[g].translate))}),this.visualElement.render())}));return()=>{u(),n(),o(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:o=!1,dragElastic:u=ng,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:a,dragConstraints:o,dragElastic:u,dragMomentum:h}}}function Yu(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function fI(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class pI extends gr{constructor(e){super(e),this.removeGroupControls=Dn,this.removeListeners=Dn,this.controls=new dI(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Dn}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const CS=t=>(e,n)=>{t&&tt.postRender(()=>t(e,n))};class gI extends gr{constructor(){super(...arguments),this.removePointerDownListener=Dn}onPointerDown(e){this.session=new _T(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:xT(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:CS(e),onStart:CS(n),onMove:r,onEnd:(o,u)=>{delete this.session,a&&tt.postRender(()=>a(o,u))}}}mount(){this.removePointerDownListener=Uo(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Vf=!1;class mI extends V.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:a}=this.props,{projection:o}=e;o&&(n.group&&n.group.add(o),r&&r.register&&a&&r.register(o),Vf&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),sc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:a,isPresent:o}=this.props,{projection:u}=r;return u&&(u.isPresent=o,e.layoutDependency!==n&&u.setOptions({...u.options,layoutDependency:n}),Vf=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==o?u.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?u.promote():u.relegate()||tt.postRender(()=>{const h=u.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Zg.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:a}=e;Vf=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function ET(t){const[e,n]=fT(),r=V.useContext(Rg);return S.jsx(mI,{...t,layoutGroup:r,switchLayoutGroup:V.useContext(wT),isPresent:e,safeToRemove:n})}const yI={pan:{Feature:gI},drag:{Feature:pI,ProjectionNode:dT,MeasureLayout:ET}};function OS(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,o=r[a];o&&tt.postRender(()=>o(e,pl(e)))}class vI extends gr{mount(){const{current:e}=this.node;e&&(this.unmount=Qj(e,(n,r)=>(OS(this.node,r,"Start"),a=>OS(this.node,a,"End"))))}unmount(){}}class bI extends gr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=hl(rl(this.node.current,"focus",()=>this.onFocus()),rl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function RS(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),o=r[a];o&&tt.postRender(()=>o(e,pl(e)))}class wI extends gr{mount(){const{current:e}=this.node;e&&(this.unmount=tM(e,(n,r)=>(RS(this.node,r,"Start"),(a,{success:o})=>RS(this.node,a,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const ig=new WeakMap,$f=new WeakMap,SI=t=>{const e=ig.get(t.target);e&&e(t)},xI=t=>{t.forEach(SI)};function _I({root:t,...e}){const n=t||document;$f.has(n)||$f.set(n,{});const r=$f.get(n),a=JSON.stringify(e);return r[a]||(r[a]=new IntersectionObserver(xI,{root:t,...e})),r[a]}function TI(t,e,n){const r=_I(e);return ig.set(t,n),r.observe(t),()=>{ig.delete(t),r.unobserve(t)}}const EI={some:0,all:1};class AI extends gr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:a="some",once:o}=e,u={root:n?n.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:EI[a]},h=f=>{const{isIntersecting:d}=f;if(this.isInView===d||(this.isInView=d,o&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:g,onViewportLeave:y}=this.node.getProps(),v=d?g:y;v&&v(f)};return TI(this.node.current,u,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(kI(e,n))&&this.startObserver()}unmount(){}}function kI({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const CI={inView:{Feature:AI},tap:{Feature:wI},focus:{Feature:bI},hover:{Feature:vI}},OI={layout:{ProjectionNode:dT,MeasureLayout:ET}},RI={...eI,...CI,...yI,...OI},Qs=WL(RI,XL);function AT(t){const e=Zr(()=>es(t)),{isStatic:n}=V.useContext(Ic);if(n){const[,r]=V.useState(t);V.useEffect(()=>e.on("change",r),[])}return e}function kT(t,e){const n=AT(e()),r=()=>n.set(e());return r(),Dg(()=>{const a=()=>tt.preRender(r,!1,!0),o=t.map(u=>u.on("change",a));return()=>{o.forEach(u=>u()),Ri(r)}}),n}function DI(t){Po.current=[],t();const e=kT(Po.current,t);return Po.current=void 0,e}function Ro(t,e,n,r){if(typeof t=="function")return DI(t);if(n!==void 0&&!Array.isArray(n)&&typeof e!="function")return NI(t,e,n,r);const u=typeof e=="function"?e:iM(e,n,r);return Array.isArray(t)?DS(t,u):DS([t],([h])=>u(h))}function DS(t,e){const n=Zr(()=>[]);return kT(t,()=>{n.length=0;const r=t.length;for(let a=0;a<r;a++)n[a]=t[a].get();return e(n)})}function NI(t,e,n,r){const a=Zr(()=>Object.keys(n)),o=Zr(()=>({}));for(const u of a)o[u]=Ro(t,e,n[u],r);return o}const jI=({children:t,onDelete:e,onArchive:n,deleteLabel:r="Kustuta",archiveLabel:a="Arhiveeri",mode:o="feed",onPress:u})=>{const h=AT(0),[f,d]=V.useState(!0),[g,y]=V.useState(!1),v=Ro(h,[10,50],[0,1]),b=Ro(h,[-10,-50],[0,1]),x=Ro(h,C=>C>0?1:0),E=Ro(h,C=>C<0?1:0),T=()=>{y(!1)},A=(C,D)=>{Math.abs(D.offset.x)>5&&y(!0)},R=async(C,D)=>{setTimeout(()=>y(!1),100);const $=60,M=D.velocity.x;D.offset.x>$||D.offset.x>30&&M>200?(d(!1),setTimeout(()=>{e()},300)):(D.offset.x<-$||D.offset.x<-30&&M<-200)&&(d(!1),setTimeout(()=>{o==="archive"?e():n&&n()},300))};return S.jsx(TL,{children:f&&S.jsxs(Qs.div,{layout:!0,initial:{opacity:1,height:"auto"},exit:{opacity:0,height:0,marginBottom:0},transition:{duration:.2},style:{position:"relative",overflow:"hidden",touchAction:"pan-y"},children:[S.jsx(Qs.div,{style:{position:"absolute",top:0,bottom:0,left:0,width:"100%",background:"#FF3B30",display:"flex",alignItems:"center",justifyContent:"flex-start",paddingLeft:"24px",zIndex:x,borderRadius:"18px"},children:S.jsxs(Qs.div,{style:{opacity:v,display:"flex",alignItems:"center",gap:"8px",color:"white"},children:[S.jsx(Np,{size:24}),S.jsx("span",{style:{fontWeight:600,fontSize:"15px"},children:r}),S.jsx(P2,{size:20})]})}),S.jsx(Qs.div,{style:{position:"absolute",top:0,bottom:0,right:0,width:"100%",background:o==="archive"?"#FF3B30":"#8E8E93",display:"flex",alignItems:"center",justifyContent:"flex-end",paddingRight:"24px",zIndex:E,borderRadius:"18px"},children:S.jsxs(Qs.div,{style:{opacity:b,display:"flex",alignItems:"center",gap:"8px",color:"white"},children:[o==="archive"?S.jsx(Rp,{size:20}):S.jsx(Rp,{size:20}),S.jsx("span",{style:{fontWeight:600,fontSize:"15px"},children:o==="archive"?r:a}),o==="archive"?S.jsx(Np,{size:24}):S.jsx(M2,{size:24})]})}),S.jsx(Qs.div,{style:{x:h,cursor:"grab",background:"transparent",position:"relative",zIndex:1},drag:"x",dragConstraints:{left:0,right:0},dragElastic:.7,onDragStart:T,onDrag:A,onDragEnd:R,whileTap:{cursor:"grabbing"},onTap:()=>{!g&&u&&u()},children:t})]})})};function MI({item:t,onPress:e}){const n=Og(t.title||t.uk_summary||t.content||""),r=t.uk_summary||t.content||"";return S.jsx("div",{className:"news-card",onClick:e,style:{position:"relative",display:"flex",flexDirection:"column",gap:"12px",padding:"0",overflow:"hidden",borderLeft:"none",transition:"transform 0.2s ease",background:"var(--card-bg)",borderRadius:"18px",boxShadow:"0 2px 8px rgba(0,0,0,0.05)",cursor:e?"pointer":"default"},children:S.jsxs("div",{style:{padding:"0",display:"flex",flexDirection:"column"},children:[S.jsx("div",{style:{padding:"12px 16px 8px 16px"},children:S.jsx("div",{style:{fontSize:"15px",fontWeight:600,lineHeight:"1.3",color:"var(--text-main)",fontFamily:"var(--font-main)"},children:n})}),S.jsx("div",{style:{width:"100%",aspectRatio:"16/9",background:"#f0f0f0",position:"relative",overflow:"hidden"},children:t.image_url&&t.image_status!=="failed"?S.jsx("img",{src:t.image_url,alt:"",draggable:!1,style:{width:"100%",height:"100%",objectFit:"cover",pointerEvents:"none",userSelect:"none"},onError:a=>{a.target.style.display="none"}}):S.jsx("div",{style:{width:"100%",height:"100%",background:"linear-gradient(135deg, var(--bg-secondary, #f3f4f6) 0%, var(--card-bg, #e5e7eb) 100%)",display:"flex",alignItems:"center",justifyContent:"center",opacity:.6},children:S.jsx("span",{style:{fontSize:"32px"},children:""})})}),S.jsx("div",{style:{padding:"8px 16px 0 16px",fontSize:"11px",color:"#8E8E93",fontWeight:500,textAlign:"right"},children:new Date(t.published_at||Date.now()).toLocaleDateString("uk-UA")}),S.jsx("div",{style:{padding:"0 16px 16px 16px"},children:S.jsx("div",{style:{fontSize:"15px",fontWeight:400,lineHeight:"1.5",color:"var(--text-sub)",whiteSpace:"pre-line",overflow:"hidden",marginBottom:"16px"},children:r})})]})})}const CT=({item:t,onPress:e,onDelete:n,onArchive:r,deleteLabel:a,variant:o="feed"})=>S.jsx(jI,{onDelete:n,onArchive:r,deleteLabel:a||"",archiveLabel:" ",mode:o,onPress:e,children:S.jsx(MI,{item:t,onPress:e})}),LI=({onBack:t,onSelectNews:e})=>{const{history:n,handleArchiveDeletion:r}=H1(),[a,o]=V.useState({}),[u,h]=V.useState(!0);V.useEffect(()=>{(async()=>{const y=n.archived;if(y.length===0){h(!1);return}const{data:v}=await Oe.from("news").select("*").in("id",y);if(v){const b={};v.forEach(x=>b[x.id]=x),o(b)}h(!1)})()},[n.archived]);const f=g=>{console.log("Clicked archived item",g.id),e(g)},d=[...n.archived].reverse();return S.jsxs("div",{className:"archive-view",style:{maxWidth:"600px",margin:"0 auto",paddingBottom:"40px"},children:[S.jsxs("div",{className:"task-card",style:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"20px",background:"#8E8E93",color:"white",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",padding:"16px",minHeight:"60px"},children:[S.jsx("div",{onClick:g=>{g.preventDefault(),g.stopPropagation(),t()},style:{position:"absolute",left:0,top:0,bottom:0,width:"80px",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999,cursor:"pointer",paddingLeft:"8px"},children:S.jsx("div",{style:{width:"40px",height:"40px",background:"white",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px rgba(0,0,0,0.15)",color:"#1C1C1E"},children:S.jsx(Rp,{size:24})})}),S.jsx("h4",{style:{fontSize:"18px",fontWeight:"700",margin:0,zIndex:1},children:" "})]}),S.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[d.length===0&&!u&&S.jsx("div",{style:{textAlign:"center",padding:"40px",color:"#8E8E93"},children:" "}),d.map(g=>{const y=a[g];return y?S.jsx(CT,{item:y,onPress:()=>f(y),onDelete:()=>r(g),deleteLabel:"",variant:"archive"},g):null})]})]})},II=({land:t,city:e})=>{const[n,r]=V.useState(null),{visibleFeed:a,handleSwipe:o}=H1({land:t,city:e}),[u,h]=V.useState({}),[f,d]=V.useState(!1);V.useEffect(()=>{(async()=>{const b=a.filter(E=>E>0&&!u[E]);if(b.length===0)return;const{data:x}=await Oe.from("news").select("*").in("id",b);x&&h(E=>{const T={...E};return x.forEach(A=>T[A.id]=A),T})})()},[a]),V.useEffect(()=>{(a.length===0||a.every(v=>v<=0))&&(console.log("[NewsView] Feed empty on mount. Forcing check..."),Mo(async()=>{const{FeedManager:v}=await Promise.resolve().then(()=>YD);return{FeedManager:v}},void 0).then(({FeedManager:v})=>{v.initialize(t,e)}))},[]);const g=(v,b)=>v<=0?null:u[v],y=v=>{Mo(async()=>{const{SignalProcessor:b}=await import("./SignalProcessor-BP0nAwbb.js");return{SignalProcessor:b}},[]).then(({SignalProcessor:b})=>{b.trackOpen(v)}),r(v)};return n?S.jsx(FD,{item:n,onBack:()=>r(null)}):f?S.jsx(LI,{onBack:()=>d(!1),onSelectNews:r}):S.jsxs("div",{className:"news-view",style:{maxWidth:"600px",margin:"0 auto",paddingBottom:"40px"},children:[S.jsx("div",{className:"task-card",style:{justifyContent:"center",marginBottom:"20px",background:"linear-gradient(135deg, #007AFF 0%, #5AC8FA 100%)",color:"white",boxShadow:"0 4px 12px rgba(0,122,255,0.3)"},children:S.jsx("h4",{style:{fontSize:"18px",fontWeight:"700",margin:0},children:"  "})}),S.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:a.map((v,b)=>{const x=g(v);return x?S.jsx(CT,{item:x,onPress:()=>{y(x),r(x)},onDelete:()=>o(x.id,"RIGHT"),onArchive:()=>o(x.id,"LEFT"),deleteLabel:"",variant:"feed"},x.id):S.jsx("div",{className:"news-card",style:{height:"80px",opacity:.5,display:"flex",alignItems:"center",justifyContent:"center"},children:S.jsx("span",{style:{fontSize:"12px",color:"#8E8E93"},children:"..."})},`param-${b}`)})}),S.jsx("div",{style:{marginTop:"20px"},children:S.jsx("button",{onClick:()=>d(!0),style:{width:"100%",background:"var(--card-bg)",border:"none",borderRadius:"18px",padding:"16px",color:"var(--text-main)",fontSize:"17px",fontWeight:700,boxShadow:"0 2px 8px rgba(0,0,0,0.05)",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",cursor:"pointer"},children:"  "})}),S.jsx("div",{style:{marginTop:"10px",textAlign:"center",fontSize:"10px",color:"#D1D1D6"},children:":  =  ,  = "})]})},PI=({userData:t,theme:e,onThemeChange:n,onUpdateProfile:r,onUpdatePassword:a,onAddCredits:o,onLogout:u})=>{const[h,f]=V.useState(!1),[d,g]=V.useState({username:t.username,land:t.land,city:t.city||"",residence_permit:t.residence_permit}),[y,v]=V.useState(!1),[b,x]=V.useState(""),[E,T]=V.useState(""),A=async()=>{(await r(d)).error||(f(!1),alert("Salvestatud!"))},R=async()=>{if(b!==E){alert("Paroolid ei klapi!");return}const D=await a(b);D.error?alert(D.error):(alert("Parool muudetud!"),v(!1),x(""),T(""))},C=({icon:D,color:$,label:M,value:F,onClick:Y,isAction:ee})=>S.jsxs("div",{className:"info-row",onClick:Y,style:{cursor:Y?"pointer":"default"},children:[S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[S.jsx("div",{style:{background:$,width:"28px",height:"28px",borderRadius:"6px",display:"flex",alignItems:"center",justifyContent:"center",color:"white"},children:S.jsx(D,{size:16})}),S.jsx("span",{className:"info-label",children:M})]}),S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[S.jsx("span",{className:"info-value",children:F}),ee&&S.jsx(fa,{size:18,style:{color:"#C7C7CC"}})]})]});return S.jsxs("div",{className:"settings-view",children:[S.jsx("div",{className:"task-card",style:{justifyContent:"center",marginBottom:"20px",background:"linear-gradient(135deg, #8E8E93 0%, #636366 100%)",color:"white"},children:S.jsx("h4",{style:{fontSize:"18px",fontWeight:"700",color:"white",margin:0},children:" "})}),S.jsx("h4",{className:"section-title",children:" "}),S.jsx("div",{className:"settings-group",children:h?S.jsxs("div",{style:{padding:"20px"},children:[S.jsxs("div",{className:"input-group",children:[S.jsx("label",{className:"info-label",style:{marginBottom:"8px",display:"block"},children:"'"}),S.jsx("input",{type:"text",value:d.username,onChange:D=>g({...d,username:D.target.value})})]}),S.jsxs("div",{className:"input-group",children:[S.jsx("label",{className:"info-label",style:{marginBottom:"8px",display:"block"},children:""}),S.jsx("select",{value:d.land,onChange:D=>g({...d,land:D.target.value}),className:"select-input",children:B1.map(D=>S.jsx("option",{value:D,children:D},D))})]}),S.jsxs("div",{className:"input-group",children:[S.jsx("label",{className:"info-label",style:{marginBottom:"8px",display:"block"},children:""}),S.jsx("input",{type:"text",value:d.city,onChange:D=>g({...d,city:D.target.value})})]}),S.jsxs("div",{className:"input-group",children:[S.jsx("label",{className:"info-label",style:{marginBottom:"8px",display:"block"},children:""}),S.jsxs("select",{value:d.residence_permit,onChange:D=>g({...d,residence_permit:D.target.value}),className:"select-input",children:[S.jsx("optgroup",{label:"",children:jo.protection.map(D=>S.jsx("option",{value:D.value,children:D.label},D.value))}),S.jsx("optgroup",{label:"",children:jo.work.map(D=>S.jsx("option",{value:D.value,children:D.label},D.value))})]})]}),S.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"15px"},children:[S.jsxs("button",{className:"primary-btn",onClick:A,style:{background:"var(--success)",marginTop:0},children:[S.jsx(Cg,{size:18,style:{marginRight:"5px"}})," "]}),S.jsxs("button",{className:"primary-btn",onClick:()=>f(!1),style:{background:"var(--text-tertiary)",marginTop:0},children:[S.jsx(LD,{size:18,style:{marginRight:"5px"}})," "]})]})]}):S.jsxs(S.Fragment,{children:[S.jsx(C,{icon:DD,color:"#0071E3",label:"'",value:t.username}),S.jsx(C,{icon:Dp,color:"#34C759",label:"",value:t.land}),S.jsx(C,{icon:Dp,color:"#30B0C7",label:"",value:t.city||"-"}),S.jsx(C,{icon:V2,color:"#FF9500",label:"",value:t.residence_permit}),S.jsx(C,{icon:sD,color:"#5856D6",label:"Email",value:t.email}),S.jsx("div",{className:"info-row",onClick:()=>f(!0),style:{cursor:"pointer",color:"var(--primary)"},children:S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[S.jsx(vD,{size:18}),S.jsx("span",{style:{fontWeight:500},children:" "})]})})]})}),S.jsx("h4",{className:"section-title",children:""}),S.jsx("div",{className:"settings-group",style:{padding:"16px"},children:S.jsxs("div",{className:"theme-switcher",children:[S.jsxs("button",{className:e==="light"?"active":"",onClick:()=>n("light"),children:[S.jsx(CD,{size:16,style:{marginBottom:"-2px"}})," "]}),S.jsxs("button",{className:e==="dark"?"active":"",onClick:()=>n("dark"),children:[S.jsx(pD,{size:16})," "]})]})}),S.jsx("h4",{className:"section-title",children:""}),S.jsx("div",{className:"settings-group",children:S.jsx(C,{icon:W2,color:"#FF2D55",label:"",value:`${t.credits} `,isAction:!0,onClick:()=>o(10)})}),S.jsx("h4",{className:"section-title",children:""}),S.jsxs("div",{className:"settings-group",children:[S.jsxs("div",{className:"info-row",onClick:()=>v(!y),style:{cursor:"pointer"},children:[S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[S.jsx("div",{style:{background:"#8E8E93",width:"28px",height:"28px",borderRadius:"6px",display:"flex",alignItems:"center",justifyContent:"center",color:"white"},children:S.jsx($1,{size:16})}),S.jsx("span",{className:"info-label",children:" "})]}),y?S.jsx(V1,{size:20,color:"#C7C7CC"}):S.jsx(z1,{size:20,color:"#C7C7CC"})]}),y&&S.jsxs("div",{style:{padding:"20px",borderTop:"1px solid var(--divider)"},children:[S.jsx("div",{className:"input-group",children:S.jsx("input",{type:"password",placeholder:" ",value:b,onChange:D=>x(D.target.value)})}),S.jsx("div",{className:"input-group",children:S.jsx("input",{type:"password",placeholder:" ",value:E,onChange:D=>T(D.target.value)})}),S.jsx("button",{className:"primary-btn",onClick:R,style:{marginTop:"10px"},children:""})]})]}),S.jsxs("button",{className:"primary-btn",onClick:u,style:{background:"var(--bg-color)",color:"#FF3B30",border:"1px solid #FF3B30",marginTop:"20px"},children:[S.jsx(iD,{size:18,style:{marginRight:"8px",verticalAlign:"text-bottom"}}),"  "]})]})},BI=({task:t,unlockedTasks:e,onClose:n,onUnlock:r})=>{const a="type"in t&&t.type==="news",o=!a&&t.category!=="premium"?!0:e.includes(t.id);return S.jsx("div",{className:"modal-overlay",onClick:n,children:S.jsxs("div",{className:"modal-content",onClick:u=>u.stopPropagation(),children:[S.jsxs("div",{className:"modal-header",children:[S.jsx("h3",{children:a&&t.uk_summary?t.uk_summary.split(`

`)[0]:t.title}),S.jsx("button",{className:"close-btn",onClick:n,children:""})]}),a?S.jsxs("div",{className:"modal-body",style:{display:"flex",flexDirection:"column",minHeight:"100%"},children:[S.jsx("h3",{style:{marginBottom:"15px"},children:Og(t.title||t.uk_summary||"")}),S.jsx("img",{src:t.image_url||t.image,style:{width:"100%",borderRadius:"12px",marginBottom:"15px",objectFit:"cover",aspectRatio:"16/9"},alt:""}),S.jsx("p",{className:"modal-text",children:HD(t.uk_summary||t.content||"")}),S.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"8px"},children:S.jsxs("p",{style:{fontWeight:"bold",color:"var(--primary)",margin:0},children:[": ",t.source]})}),S.jsx("hr",{className:"divider",style:{margin:"15px 0"}}),t.link&&S.jsx("div",{style:{marginTop:"auto",display:"flex",justifyContent:"center",paddingBottom:"20px"},children:S.jsx("a",{href:t.link,target:"_blank",className:"external-link-btn",style:{textDecoration:"none"},children:"  () "})})]}):S.jsx("div",{className:"modal-body",children:t.category==="premium"&&!o?S.jsxs("div",{style:{textAlign:"center",padding:"20px 0"},children:[S.jsxs("p",{children:[": ",t.price," "]}),S.jsx("button",{className:"primary-btn",onClick:()=>r(t),children:""})]}):S.jsxs(S.Fragment,{children:[S.jsx("p",{className:"modal-text",children:t.content}),(t.link||t.link_text)&&S.jsxs("a",{href:t.link,target:"_blank",className:"external-link-btn",children:[t.linkText||t.link_text||"Link"," "]})]})})]})})};function UI(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const zI=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,VI=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,$I={};function NS(t,e){return($I.jsx?VI:zI).test(t)}const HI=/[ \t\n\f\r]/g;function FI(t){return typeof t=="object"?t.type==="text"?jS(t.value):!1:jS(t)}function jS(t){return t.replace(HI,"")===""}class gl{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}}gl.prototype.normal={};gl.prototype.property={};gl.prototype.space=void 0;function OT(t,e){const n={},r={};for(const a of t)Object.assign(n,a.property),Object.assign(r,a.normal);return new gl(n,r,e)}function rg(t){return t.toLowerCase()}class sn{constructor(e,n){this.attribute=n,this.property=e}}sn.prototype.attribute="";sn.prototype.booleanish=!1;sn.prototype.boolean=!1;sn.prototype.commaOrSpaceSeparated=!1;sn.prototype.commaSeparated=!1;sn.prototype.defined=!1;sn.prototype.mustUseProperty=!1;sn.prototype.number=!1;sn.prototype.overloadedBoolean=!1;sn.prototype.property="";sn.prototype.spaceSeparated=!1;sn.prototype.space=void 0;let qI=0;const ke=is(),vt=is(),sg=is(),te=is(),Ze=is(),ga=is(),gn=is();function is(){return 2**++qI}const ag=Object.freeze(Object.defineProperty({__proto__:null,boolean:ke,booleanish:vt,commaOrSpaceSeparated:gn,commaSeparated:ga,number:te,overloadedBoolean:sg,spaceSeparated:Ze},Symbol.toStringTag,{value:"Module"})),Hf=Object.keys(ag);class om extends sn{constructor(e,n,r,a){let o=-1;if(super(e,n),MS(this,"space",a),typeof r=="number")for(;++o<Hf.length;){const u=Hf[o];MS(this,Hf[o],(r&ag[u])===ag[u])}}}om.prototype.defined=!0;function MS(t,e,n){n&&(t[e]=n)}function xa(t){const e={},n={};for(const[r,a]of Object.entries(t.properties)){const o=new om(r,t.transform(t.attributes||{},r),a,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),e[r]=o,n[rg(r)]=r,n[rg(o.attribute)]=r}return new gl(e,n,t.space)}const RT=xa({properties:{ariaActiveDescendant:null,ariaAtomic:vt,ariaAutoComplete:null,ariaBusy:vt,ariaChecked:vt,ariaColCount:te,ariaColIndex:te,ariaColSpan:te,ariaControls:Ze,ariaCurrent:null,ariaDescribedBy:Ze,ariaDetails:null,ariaDisabled:vt,ariaDropEffect:Ze,ariaErrorMessage:null,ariaExpanded:vt,ariaFlowTo:Ze,ariaGrabbed:vt,ariaHasPopup:null,ariaHidden:vt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Ze,ariaLevel:te,ariaLive:null,ariaModal:vt,ariaMultiLine:vt,ariaMultiSelectable:vt,ariaOrientation:null,ariaOwns:Ze,ariaPlaceholder:null,ariaPosInSet:te,ariaPressed:vt,ariaReadOnly:vt,ariaRelevant:null,ariaRequired:vt,ariaRoleDescription:Ze,ariaRowCount:te,ariaRowIndex:te,ariaRowSpan:te,ariaSelected:vt,ariaSetSize:te,ariaSort:null,ariaValueMax:te,ariaValueMin:te,ariaValueNow:te,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function DT(t,e){return e in t?t[e]:e}function NT(t,e){return DT(t,e.toLowerCase())}const KI=xa({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:ga,acceptCharset:Ze,accessKey:Ze,action:null,allow:null,allowFullScreen:ke,allowPaymentRequest:ke,allowUserMedia:ke,alt:null,as:null,async:ke,autoCapitalize:null,autoComplete:Ze,autoFocus:ke,autoPlay:ke,blocking:Ze,capture:null,charSet:null,checked:ke,cite:null,className:Ze,cols:te,colSpan:null,content:null,contentEditable:vt,controls:ke,controlsList:Ze,coords:te|ga,crossOrigin:null,data:null,dateTime:null,decoding:null,default:ke,defer:ke,dir:null,dirName:null,disabled:ke,download:sg,draggable:vt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:ke,formTarget:null,headers:Ze,height:te,hidden:sg,high:te,href:null,hrefLang:null,htmlFor:Ze,httpEquiv:Ze,id:null,imageSizes:null,imageSrcSet:null,inert:ke,inputMode:null,integrity:null,is:null,isMap:ke,itemId:null,itemProp:Ze,itemRef:Ze,itemScope:ke,itemType:Ze,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:ke,low:te,manifest:null,max:null,maxLength:te,media:null,method:null,min:null,minLength:te,multiple:ke,muted:ke,name:null,nonce:null,noModule:ke,noValidate:ke,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:ke,optimum:te,pattern:null,ping:Ze,placeholder:null,playsInline:ke,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:ke,referrerPolicy:null,rel:Ze,required:ke,reversed:ke,rows:te,rowSpan:te,sandbox:Ze,scope:null,scoped:ke,seamless:ke,selected:ke,shadowRootClonable:ke,shadowRootDelegatesFocus:ke,shadowRootMode:null,shape:null,size:te,sizes:null,slot:null,span:te,spellCheck:vt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:te,step:null,style:null,tabIndex:te,target:null,title:null,translate:null,type:null,typeMustMatch:ke,useMap:null,value:vt,width:te,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Ze,axis:null,background:null,bgColor:null,border:te,borderColor:null,bottomMargin:te,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:ke,declare:ke,event:null,face:null,frame:null,frameBorder:null,hSpace:te,leftMargin:te,link:null,longDesc:null,lowSrc:null,marginHeight:te,marginWidth:te,noResize:ke,noHref:ke,noShade:ke,noWrap:ke,object:null,profile:null,prompt:null,rev:null,rightMargin:te,rules:null,scheme:null,scrolling:vt,standby:null,summary:null,text:null,topMargin:te,valueType:null,version:null,vAlign:null,vLink:null,vSpace:te,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:ke,disableRemotePlayback:ke,prefix:null,property:null,results:te,security:null,unselectable:null},space:"html",transform:NT}),GI=xa({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:gn,accentHeight:te,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:te,amplitude:te,arabicForm:null,ascent:te,attributeName:null,attributeType:null,azimuth:te,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:te,by:null,calcMode:null,capHeight:te,className:Ze,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:te,diffuseConstant:te,direction:null,display:null,dur:null,divisor:te,dominantBaseline:null,download:ke,dx:null,dy:null,edgeMode:null,editable:null,elevation:te,enableBackground:null,end:null,event:null,exponent:te,externalResourcesRequired:null,fill:null,fillOpacity:te,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:ga,g2:ga,glyphName:ga,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:te,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:te,horizOriginX:te,horizOriginY:te,id:null,ideographic:te,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:te,k:te,k1:te,k2:te,k3:te,k4:te,kernelMatrix:gn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:te,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:te,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:te,overlineThickness:te,paintOrder:null,panose1:null,path:null,pathLength:te,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Ze,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:te,pointsAtY:te,pointsAtZ:te,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:gn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:gn,rev:gn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:gn,requiredFeatures:gn,requiredFonts:gn,requiredFormats:gn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:te,specularExponent:te,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:te,strikethroughThickness:te,string:null,stroke:null,strokeDashArray:gn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:te,strokeOpacity:te,strokeWidth:null,style:null,surfaceScale:te,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:gn,tabIndex:te,tableValues:null,target:null,targetX:te,targetY:te,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:gn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:te,underlineThickness:te,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:te,values:null,vAlphabetic:te,vMathematical:te,vectorEffect:null,vHanging:te,vIdeographic:te,version:null,vertAdvY:te,vertOriginX:te,vertOriginY:te,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:te,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:DT}),jT=xa({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),MT=xa({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:NT}),LT=xa({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),YI={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},WI=/[A-Z]/g,LS=/-[a-z]/g,XI=/^data[-\w.:]+$/i;function JI(t,e){const n=rg(e);let r=e,a=sn;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&XI.test(e)){if(e.charAt(4)==="-"){const o=e.slice(5).replace(LS,ZI);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=e.slice(4);if(!LS.test(o)){let u=o.replace(WI,QI);u.charAt(0)!=="-"&&(u="-"+u),e="data"+u}}a=om}return new a(r,e)}function QI(t){return"-"+t.toLowerCase()}function ZI(t){return t.charAt(1).toUpperCase()}const eP=OT([RT,KI,jT,MT,LT],"html"),lm=OT([RT,GI,jT,MT,LT],"svg");function tP(t){return t.join(" ").trim()}var Zs={},Ff,IS;function nP(){if(IS)return Ff;IS=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,a=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,u=/^[;\s]*/,h=/^\s+|\s+$/g,f=`
`,d="/",g="*",y="",v="comment",b="declaration";function x(T,A){if(typeof T!="string")throw new TypeError("First argument must be a string");if(!T)return[];A=A||{};var R=1,C=1;function D(ae){var Q=ae.match(e);Q&&(R+=Q.length);var P=ae.lastIndexOf(f);C=~P?ae.length-P:C+ae.length}function $(){var ae={line:R,column:C};return function(Q){return Q.position=new M(ae),ee(),Q}}function M(ae){this.start=ae,this.end={line:R,column:C},this.source=A.source}M.prototype.content=T;function F(ae){var Q=new Error(A.source+":"+R+":"+C+": "+ae);if(Q.reason=ae,Q.filename=A.source,Q.line=R,Q.column=C,Q.source=T,!A.silent)throw Q}function Y(ae){var Q=ae.exec(T);if(Q){var P=Q[0];return D(P),T=T.slice(P.length),Q}}function ee(){Y(n)}function oe(ae){var Q;for(ae=ae||[];Q=ne();)Q!==!1&&ae.push(Q);return ae}function ne(){var ae=$();if(!(d!=T.charAt(0)||g!=T.charAt(1))){for(var Q=2;y!=T.charAt(Q)&&(g!=T.charAt(Q)||d!=T.charAt(Q+1));)++Q;if(Q+=2,y===T.charAt(Q-1))return F("End of comment missing");var P=T.slice(2,Q-2);return C+=2,D(P),T=T.slice(Q),C+=2,ae({type:v,comment:P})}}function ie(){var ae=$(),Q=Y(r);if(Q){if(ne(),!Y(a))return F("property missing ':'");var P=Y(o),K=ae({type:b,property:E(Q[0].replace(t,y)),value:P?E(P[0].replace(t,y)):y});return Y(u),K}}function he(){var ae=[];oe(ae);for(var Q;Q=ie();)Q!==!1&&(ae.push(Q),oe(ae));return ae}return ee(),he()}function E(T){return T?T.replace(h,y):y}return Ff=x,Ff}var PS;function iP(){if(PS)return Zs;PS=1;var t=Zs&&Zs.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Zs,"__esModule",{value:!0}),Zs.default=n;const e=t(nP());function n(r,a){let o=null;if(!r||typeof r!="string")return o;const u=(0,e.default)(r),h=typeof a=="function";return u.forEach(f=>{if(f.type!=="declaration")return;const{property:d,value:g}=f;h?a(d,g,f):g&&(o=o||{},o[d]=g)}),o}return Zs}var xo={},BS;function rP(){if(BS)return xo;BS=1,Object.defineProperty(xo,"__esModule",{value:!0}),xo.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,a=/^-(ms)-/,o=function(d){return!d||n.test(d)||t.test(d)},u=function(d,g){return g.toUpperCase()},h=function(d,g){return"".concat(g,"-")},f=function(d,g){return g===void 0&&(g={}),o(d)?d:(d=d.toLowerCase(),g.reactCompat?d=d.replace(a,h):d=d.replace(r,h),d.replace(e,u))};return xo.camelCase=f,xo}var _o,US;function sP(){if(US)return _o;US=1;var t=_o&&_o.__importDefault||function(a){return a&&a.__esModule?a:{default:a}},e=t(iP()),n=rP();function r(a,o){var u={};return!a||typeof a!="string"||(0,e.default)(a,function(h,f){h&&f&&(u[(0,n.camelCase)(h,o)]=f)}),u}return r.default=r,_o=r,_o}var aP=sP();const oP=b1(aP),IT=PT("end"),um=PT("start");function PT(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function lP(t){const e=um(t),n=IT(t);if(e&&n)return{start:e,end:n}}function zo(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?zS(t.position):"start"in t||"end"in t?zS(t):"line"in t||"column"in t?og(t):""}function og(t){return VS(t&&t.line)+":"+VS(t&&t.column)}function zS(t){return og(t&&t.start)+"-"+og(t&&t.end)}function VS(t){return t&&typeof t=="number"?t:1}class Bt extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let a="",o={},u=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof e=="string"?a=e:!o.cause&&e&&(u=!0,a=e.message,o.cause=e),!o.ruleId&&!o.source&&typeof r=="string"){const f=r.indexOf(":");f===-1?o.ruleId=r:(o.source=r.slice(0,f),o.ruleId=r.slice(f+1))}if(!o.place&&o.ancestors&&o.ancestors){const f=o.ancestors[o.ancestors.length-1];f&&(o.place=f.position)}const h=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=h?h.column:void 0,this.fatal=void 0,this.file="",this.message=a,this.line=h?h.line:void 0,this.name=zo(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=u&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Bt.prototype.file="";Bt.prototype.name="";Bt.prototype.reason="";Bt.prototype.message="";Bt.prototype.stack="";Bt.prototype.column=void 0;Bt.prototype.line=void 0;Bt.prototype.ancestors=void 0;Bt.prototype.cause=void 0;Bt.prototype.fatal=void 0;Bt.prototype.place=void 0;Bt.prototype.ruleId=void 0;Bt.prototype.source=void 0;const cm={}.hasOwnProperty,uP=new Map,cP=/[A-Z]/g,hP=new Set(["table","tbody","thead","tfoot","tr"]),dP=new Set(["td","th"]),BT="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function fP(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=SP(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=wP(n,e.jsx,e.jsxs)}const a={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?lm:eP,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},o=UT(a,t,void 0);return o&&typeof o!="string"?o:a.create(t,a.Fragment,{children:o||void 0},void 0)}function UT(t,e,n){if(e.type==="element")return pP(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return gP(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return yP(t,e,n);if(e.type==="mdxjsEsm")return mP(t,e);if(e.type==="root")return vP(t,e,n);if(e.type==="text")return bP(t,e)}function pP(t,e,n){const r=t.schema;let a=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(a=lm,t.schema=a),t.ancestors.push(e);const o=VT(t,e.tagName,!1),u=xP(t,e);let h=dm(t,e);return hP.has(e.tagName)&&(h=h.filter(function(f){return typeof f=="string"?!FI(f):!0})),zT(t,u,o,e),hm(u,h),t.ancestors.pop(),t.schema=r,t.create(e,o,u,n)}function gP(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}sl(t,e.position)}function mP(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);sl(t,e.position)}function yP(t,e,n){const r=t.schema;let a=r;e.name==="svg"&&r.space==="html"&&(a=lm,t.schema=a),t.ancestors.push(e);const o=e.name===null?t.Fragment:VT(t,e.name,!0),u=_P(t,e),h=dm(t,e);return zT(t,u,o,e),hm(u,h),t.ancestors.pop(),t.schema=r,t.create(e,o,u,n)}function vP(t,e,n){const r={};return hm(r,dm(t,e)),t.create(e,t.Fragment,r,n)}function bP(t,e){return e.value}function zT(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function hm(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function wP(t,e,n){return r;function r(a,o,u,h){const d=Array.isArray(u.children)?n:e;return h?d(o,u,h):d(o,u)}}function SP(t,e){return n;function n(r,a,o,u){const h=Array.isArray(o.children),f=um(r);return e(a,o,u,h,{columnNumber:f?f.column-1:void 0,fileName:t,lineNumber:f?f.line:void 0},void 0)}}function xP(t,e){const n={};let r,a;for(a in e.properties)if(a!=="children"&&cm.call(e.properties,a)){const o=TP(t,a,e.properties[a]);if(o){const[u,h]=o;t.tableCellAlignToStyle&&u==="align"&&typeof h=="string"&&dP.has(e.tagName)?r=h:n[u]=h}}if(r){const o=n.style||(n.style={});o[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function _P(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const o=r.data.estree.body[0];o.type;const u=o.expression;u.type;const h=u.properties[0];h.type,Object.assign(n,t.evaluater.evaluateExpression(h.argument))}else sl(t,e.position);else{const a=r.name;let o;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const h=r.value.data.estree.body[0];h.type,o=t.evaluater.evaluateExpression(h.expression)}else sl(t,e.position);else o=r.value===null?!0:r.value;n[a]=o}return n}function dm(t,e){const n=[];let r=-1;const a=t.passKeys?new Map:uP;for(;++r<e.children.length;){const o=e.children[r];let u;if(t.passKeys){const f=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(f){const d=a.get(f)||0;u=f+"-"+d,a.set(f,d+1)}}const h=UT(t,o,u);h!==void 0&&n.push(h)}return n}function TP(t,e,n){const r=JI(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?UI(n):tP(n)),r.property==="style"){let a=typeof n=="object"?n:EP(t,String(n));return t.stylePropertyNameCase==="css"&&(a=AP(a)),["style",a]}return[t.elementAttributeNameCase==="react"&&r.space?YI[r.property]||r.property:r.attribute,n]}}function EP(t,e){try{return oP(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,a=new Bt("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw a.file=t.filePath||void 0,a.url=BT+"#cannot-parse-style-attribute",a}}function VT(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const a=e.split(".");let o=-1,u;for(;++o<a.length;){const h=NS(a[o])?{type:"Identifier",name:a[o]}:{type:"Literal",value:a[o]};u=u?{type:"MemberExpression",object:u,property:h,computed:!!(o&&h.type==="Literal"),optional:!1}:h}r=u}else r=NS(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const a=r.value;return cm.call(t.components,a)?t.components[a]:a}if(t.evaluater)return t.evaluater.evaluateExpression(r);sl(t)}function sl(t,e){const n=new Bt("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=BT+"#cannot-handle-mdx-estrees-without-createevaluater",n}function AP(t){const e={};let n;for(n in t)cm.call(t,n)&&(e[kP(n)]=t[n]);return e}function kP(t){let e=t.replace(cP,CP);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function CP(t){return"-"+t.toLowerCase()}const qf={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},OP={};function RP(t,e){const n=OP,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,a=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return $T(t,r,a)}function $T(t,e,n){if(DP(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return $S(t.children,e,n)}return Array.isArray(t)?$S(t,e,n):""}function $S(t,e,n){const r=[];let a=-1;for(;++a<t.length;)r[a]=$T(t[a],e,n);return r.join("")}function DP(t){return!!(t&&typeof t=="object")}const HS=document.createElement("i");function fm(t){const e="&"+t+";";HS.innerHTML=e;const n=HS.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function ti(t,e,n,r){const a=t.length;let o=0,u;if(e<0?e=-e>a?0:a+e:e=e>a?a:e,n=n>0?n:0,r.length<1e4)u=Array.from(r),u.unshift(e,n),t.splice(...u);else for(n&&t.splice(e,n);o<r.length;)u=r.slice(o,o+1e4),u.unshift(e,0),t.splice(...u),o+=1e4,e+=1e4}function On(t,e){return t.length>0?(ti(t,t.length,0,e),t):e}const FS={}.hasOwnProperty;function NP(t){const e={};let n=-1;for(;++n<t.length;)jP(e,t[n]);return e}function jP(t,e){let n;for(n in e){const a=(FS.call(t,n)?t[n]:void 0)||(t[n]={}),o=e[n];let u;if(o)for(u in o){FS.call(a,u)||(a[u]=[]);const h=o[u];MP(a[u],Array.isArray(h)?h:h?[h]:[])}}}function MP(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);ti(t,0,0,r)}function HT(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function ma(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Jn=mr(/[A-Za-z]/),yn=mr(/[\dA-Za-z]/),LP=mr(/[#-'*+\--9=?A-Z^-~]/);function lg(t){return t!==null&&(t<32||t===127)}const ug=mr(/\d/),IP=mr(/[\dA-Fa-f]/),PP=mr(/[!-/:-@[-`{-~]/);function Se(t){return t!==null&&t<-2}function rn(t){return t!==null&&(t<0||t===32)}function $e(t){return t===-2||t===-1||t===32}const BP=mr(new RegExp("\\p{P}|\\p{S}","u")),UP=mr(/\s/);function mr(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function _a(t){const e=[];let n=-1,r=0,a=0;for(;++n<t.length;){const o=t.charCodeAt(n);let u="";if(o===37&&yn(t.charCodeAt(n+1))&&yn(t.charCodeAt(n+2)))a=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(u=String.fromCharCode(o));else if(o>55295&&o<57344){const h=t.charCodeAt(n+1);o<56320&&h>56319&&h<57344?(u=String.fromCharCode(o,h),a=1):u=""}else u=String.fromCharCode(o);u&&(e.push(t.slice(r,n),encodeURIComponent(u)),r=n+a+1,u=""),a&&(n+=a,a=0)}return e.join("")+t.slice(r)}function et(t,e,n,r){const a=r?r-1:Number.POSITIVE_INFINITY;let o=0;return u;function u(f){return $e(f)?(t.enter(n),h(f)):e(f)}function h(f){return $e(f)&&o++<a?(t.consume(f),h):(t.exit(n),e(f))}}const zP={tokenize:VP};function VP(t){const e=t.attempt(this.parser.constructs.contentInitial,r,a);let n;return e;function r(h){if(h===null){t.consume(h);return}return t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),et(t,e,"linePrefix")}function a(h){return t.enter("paragraph"),o(h)}function o(h){const f=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=f),n=f,u(h)}function u(h){if(h===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(h);return}return Se(h)?(t.consume(h),t.exit("chunkText"),o):(t.consume(h),u)}}const $P={tokenize:HP},qS={tokenize:FP};function HP(t){const e=this,n=[];let r=0,a,o,u;return h;function h(C){if(r<n.length){const D=n[r];return e.containerState=D[1],t.attempt(D[0].continuation,f,d)(C)}return d(C)}function f(C){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,a&&R();const D=e.events.length;let $=D,M;for(;$--;)if(e.events[$][0]==="exit"&&e.events[$][1].type==="chunkFlow"){M=e.events[$][1].end;break}A(r);let F=D;for(;F<e.events.length;)e.events[F][1].end={...M},F++;return ti(e.events,$+1,0,e.events.slice(D)),e.events.length=F,d(C)}return h(C)}function d(C){if(r===n.length){if(!a)return v(C);if(a.currentConstruct&&a.currentConstruct.concrete)return x(C);e.interrupt=!!(a.currentConstruct&&!a._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(qS,g,y)(C)}function g(C){return a&&R(),A(r),v(C)}function y(C){return e.parser.lazy[e.now().line]=r!==n.length,u=e.now().offset,x(C)}function v(C){return e.containerState={},t.attempt(qS,b,x)(C)}function b(C){return r++,n.push([e.currentConstruct,e.containerState]),v(C)}function x(C){if(C===null){a&&R(),A(0),t.consume(C);return}return a=a||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:a,contentType:"flow",previous:o}),E(C)}function E(C){if(C===null){T(t.exit("chunkFlow"),!0),A(0),t.consume(C);return}return Se(C)?(t.consume(C),T(t.exit("chunkFlow")),r=0,e.interrupt=void 0,h):(t.consume(C),E)}function T(C,D){const $=e.sliceStream(C);if(D&&$.push(null),C.previous=o,o&&(o.next=C),o=C,a.defineSkip(C.start),a.write($),e.parser.lazy[C.start.line]){let M=a.events.length;for(;M--;)if(a.events[M][1].start.offset<u&&(!a.events[M][1].end||a.events[M][1].end.offset>u))return;const F=e.events.length;let Y=F,ee,oe;for(;Y--;)if(e.events[Y][0]==="exit"&&e.events[Y][1].type==="chunkFlow"){if(ee){oe=e.events[Y][1].end;break}ee=!0}for(A(r),M=F;M<e.events.length;)e.events[M][1].end={...oe},M++;ti(e.events,Y+1,0,e.events.slice(F)),e.events.length=M}}function A(C){let D=n.length;for(;D-- >C;){const $=n[D];e.containerState=$[1],$[0].exit.call(e,t)}n.length=C}function R(){a.write([null]),o=void 0,a=void 0,e.containerState._closeFlow=void 0}}function FP(t,e,n){return et(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function KS(t){if(t===null||rn(t)||UP(t))return 1;if(BP(t))return 2}function pm(t,e,n){const r=[];let a=-1;for(;++a<t.length;){const o=t[a].resolveAll;o&&!r.includes(o)&&(e=o(e,n),r.push(o))}return e}const cg={name:"attention",resolveAll:qP,tokenize:KP};function qP(t,e){let n=-1,r,a,o,u,h,f,d,g;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;f=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const y={...t[r][1].end},v={...t[n][1].start};GS(y,-f),GS(v,f),u={type:f>1?"strongSequence":"emphasisSequence",start:y,end:{...t[r][1].end}},h={type:f>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:v},o={type:f>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},a={type:f>1?"strong":"emphasis",start:{...u.start},end:{...h.end}},t[r][1].end={...u.start},t[n][1].start={...h.end},d=[],t[r][1].end.offset-t[r][1].start.offset&&(d=On(d,[["enter",t[r][1],e],["exit",t[r][1],e]])),d=On(d,[["enter",a,e],["enter",u,e],["exit",u,e],["enter",o,e]]),d=On(d,pm(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),d=On(d,[["exit",o,e],["enter",h,e],["exit",h,e],["exit",a,e]]),t[n][1].end.offset-t[n][1].start.offset?(g=2,d=On(d,[["enter",t[n][1],e],["exit",t[n][1],e]])):g=0,ti(t,r-1,n-r+3,d),n=r+d.length-g-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function KP(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,a=KS(r);let o;return u;function u(f){return o=f,t.enter("attentionSequence"),h(f)}function h(f){if(f===o)return t.consume(f),h;const d=t.exit("attentionSequence"),g=KS(f),y=!g||g===2&&a||n.includes(f),v=!a||a===2&&g||n.includes(r);return d._open=!!(o===42?y:y&&(a||!v)),d._close=!!(o===42?v:v&&(g||!y)),e(f)}}function GS(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const GP={name:"autolink",tokenize:YP};function YP(t,e,n){let r=0;return a;function a(b){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(b),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),o}function o(b){return Jn(b)?(t.consume(b),u):b===64?n(b):d(b)}function u(b){return b===43||b===45||b===46||yn(b)?(r=1,h(b)):d(b)}function h(b){return b===58?(t.consume(b),r=0,f):(b===43||b===45||b===46||yn(b))&&r++<32?(t.consume(b),h):(r=0,d(b))}function f(b){return b===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(b),t.exit("autolinkMarker"),t.exit("autolink"),e):b===null||b===32||b===60||lg(b)?n(b):(t.consume(b),f)}function d(b){return b===64?(t.consume(b),g):LP(b)?(t.consume(b),d):n(b)}function g(b){return yn(b)?y(b):n(b)}function y(b){return b===46?(t.consume(b),r=0,g):b===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(b),t.exit("autolinkMarker"),t.exit("autolink"),e):v(b)}function v(b){if((b===45||yn(b))&&r++<63){const x=b===45?v:y;return t.consume(b),x}return n(b)}}const Bc={partial:!0,tokenize:WP};function WP(t,e,n){return r;function r(o){return $e(o)?et(t,a,"linePrefix")(o):a(o)}function a(o){return o===null||Se(o)?e(o):n(o)}}const FT={continuation:{tokenize:JP},exit:QP,name:"blockQuote",tokenize:XP};function XP(t,e,n){const r=this;return a;function a(u){if(u===62){const h=r.containerState;return h.open||(t.enter("blockQuote",{_container:!0}),h.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(u),t.exit("blockQuoteMarker"),o}return n(u)}function o(u){return $e(u)?(t.enter("blockQuotePrefixWhitespace"),t.consume(u),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(u))}}function JP(t,e,n){const r=this;return a;function a(u){return $e(u)?et(t,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u):o(u)}function o(u){return t.attempt(FT,e,n)(u)}}function QP(t){t.exit("blockQuote")}const qT={name:"characterEscape",tokenize:ZP};function ZP(t,e,n){return r;function r(o){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(o),t.exit("escapeMarker"),a}function a(o){return PP(o)?(t.enter("characterEscapeValue"),t.consume(o),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(o)}}const KT={name:"characterReference",tokenize:e3};function e3(t,e,n){const r=this;let a=0,o,u;return h;function h(y){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(y),t.exit("characterReferenceMarker"),f}function f(y){return y===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(y),t.exit("characterReferenceMarkerNumeric"),d):(t.enter("characterReferenceValue"),o=31,u=yn,g(y))}function d(y){return y===88||y===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(y),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),o=6,u=IP,g):(t.enter("characterReferenceValue"),o=7,u=ug,g(y))}function g(y){if(y===59&&a){const v=t.exit("characterReferenceValue");return u===yn&&!fm(r.sliceSerialize(v))?n(y):(t.enter("characterReferenceMarker"),t.consume(y),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return u(y)&&a++<o?(t.consume(y),g):n(y)}}const YS={partial:!0,tokenize:n3},WS={concrete:!0,name:"codeFenced",tokenize:t3};function t3(t,e,n){const r=this,a={partial:!0,tokenize:$};let o=0,u=0,h;return f;function f(M){return d(M)}function d(M){const F=r.events[r.events.length-1];return o=F&&F[1].type==="linePrefix"?F[2].sliceSerialize(F[1],!0).length:0,h=M,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),g(M)}function g(M){return M===h?(u++,t.consume(M),g):u<3?n(M):(t.exit("codeFencedFenceSequence"),$e(M)?et(t,y,"whitespace")(M):y(M))}function y(M){return M===null||Se(M)?(t.exit("codeFencedFence"),r.interrupt?e(M):t.check(YS,E,D)(M)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),v(M))}function v(M){return M===null||Se(M)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),y(M)):$e(M)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),et(t,b,"whitespace")(M)):M===96&&M===h?n(M):(t.consume(M),v)}function b(M){return M===null||Se(M)?y(M):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),x(M))}function x(M){return M===null||Se(M)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),y(M)):M===96&&M===h?n(M):(t.consume(M),x)}function E(M){return t.attempt(a,D,T)(M)}function T(M){return t.enter("lineEnding"),t.consume(M),t.exit("lineEnding"),A}function A(M){return o>0&&$e(M)?et(t,R,"linePrefix",o+1)(M):R(M)}function R(M){return M===null||Se(M)?t.check(YS,E,D)(M):(t.enter("codeFlowValue"),C(M))}function C(M){return M===null||Se(M)?(t.exit("codeFlowValue"),R(M)):(t.consume(M),C)}function D(M){return t.exit("codeFenced"),e(M)}function $(M,F,Y){let ee=0;return oe;function oe(Q){return M.enter("lineEnding"),M.consume(Q),M.exit("lineEnding"),ne}function ne(Q){return M.enter("codeFencedFence"),$e(Q)?et(M,ie,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Q):ie(Q)}function ie(Q){return Q===h?(M.enter("codeFencedFenceSequence"),he(Q)):Y(Q)}function he(Q){return Q===h?(ee++,M.consume(Q),he):ee>=u?(M.exit("codeFencedFenceSequence"),$e(Q)?et(M,ae,"whitespace")(Q):ae(Q)):Y(Q)}function ae(Q){return Q===null||Se(Q)?(M.exit("codeFencedFence"),F(Q)):Y(Q)}}}function n3(t,e,n){const r=this;return a;function a(u){return u===null?n(u):(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),o)}function o(u){return r.parser.lazy[r.now().line]?n(u):e(u)}}const Kf={name:"codeIndented",tokenize:r3},i3={partial:!0,tokenize:s3};function r3(t,e,n){const r=this;return a;function a(d){return t.enter("codeIndented"),et(t,o,"linePrefix",5)(d)}function o(d){const g=r.events[r.events.length-1];return g&&g[1].type==="linePrefix"&&g[2].sliceSerialize(g[1],!0).length>=4?u(d):n(d)}function u(d){return d===null?f(d):Se(d)?t.attempt(i3,u,f)(d):(t.enter("codeFlowValue"),h(d))}function h(d){return d===null||Se(d)?(t.exit("codeFlowValue"),u(d)):(t.consume(d),h)}function f(d){return t.exit("codeIndented"),e(d)}}function s3(t,e,n){const r=this;return a;function a(u){return r.parser.lazy[r.now().line]?n(u):Se(u)?(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),a):et(t,o,"linePrefix",5)(u)}function o(u){const h=r.events[r.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?e(u):Se(u)?a(u):n(u)}}const a3={name:"codeText",previous:l3,resolve:o3,tokenize:u3};function o3(t){let e=t.length-4,n=3,r,a;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)a===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(a=r):(r===e||t[r][1].type==="lineEnding")&&(t[a][1].type="codeTextData",r!==a+2&&(t[a][1].end=t[r-1][1].end,t.splice(a+2,r-a-2),e-=r-a-2,r=a+2),a=void 0);return t}function l3(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function u3(t,e,n){let r=0,a,o;return u;function u(y){return t.enter("codeText"),t.enter("codeTextSequence"),h(y)}function h(y){return y===96?(t.consume(y),r++,h):(t.exit("codeTextSequence"),f(y))}function f(y){return y===null?n(y):y===32?(t.enter("space"),t.consume(y),t.exit("space"),f):y===96?(o=t.enter("codeTextSequence"),a=0,g(y)):Se(y)?(t.enter("lineEnding"),t.consume(y),t.exit("lineEnding"),f):(t.enter("codeTextData"),d(y))}function d(y){return y===null||y===32||y===96||Se(y)?(t.exit("codeTextData"),f(y)):(t.consume(y),d)}function g(y){return y===96?(t.consume(y),a++,g):a===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(y)):(o.type="codeTextData",d(y))}}class c3{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const a=n||0;this.setCursor(Math.trunc(e));const o=this.right.splice(this.right.length-a,Number.POSITIVE_INFINITY);return r&&To(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),To(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),To(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);To(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);To(this.left,n.reverse())}}}function To(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function GT(t){const e={};let n=-1,r,a,o,u,h,f,d;const g=new c3(t);for(;++n<g.length;){for(;n in e;)n=e[n];if(r=g.get(n),n&&r[1].type==="chunkFlow"&&g.get(n-1)[1].type==="listItemPrefix"&&(f=r[1]._tokenizer.events,o=0,o<f.length&&f[o][1].type==="lineEndingBlank"&&(o+=2),o<f.length&&f[o][1].type==="content"))for(;++o<f.length&&f[o][1].type!=="content";)f[o][1].type==="chunkText"&&(f[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,h3(g,n)),n=e[n],d=!0);else if(r[1]._container){for(o=n,a=void 0;o--;)if(u=g.get(o),u[1].type==="lineEnding"||u[1].type==="lineEndingBlank")u[0]==="enter"&&(a&&(g.get(a)[1].type="lineEndingBlank"),u[1].type="lineEnding",a=o);else if(!(u[1].type==="linePrefix"||u[1].type==="listItemIndent"))break;a&&(r[1].end={...g.get(a)[1].start},h=g.slice(a,n),h.unshift(r),g.splice(a,n-a+1,h))}}return ti(t,0,Number.POSITIVE_INFINITY,g.slice(0)),!d}function h3(t,e){const n=t.get(e)[1],r=t.get(e)[2];let a=e-1;const o=[];let u=n._tokenizer;u||(u=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(u._contentTypeTextTrailing=!0));const h=u.events,f=[],d={};let g,y,v=-1,b=n,x=0,E=0;const T=[E];for(;b;){for(;t.get(++a)[1]!==b;);o.push(a),b._tokenizer||(g=r.sliceStream(b),b.next||g.push(null),y&&u.defineSkip(b.start),b._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=!0),u.write(g),b._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=void 0)),y=b,b=b.next}for(b=n;++v<h.length;)h[v][0]==="exit"&&h[v-1][0]==="enter"&&h[v][1].type===h[v-1][1].type&&h[v][1].start.line!==h[v][1].end.line&&(E=v+1,T.push(E),b._tokenizer=void 0,b.previous=void 0,b=b.next);for(u.events=[],b?(b._tokenizer=void 0,b.previous=void 0):T.pop(),v=T.length;v--;){const A=h.slice(T[v],T[v+1]),R=o.pop();f.push([R,R+A.length-1]),t.splice(R,2,A)}for(f.reverse(),v=-1;++v<f.length;)d[x+f[v][0]]=x+f[v][1],x+=f[v][1]-f[v][0]-1;return d}const d3={resolve:p3,tokenize:g3},f3={partial:!0,tokenize:m3};function p3(t){return GT(t),t}function g3(t,e){let n;return r;function r(h){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),a(h)}function a(h){return h===null?o(h):Se(h)?t.check(f3,u,o)(h):(t.consume(h),a)}function o(h){return t.exit("chunkContent"),t.exit("content"),e(h)}function u(h){return t.consume(h),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,a}}function m3(t,e,n){const r=this;return a;function a(u){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),et(t,o,"linePrefix")}function o(u){if(u===null||Se(u))return n(u);const h=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?e(u):t.interrupt(r.parser.constructs.flow,n,e)(u)}}function YT(t,e,n,r,a,o,u,h,f){const d=f||Number.POSITIVE_INFINITY;let g=0;return y;function y(A){return A===60?(t.enter(r),t.enter(a),t.enter(o),t.consume(A),t.exit(o),v):A===null||A===32||A===41||lg(A)?n(A):(t.enter(r),t.enter(u),t.enter(h),t.enter("chunkString",{contentType:"string"}),E(A))}function v(A){return A===62?(t.enter(o),t.consume(A),t.exit(o),t.exit(a),t.exit(r),e):(t.enter(h),t.enter("chunkString",{contentType:"string"}),b(A))}function b(A){return A===62?(t.exit("chunkString"),t.exit(h),v(A)):A===null||A===60||Se(A)?n(A):(t.consume(A),A===92?x:b)}function x(A){return A===60||A===62||A===92?(t.consume(A),b):b(A)}function E(A){return!g&&(A===null||A===41||rn(A))?(t.exit("chunkString"),t.exit(h),t.exit(u),t.exit(r),e(A)):g<d&&A===40?(t.consume(A),g++,E):A===41?(t.consume(A),g--,E):A===null||A===32||A===40||lg(A)?n(A):(t.consume(A),A===92?T:E)}function T(A){return A===40||A===41||A===92?(t.consume(A),E):E(A)}}function WT(t,e,n,r,a,o){const u=this;let h=0,f;return d;function d(b){return t.enter(r),t.enter(a),t.consume(b),t.exit(a),t.enter(o),g}function g(b){return h>999||b===null||b===91||b===93&&!f||b===94&&!h&&"_hiddenFootnoteSupport"in u.parser.constructs?n(b):b===93?(t.exit(o),t.enter(a),t.consume(b),t.exit(a),t.exit(r),e):Se(b)?(t.enter("lineEnding"),t.consume(b),t.exit("lineEnding"),g):(t.enter("chunkString",{contentType:"string"}),y(b))}function y(b){return b===null||b===91||b===93||Se(b)||h++>999?(t.exit("chunkString"),g(b)):(t.consume(b),f||(f=!$e(b)),b===92?v:y)}function v(b){return b===91||b===92||b===93?(t.consume(b),h++,y):y(b)}}function XT(t,e,n,r,a,o){let u;return h;function h(v){return v===34||v===39||v===40?(t.enter(r),t.enter(a),t.consume(v),t.exit(a),u=v===40?41:v,f):n(v)}function f(v){return v===u?(t.enter(a),t.consume(v),t.exit(a),t.exit(r),e):(t.enter(o),d(v))}function d(v){return v===u?(t.exit(o),f(u)):v===null?n(v):Se(v)?(t.enter("lineEnding"),t.consume(v),t.exit("lineEnding"),et(t,d,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),g(v))}function g(v){return v===u||v===null||Se(v)?(t.exit("chunkString"),d(v)):(t.consume(v),v===92?y:g)}function y(v){return v===u||v===92?(t.consume(v),g):g(v)}}function Vo(t,e){let n;return r;function r(a){return Se(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),n=!0,r):$e(a)?et(t,r,n?"linePrefix":"lineSuffix")(a):e(a)}}const y3={name:"definition",tokenize:b3},v3={partial:!0,tokenize:w3};function b3(t,e,n){const r=this;let a;return o;function o(b){return t.enter("definition"),u(b)}function u(b){return WT.call(r,t,h,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(b)}function h(b){return a=ma(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),b===58?(t.enter("definitionMarker"),t.consume(b),t.exit("definitionMarker"),f):n(b)}function f(b){return rn(b)?Vo(t,d)(b):d(b)}function d(b){return YT(t,g,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(b)}function g(b){return t.attempt(v3,y,y)(b)}function y(b){return $e(b)?et(t,v,"whitespace")(b):v(b)}function v(b){return b===null||Se(b)?(t.exit("definition"),r.parser.defined.push(a),e(b)):n(b)}}function w3(t,e,n){return r;function r(h){return rn(h)?Vo(t,a)(h):n(h)}function a(h){return XT(t,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(h)}function o(h){return $e(h)?et(t,u,"whitespace")(h):u(h)}function u(h){return h===null||Se(h)?e(h):n(h)}}const S3={name:"hardBreakEscape",tokenize:x3};function x3(t,e,n){return r;function r(o){return t.enter("hardBreakEscape"),t.consume(o),a}function a(o){return Se(o)?(t.exit("hardBreakEscape"),e(o)):n(o)}}const _3={name:"headingAtx",resolve:T3,tokenize:E3};function T3(t,e){let n=t.length-2,r=3,a,o;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(a={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},o={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},ti(t,r,n-r+1,[["enter",a,e],["enter",o,e],["exit",o,e],["exit",a,e]])),t}function E3(t,e,n){let r=0;return a;function a(g){return t.enter("atxHeading"),o(g)}function o(g){return t.enter("atxHeadingSequence"),u(g)}function u(g){return g===35&&r++<6?(t.consume(g),u):g===null||rn(g)?(t.exit("atxHeadingSequence"),h(g)):n(g)}function h(g){return g===35?(t.enter("atxHeadingSequence"),f(g)):g===null||Se(g)?(t.exit("atxHeading"),e(g)):$e(g)?et(t,h,"whitespace")(g):(t.enter("atxHeadingText"),d(g))}function f(g){return g===35?(t.consume(g),f):(t.exit("atxHeadingSequence"),h(g))}function d(g){return g===null||g===35||rn(g)?(t.exit("atxHeadingText"),h(g)):(t.consume(g),d)}}const A3=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],XS=["pre","script","style","textarea"],k3={concrete:!0,name:"htmlFlow",resolveTo:R3,tokenize:D3},C3={partial:!0,tokenize:j3},O3={partial:!0,tokenize:N3};function R3(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function D3(t,e,n){const r=this;let a,o,u,h,f;return d;function d(k){return g(k)}function g(k){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(k),y}function y(k){return k===33?(t.consume(k),v):k===47?(t.consume(k),o=!0,E):k===63?(t.consume(k),a=3,r.interrupt?e:O):Jn(k)?(t.consume(k),u=String.fromCharCode(k),T):n(k)}function v(k){return k===45?(t.consume(k),a=2,b):k===91?(t.consume(k),a=5,h=0,x):Jn(k)?(t.consume(k),a=4,r.interrupt?e:O):n(k)}function b(k){return k===45?(t.consume(k),r.interrupt?e:O):n(k)}function x(k){const Z="CDATA[";return k===Z.charCodeAt(h++)?(t.consume(k),h===Z.length?r.interrupt?e:ie:x):n(k)}function E(k){return Jn(k)?(t.consume(k),u=String.fromCharCode(k),T):n(k)}function T(k){if(k===null||k===47||k===62||rn(k)){const Z=k===47,de=u.toLowerCase();return!Z&&!o&&XS.includes(de)?(a=1,r.interrupt?e(k):ie(k)):A3.includes(u.toLowerCase())?(a=6,Z?(t.consume(k),A):r.interrupt?e(k):ie(k)):(a=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(k):o?R(k):C(k))}return k===45||yn(k)?(t.consume(k),u+=String.fromCharCode(k),T):n(k)}function A(k){return k===62?(t.consume(k),r.interrupt?e:ie):n(k)}function R(k){return $e(k)?(t.consume(k),R):oe(k)}function C(k){return k===47?(t.consume(k),oe):k===58||k===95||Jn(k)?(t.consume(k),D):$e(k)?(t.consume(k),C):oe(k)}function D(k){return k===45||k===46||k===58||k===95||yn(k)?(t.consume(k),D):$(k)}function $(k){return k===61?(t.consume(k),M):$e(k)?(t.consume(k),$):C(k)}function M(k){return k===null||k===60||k===61||k===62||k===96?n(k):k===34||k===39?(t.consume(k),f=k,F):$e(k)?(t.consume(k),M):Y(k)}function F(k){return k===f?(t.consume(k),f=null,ee):k===null||Se(k)?n(k):(t.consume(k),F)}function Y(k){return k===null||k===34||k===39||k===47||k===60||k===61||k===62||k===96||rn(k)?$(k):(t.consume(k),Y)}function ee(k){return k===47||k===62||$e(k)?C(k):n(k)}function oe(k){return k===62?(t.consume(k),ne):n(k)}function ne(k){return k===null||Se(k)?ie(k):$e(k)?(t.consume(k),ne):n(k)}function ie(k){return k===45&&a===2?(t.consume(k),P):k===60&&a===1?(t.consume(k),K):k===62&&a===4?(t.consume(k),j):k===63&&a===3?(t.consume(k),O):k===93&&a===5?(t.consume(k),ge):Se(k)&&(a===6||a===7)?(t.exit("htmlFlowData"),t.check(C3,q,he)(k)):k===null||Se(k)?(t.exit("htmlFlowData"),he(k)):(t.consume(k),ie)}function he(k){return t.check(O3,ae,q)(k)}function ae(k){return t.enter("lineEnding"),t.consume(k),t.exit("lineEnding"),Q}function Q(k){return k===null||Se(k)?he(k):(t.enter("htmlFlowData"),ie(k))}function P(k){return k===45?(t.consume(k),O):ie(k)}function K(k){return k===47?(t.consume(k),u="",re):ie(k)}function re(k){if(k===62){const Z=u.toLowerCase();return XS.includes(Z)?(t.consume(k),j):ie(k)}return Jn(k)&&u.length<8?(t.consume(k),u+=String.fromCharCode(k),re):ie(k)}function ge(k){return k===93?(t.consume(k),O):ie(k)}function O(k){return k===62?(t.consume(k),j):k===45&&a===2?(t.consume(k),O):ie(k)}function j(k){return k===null||Se(k)?(t.exit("htmlFlowData"),q(k)):(t.consume(k),j)}function q(k){return t.exit("htmlFlow"),e(k)}}function N3(t,e,n){const r=this;return a;function a(u){return Se(u)?(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),o):n(u)}function o(u){return r.parser.lazy[r.now().line]?n(u):e(u)}}function j3(t,e,n){return r;function r(a){return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),t.attempt(Bc,e,n)}}const M3={name:"htmlText",tokenize:L3};function L3(t,e,n){const r=this;let a,o,u;return h;function h(O){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(O),f}function f(O){return O===33?(t.consume(O),d):O===47?(t.consume(O),$):O===63?(t.consume(O),C):Jn(O)?(t.consume(O),Y):n(O)}function d(O){return O===45?(t.consume(O),g):O===91?(t.consume(O),o=0,x):Jn(O)?(t.consume(O),R):n(O)}function g(O){return O===45?(t.consume(O),b):n(O)}function y(O){return O===null?n(O):O===45?(t.consume(O),v):Se(O)?(u=y,K(O)):(t.consume(O),y)}function v(O){return O===45?(t.consume(O),b):y(O)}function b(O){return O===62?P(O):O===45?v(O):y(O)}function x(O){const j="CDATA[";return O===j.charCodeAt(o++)?(t.consume(O),o===j.length?E:x):n(O)}function E(O){return O===null?n(O):O===93?(t.consume(O),T):Se(O)?(u=E,K(O)):(t.consume(O),E)}function T(O){return O===93?(t.consume(O),A):E(O)}function A(O){return O===62?P(O):O===93?(t.consume(O),A):E(O)}function R(O){return O===null||O===62?P(O):Se(O)?(u=R,K(O)):(t.consume(O),R)}function C(O){return O===null?n(O):O===63?(t.consume(O),D):Se(O)?(u=C,K(O)):(t.consume(O),C)}function D(O){return O===62?P(O):C(O)}function $(O){return Jn(O)?(t.consume(O),M):n(O)}function M(O){return O===45||yn(O)?(t.consume(O),M):F(O)}function F(O){return Se(O)?(u=F,K(O)):$e(O)?(t.consume(O),F):P(O)}function Y(O){return O===45||yn(O)?(t.consume(O),Y):O===47||O===62||rn(O)?ee(O):n(O)}function ee(O){return O===47?(t.consume(O),P):O===58||O===95||Jn(O)?(t.consume(O),oe):Se(O)?(u=ee,K(O)):$e(O)?(t.consume(O),ee):P(O)}function oe(O){return O===45||O===46||O===58||O===95||yn(O)?(t.consume(O),oe):ne(O)}function ne(O){return O===61?(t.consume(O),ie):Se(O)?(u=ne,K(O)):$e(O)?(t.consume(O),ne):ee(O)}function ie(O){return O===null||O===60||O===61||O===62||O===96?n(O):O===34||O===39?(t.consume(O),a=O,he):Se(O)?(u=ie,K(O)):$e(O)?(t.consume(O),ie):(t.consume(O),ae)}function he(O){return O===a?(t.consume(O),a=void 0,Q):O===null?n(O):Se(O)?(u=he,K(O)):(t.consume(O),he)}function ae(O){return O===null||O===34||O===39||O===60||O===61||O===96?n(O):O===47||O===62||rn(O)?ee(O):(t.consume(O),ae)}function Q(O){return O===47||O===62||rn(O)?ee(O):n(O)}function P(O){return O===62?(t.consume(O),t.exit("htmlTextData"),t.exit("htmlText"),e):n(O)}function K(O){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(O),t.exit("lineEnding"),re}function re(O){return $e(O)?et(t,ge,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(O):ge(O)}function ge(O){return t.enter("htmlTextData"),u(O)}}const gm={name:"labelEnd",resolveAll:U3,resolveTo:z3,tokenize:V3},I3={tokenize:$3},P3={tokenize:H3},B3={tokenize:F3};function U3(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const a=r.type==="labelImage"?4:2;r.type="data",e+=a}}return t.length!==n.length&&ti(t,0,t.length,n),t}function z3(t,e){let n=t.length,r=0,a,o,u,h;for(;n--;)if(a=t[n][1],o){if(a.type==="link"||a.type==="labelLink"&&a._inactive)break;t[n][0]==="enter"&&a.type==="labelLink"&&(a._inactive=!0)}else if(u){if(t[n][0]==="enter"&&(a.type==="labelImage"||a.type==="labelLink")&&!a._balanced&&(o=n,a.type!=="labelLink")){r=2;break}}else a.type==="labelEnd"&&(u=n);const f={type:t[o][1].type==="labelLink"?"link":"image",start:{...t[o][1].start},end:{...t[t.length-1][1].end}},d={type:"label",start:{...t[o][1].start},end:{...t[u][1].end}},g={type:"labelText",start:{...t[o+r+2][1].end},end:{...t[u-2][1].start}};return h=[["enter",f,e],["enter",d,e]],h=On(h,t.slice(o+1,o+r+3)),h=On(h,[["enter",g,e]]),h=On(h,pm(e.parser.constructs.insideSpan.null,t.slice(o+r+4,u-3),e)),h=On(h,[["exit",g,e],t[u-2],t[u-1],["exit",d,e]]),h=On(h,t.slice(u+1)),h=On(h,[["exit",f,e]]),ti(t,o,t.length,h),t}function V3(t,e,n){const r=this;let a=r.events.length,o,u;for(;a--;)if((r.events[a][1].type==="labelImage"||r.events[a][1].type==="labelLink")&&!r.events[a][1]._balanced){o=r.events[a][1];break}return h;function h(v){return o?o._inactive?y(v):(u=r.parser.defined.includes(ma(r.sliceSerialize({start:o.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(v),t.exit("labelMarker"),t.exit("labelEnd"),f):n(v)}function f(v){return v===40?t.attempt(I3,g,u?g:y)(v):v===91?t.attempt(P3,g,u?d:y)(v):u?g(v):y(v)}function d(v){return t.attempt(B3,g,y)(v)}function g(v){return e(v)}function y(v){return o._balanced=!0,n(v)}}function $3(t,e,n){return r;function r(y){return t.enter("resource"),t.enter("resourceMarker"),t.consume(y),t.exit("resourceMarker"),a}function a(y){return rn(y)?Vo(t,o)(y):o(y)}function o(y){return y===41?g(y):YT(t,u,h,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(y)}function u(y){return rn(y)?Vo(t,f)(y):g(y)}function h(y){return n(y)}function f(y){return y===34||y===39||y===40?XT(t,d,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(y):g(y)}function d(y){return rn(y)?Vo(t,g)(y):g(y)}function g(y){return y===41?(t.enter("resourceMarker"),t.consume(y),t.exit("resourceMarker"),t.exit("resource"),e):n(y)}}function H3(t,e,n){const r=this;return a;function a(h){return WT.call(r,t,o,u,"reference","referenceMarker","referenceString")(h)}function o(h){return r.parser.defined.includes(ma(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(h):n(h)}function u(h){return n(h)}}function F3(t,e,n){return r;function r(o){return t.enter("reference"),t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),a}function a(o){return o===93?(t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),t.exit("reference"),e):n(o)}}const q3={name:"labelStartImage",resolveAll:gm.resolveAll,tokenize:K3};function K3(t,e,n){const r=this;return a;function a(h){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(h),t.exit("labelImageMarker"),o}function o(h){return h===91?(t.enter("labelMarker"),t.consume(h),t.exit("labelMarker"),t.exit("labelImage"),u):n(h)}function u(h){return h===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(h):e(h)}}const G3={name:"labelStartLink",resolveAll:gm.resolveAll,tokenize:Y3};function Y3(t,e,n){const r=this;return a;function a(u){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(u),t.exit("labelMarker"),t.exit("labelLink"),o}function o(u){return u===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(u):e(u)}}const Gf={name:"lineEnding",tokenize:W3};function W3(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),et(t,e,"linePrefix")}}const ac={name:"thematicBreak",tokenize:X3};function X3(t,e,n){let r=0,a;return o;function o(d){return t.enter("thematicBreak"),u(d)}function u(d){return a=d,h(d)}function h(d){return d===a?(t.enter("thematicBreakSequence"),f(d)):r>=3&&(d===null||Se(d))?(t.exit("thematicBreak"),e(d)):n(d)}function f(d){return d===a?(t.consume(d),r++,f):(t.exit("thematicBreakSequence"),$e(d)?et(t,h,"whitespace")(d):h(d))}}const nn={continuation:{tokenize:eB},exit:nB,name:"list",tokenize:Z3},J3={partial:!0,tokenize:iB},Q3={partial:!0,tokenize:tB};function Z3(t,e,n){const r=this,a=r.events[r.events.length-1];let o=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0,u=0;return h;function h(b){const x=r.containerState.type||(b===42||b===43||b===45?"listUnordered":"listOrdered");if(x==="listUnordered"?!r.containerState.marker||b===r.containerState.marker:ug(b)){if(r.containerState.type||(r.containerState.type=x,t.enter(x,{_container:!0})),x==="listUnordered")return t.enter("listItemPrefix"),b===42||b===45?t.check(ac,n,d)(b):d(b);if(!r.interrupt||b===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),f(b)}return n(b)}function f(b){return ug(b)&&++u<10?(t.consume(b),f):(!r.interrupt||u<2)&&(r.containerState.marker?b===r.containerState.marker:b===41||b===46)?(t.exit("listItemValue"),d(b)):n(b)}function d(b){return t.enter("listItemMarker"),t.consume(b),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||b,t.check(Bc,r.interrupt?n:g,t.attempt(J3,v,y))}function g(b){return r.containerState.initialBlankLine=!0,o++,v(b)}function y(b){return $e(b)?(t.enter("listItemPrefixWhitespace"),t.consume(b),t.exit("listItemPrefixWhitespace"),v):n(b)}function v(b){return r.containerState.size=o+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(b)}}function eB(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(Bc,a,o);function a(h){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,et(t,e,"listItemIndent",r.containerState.size+1)(h)}function o(h){return r.containerState.furtherBlankLines||!$e(h)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,u(h)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(Q3,e,u)(h))}function u(h){return r.containerState._closeFlow=!0,r.interrupt=void 0,et(t,t.attempt(nn,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(h)}}function tB(t,e,n){const r=this;return et(t,a,"listItemIndent",r.containerState.size+1);function a(o){const u=r.events[r.events.length-1];return u&&u[1].type==="listItemIndent"&&u[2].sliceSerialize(u[1],!0).length===r.containerState.size?e(o):n(o)}}function nB(t){t.exit(this.containerState.type)}function iB(t,e,n){const r=this;return et(t,a,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function a(o){const u=r.events[r.events.length-1];return!$e(o)&&u&&u[1].type==="listItemPrefixWhitespace"?e(o):n(o)}}const JS={name:"setextUnderline",resolveTo:rB,tokenize:sB};function rB(t,e){let n=t.length,r,a,o;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(a=n)}else t[n][1].type==="content"&&t.splice(n,1),!o&&t[n][1].type==="definition"&&(o=n);const u={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[a][1].type="setextHeadingText",o?(t.splice(a,0,["enter",u,e]),t.splice(o+1,0,["exit",t[r][1],e]),t[r][1].end={...t[o][1].end}):t[r][1]=u,t.push(["exit",u,e]),t}function sB(t,e,n){const r=this;let a;return o;function o(d){let g=r.events.length,y;for(;g--;)if(r.events[g][1].type!=="lineEnding"&&r.events[g][1].type!=="linePrefix"&&r.events[g][1].type!=="content"){y=r.events[g][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||y)?(t.enter("setextHeadingLine"),a=d,u(d)):n(d)}function u(d){return t.enter("setextHeadingLineSequence"),h(d)}function h(d){return d===a?(t.consume(d),h):(t.exit("setextHeadingLineSequence"),$e(d)?et(t,f,"lineSuffix")(d):f(d))}function f(d){return d===null||Se(d)?(t.exit("setextHeadingLine"),e(d)):n(d)}}const aB={tokenize:oB};function oB(t){const e=this,n=t.attempt(Bc,r,t.attempt(this.parser.constructs.flowInitial,a,et(t,t.attempt(this.parser.constructs.flow,a,t.attempt(d3,a)),"linePrefix")));return n;function r(o){if(o===null){t.consume(o);return}return t.enter("lineEndingBlank"),t.consume(o),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function a(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const lB={resolveAll:QT()},uB=JT("string"),cB=JT("text");function JT(t){return{resolveAll:QT(t==="text"?hB:void 0),tokenize:e};function e(n){const r=this,a=this.parser.constructs[t],o=n.attempt(a,u,h);return u;function u(g){return d(g)?o(g):h(g)}function h(g){if(g===null){n.consume(g);return}return n.enter("data"),n.consume(g),f}function f(g){return d(g)?(n.exit("data"),o(g)):(n.consume(g),f)}function d(g){if(g===null)return!0;const y=a[g];let v=-1;if(y)for(;++v<y.length;){const b=y[v];if(!b.previous||b.previous.call(r,r.previous))return!0}return!1}}}function QT(t){return e;function e(n,r){let a=-1,o;for(;++a<=n.length;)o===void 0?n[a]&&n[a][1].type==="data"&&(o=a,a++):(!n[a]||n[a][1].type!=="data")&&(a!==o+2&&(n[o][1].end=n[a-1][1].end,n.splice(o+2,a-o-2),a=o+2),o=void 0);return t?t(n,r):n}}function hB(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],a=e.sliceStream(r);let o=a.length,u=-1,h=0,f;for(;o--;){const d=a[o];if(typeof d=="string"){for(u=d.length;d.charCodeAt(u-1)===32;)h++,u--;if(u)break;u=-1}else if(d===-2)f=!0,h++;else if(d!==-1){o++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(h=0),h){const d={type:n===t.length||f||h<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?u:r.start._bufferIndex+u,_index:r.start._index+o,line:r.end.line,column:r.end.column-h,offset:r.end.offset-h},end:{...r.end}};r.end={...d.start},r.start.offset===r.end.offset?Object.assign(r,d):(t.splice(n,0,["enter",d,e],["exit",d,e]),n+=2)}n++}return t}const dB={42:nn,43:nn,45:nn,48:nn,49:nn,50:nn,51:nn,52:nn,53:nn,54:nn,55:nn,56:nn,57:nn,62:FT},fB={91:y3},pB={[-2]:Kf,[-1]:Kf,32:Kf},gB={35:_3,42:ac,45:[JS,ac],60:k3,61:JS,95:ac,96:WS,126:WS},mB={38:KT,92:qT},yB={[-5]:Gf,[-4]:Gf,[-3]:Gf,33:q3,38:KT,42:cg,60:[GP,M3],91:G3,92:[S3,qT],93:gm,95:cg,96:a3},vB={null:[cg,lB]},bB={null:[42,95]},wB={null:[]},SB=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:bB,contentInitial:fB,disable:wB,document:dB,flow:gB,flowInitial:pB,insideSpan:vB,string:mB,text:yB},Symbol.toStringTag,{value:"Module"}));function xB(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const a={},o=[];let u=[],h=[];const f={attempt:F($),check:F(M),consume:R,enter:C,exit:D,interrupt:F(M,{interrupt:!0})},d={code:null,containerState:{},defineSkip:E,events:[],now:x,parser:t,previous:null,sliceSerialize:v,sliceStream:b,write:y};let g=e.tokenize.call(d,f);return e.resolveAll&&o.push(e),d;function y(ne){return u=On(u,ne),T(),u[u.length-1]!==null?[]:(Y(e,0),d.events=pm(o,d.events,d),d.events)}function v(ne,ie){return TB(b(ne),ie)}function b(ne){return _B(u,ne)}function x(){const{_bufferIndex:ne,_index:ie,line:he,column:ae,offset:Q}=r;return{_bufferIndex:ne,_index:ie,line:he,column:ae,offset:Q}}function E(ne){a[ne.line]=ne.column,oe()}function T(){let ne;for(;r._index<u.length;){const ie=u[r._index];if(typeof ie=="string")for(ne=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===ne&&r._bufferIndex<ie.length;)A(ie.charCodeAt(r._bufferIndex));else A(ie)}}function A(ne){g=g(ne)}function R(ne){Se(ne)?(r.line++,r.column=1,r.offset+=ne===-3?2:1,oe()):ne!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===u[r._index].length&&(r._bufferIndex=-1,r._index++)),d.previous=ne}function C(ne,ie){const he=ie||{};return he.type=ne,he.start=x(),d.events.push(["enter",he,d]),h.push(he),he}function D(ne){const ie=h.pop();return ie.end=x(),d.events.push(["exit",ie,d]),ie}function $(ne,ie){Y(ne,ie.from)}function M(ne,ie){ie.restore()}function F(ne,ie){return he;function he(ae,Q,P){let K,re,ge,O;return Array.isArray(ae)?q(ae):"tokenize"in ae?q([ae]):j(ae);function j(fe){return Re;function Re(We){const ze=We!==null&&fe[We],Ut=We!==null&&fe.null,jn=[...Array.isArray(ze)?ze:ze?[ze]:[],...Array.isArray(Ut)?Ut:Ut?[Ut]:[]];return q(jn)(We)}}function q(fe){return K=fe,re=0,fe.length===0?P:k(fe[re])}function k(fe){return Re;function Re(We){return O=ee(),ge=fe,fe.partial||(d.currentConstruct=fe),fe.name&&d.parser.constructs.disable.null.includes(fe.name)?de():fe.tokenize.call(ie?Object.assign(Object.create(d),ie):d,f,Z,de)(We)}}function Z(fe){return ne(ge,O),Q}function de(fe){return O.restore(),++re<K.length?k(K[re]):P}}}function Y(ne,ie){ne.resolveAll&&!o.includes(ne)&&o.push(ne),ne.resolve&&ti(d.events,ie,d.events.length-ie,ne.resolve(d.events.slice(ie),d)),ne.resolveTo&&(d.events=ne.resolveTo(d.events,d))}function ee(){const ne=x(),ie=d.previous,he=d.currentConstruct,ae=d.events.length,Q=Array.from(h);return{from:ae,restore:P};function P(){r=ne,d.previous=ie,d.currentConstruct=he,d.events.length=ae,h=Q,oe()}}function oe(){r.line in a&&r.column<2&&(r.column=a[r.line],r.offset+=a[r.line]-1)}}function _B(t,e){const n=e.start._index,r=e.start._bufferIndex,a=e.end._index,o=e.end._bufferIndex;let u;if(n===a)u=[t[n].slice(r,o)];else{if(u=t.slice(n,a),r>-1){const h=u[0];typeof h=="string"?u[0]=h.slice(r):u.shift()}o>0&&u.push(t[a].slice(0,o))}return u}function TB(t,e){let n=-1;const r=[];let a;for(;++n<t.length;){const o=t[n];let u;if(typeof o=="string")u=o;else switch(o){case-5:{u="\r";break}case-4:{u=`
`;break}case-3:{u=`\r
`;break}case-2:{u=e?" ":"	";break}case-1:{if(!e&&a)continue;u=" ";break}default:u=String.fromCharCode(o)}a=o===-2,r.push(u)}return r.join("")}function EB(t){const r={constructs:NP([SB,...(t||{}).extensions||[]]),content:a(zP),defined:[],document:a($P),flow:a(aB),lazy:{},string:a(uB),text:a(cB)};return r;function a(o){return u;function u(h){return xB(r,o,h)}}}function AB(t){for(;!GT(t););return t}const QS=/[\0\t\n\r]/g;function kB(){let t=1,e="",n=!0,r;return a;function a(o,u,h){const f=[];let d,g,y,v,b;for(o=e+(typeof o=="string"?o.toString():new TextDecoder(u||void 0).decode(o)),y=0,e="",n&&(o.charCodeAt(0)===65279&&y++,n=void 0);y<o.length;){if(QS.lastIndex=y,d=QS.exec(o),v=d&&d.index!==void 0?d.index:o.length,b=o.charCodeAt(v),!d){e=o.slice(y);break}if(b===10&&y===v&&r)f.push(-3),r=void 0;else switch(r&&(f.push(-5),r=void 0),y<v&&(f.push(o.slice(y,v)),t+=v-y),b){case 0:{f.push(65533),t++;break}case 9:{for(g=Math.ceil(t/4)*4,f.push(-2);t++<g;)f.push(-1);break}case 10:{f.push(-4),t=1;break}default:r=!0,t=1}y=v+1}return h&&(r&&f.push(-5),e&&f.push(e),f.push(null)),f}}const CB=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function OB(t){return t.replace(CB,RB)}function RB(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const a=n.charCodeAt(1),o=a===120||a===88;return HT(n.slice(o?2:1),o?16:10)}return fm(n)||t}const ZT={}.hasOwnProperty;function DB(t,e,n){return typeof e!="string"&&(n=e,e=void 0),NB(n)(AB(EB(n).document().write(kB()(t,e,!0))))}function NB(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(as),autolinkProtocol:ee,autolinkEmail:ee,atxHeading:o(rs),blockQuote:o(Ut),characterEscape:ee,characterReference:ee,codeFenced:o(jn),codeFencedFenceInfo:u,codeFencedFenceMeta:u,codeIndented:o(jn,u),codeText:o(Li,u),codeTextData:ee,data:ee,codeFlowValue:ee,definition:o(vl),definitionDestinationString:u,definitionLabelString:u,definitionTitleString:u,emphasis:o(si),hardBreakEscape:o(ss),hardBreakTrailing:o(ss),htmlFlow:o(bl,u),htmlFlowData:ee,htmlText:o(bl,u),htmlTextData:ee,image:o(wl),label:u,link:o(as),listItem:o(Ta),listItemValue:v,listOrdered:o(os,y),listUnordered:o(os),paragraph:o(Wc),reference:k,referenceString:u,resourceDestinationString:u,resourceTitleString:u,setextHeading:o(rs),strong:o(Xc),thematicBreak:o(Jc)},exit:{atxHeading:f(),atxHeadingSequence:$,autolink:f(),autolinkEmail:ze,autolinkProtocol:We,blockQuote:f(),characterEscapeValue:oe,characterReferenceMarkerHexadecimal:de,characterReferenceMarkerNumeric:de,characterReferenceValue:fe,characterReference:Re,codeFenced:f(T),codeFencedFence:E,codeFencedFenceInfo:b,codeFencedFenceMeta:x,codeFlowValue:oe,codeIndented:f(A),codeText:f(Q),codeTextData:oe,data:oe,definition:f(),definitionDestinationString:D,definitionLabelString:R,definitionTitleString:C,emphasis:f(),hardBreakEscape:f(ie),hardBreakTrailing:f(ie),htmlFlow:f(he),htmlFlowData:oe,htmlText:f(ae),htmlTextData:oe,image:f(K),label:ge,labelText:re,lineEnding:ne,link:f(P),listItem:f(),listOrdered:f(),listUnordered:f(),paragraph:f(),referenceString:Z,resourceDestinationString:O,resourceTitleString:j,resource:q,setextHeading:f(Y),setextHeadingLineSequence:F,setextHeadingText:M,strong:f(),thematicBreak:f()}};eE(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(W){let se={type:"root",children:[]};const we={stack:[se],tokenStack:[],config:e,enter:h,exit:d,buffer:u,resume:g,data:n},De=[];let He=-1;for(;++He<W.length;)if(W[He][1].type==="listOrdered"||W[He][1].type==="listUnordered")if(W[He][0]==="enter")De.push(He);else{const an=De.pop();He=a(W,an,He)}for(He=-1;++He<W.length;){const an=e[W[He][0]];ZT.call(an,W[He][1].type)&&an[W[He][1].type].call(Object.assign({sliceSerialize:W[He][2].sliceSerialize},we),W[He][1])}if(we.tokenStack.length>0){const an=we.tokenStack[we.tokenStack.length-1];(an[1]||ZS).call(we,void 0,an[0])}for(se.position={start:or(W.length>0?W[0][1].start:{line:1,column:1,offset:0}),end:or(W.length>0?W[W.length-2][1].end:{line:1,column:1,offset:0})},He=-1;++He<e.transforms.length;)se=e.transforms[He](se)||se;return se}function a(W,se,we){let De=se-1,He=-1,an=!1,ai,Vt,St,Yt;for(;++De<=we;){const Xe=W[De];switch(Xe[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Xe[0]==="enter"?He++:He--,Yt=void 0;break}case"lineEndingBlank":{Xe[0]==="enter"&&(ai&&!Yt&&!He&&!St&&(St=De),Yt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Yt=void 0}if(!He&&Xe[0]==="enter"&&Xe[1].type==="listItemPrefix"||He===-1&&Xe[0]==="exit"&&(Xe[1].type==="listUnordered"||Xe[1].type==="listOrdered")){if(ai){let Ii=De;for(Vt=void 0;Ii--;){const Mn=W[Ii];if(Mn[1].type==="lineEnding"||Mn[1].type==="lineEndingBlank"){if(Mn[0]==="exit")continue;Vt&&(W[Vt][1].type="lineEndingBlank",an=!0),Mn[1].type="lineEnding",Vt=Ii}else if(!(Mn[1].type==="linePrefix"||Mn[1].type==="blockQuotePrefix"||Mn[1].type==="blockQuotePrefixWhitespace"||Mn[1].type==="blockQuoteMarker"||Mn[1].type==="listItemIndent"))break}St&&(!Vt||St<Vt)&&(ai._spread=!0),ai.end=Object.assign({},Vt?W[Vt][1].start:Xe[1].end),W.splice(Vt||De,0,["exit",ai,Xe[2]]),De++,we++}if(Xe[1].type==="listItemPrefix"){const Ii={type:"listItem",_spread:!1,start:Object.assign({},Xe[1].start),end:void 0};ai=Ii,W.splice(De,0,["enter",Ii,Xe[2]]),De++,we++,St=void 0,Yt=!0}}}return W[se][1]._spread=an,we}function o(W,se){return we;function we(De){h.call(this,W(De),De),se&&se.call(this,De)}}function u(){this.stack.push({type:"fragment",children:[]})}function h(W,se,we){this.stack[this.stack.length-1].children.push(W),this.stack.push(W),this.tokenStack.push([se,we||void 0]),W.position={start:or(se.start),end:void 0}}function f(W){return se;function se(we){W&&W.call(this,we),d.call(this,we)}}function d(W,se){const we=this.stack.pop(),De=this.tokenStack.pop();if(De)De[0].type!==W.type&&(se?se.call(this,W,De[0]):(De[1]||ZS).call(this,W,De[0]));else throw new Error("Cannot close `"+W.type+"` ("+zo({start:W.start,end:W.end})+"): its not open");we.position.end=or(W.end)}function g(){return RP(this.stack.pop())}function y(){this.data.expectingFirstListItemValue=!0}function v(W){if(this.data.expectingFirstListItemValue){const se=this.stack[this.stack.length-2];se.start=Number.parseInt(this.sliceSerialize(W),10),this.data.expectingFirstListItemValue=void 0}}function b(){const W=this.resume(),se=this.stack[this.stack.length-1];se.lang=W}function x(){const W=this.resume(),se=this.stack[this.stack.length-1];se.meta=W}function E(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function T(){const W=this.resume(),se=this.stack[this.stack.length-1];se.value=W.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function A(){const W=this.resume(),se=this.stack[this.stack.length-1];se.value=W.replace(/(\r?\n|\r)$/g,"")}function R(W){const se=this.resume(),we=this.stack[this.stack.length-1];we.label=se,we.identifier=ma(this.sliceSerialize(W)).toLowerCase()}function C(){const W=this.resume(),se=this.stack[this.stack.length-1];se.title=W}function D(){const W=this.resume(),se=this.stack[this.stack.length-1];se.url=W}function $(W){const se=this.stack[this.stack.length-1];if(!se.depth){const we=this.sliceSerialize(W).length;se.depth=we}}function M(){this.data.setextHeadingSlurpLineEnding=!0}function F(W){const se=this.stack[this.stack.length-1];se.depth=this.sliceSerialize(W).codePointAt(0)===61?1:2}function Y(){this.data.setextHeadingSlurpLineEnding=void 0}function ee(W){const we=this.stack[this.stack.length-1].children;let De=we[we.length-1];(!De||De.type!=="text")&&(De=zt(),De.position={start:or(W.start),end:void 0},we.push(De)),this.stack.push(De)}function oe(W){const se=this.stack.pop();se.value+=this.sliceSerialize(W),se.position.end=or(W.end)}function ne(W){const se=this.stack[this.stack.length-1];if(this.data.atHardBreak){const we=se.children[se.children.length-1];we.position.end=or(W.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(se.type)&&(ee.call(this,W),oe.call(this,W))}function ie(){this.data.atHardBreak=!0}function he(){const W=this.resume(),se=this.stack[this.stack.length-1];se.value=W}function ae(){const W=this.resume(),se=this.stack[this.stack.length-1];se.value=W}function Q(){const W=this.resume(),se=this.stack[this.stack.length-1];se.value=W}function P(){const W=this.stack[this.stack.length-1];if(this.data.inReference){const se=this.data.referenceType||"shortcut";W.type+="Reference",W.referenceType=se,delete W.url,delete W.title}else delete W.identifier,delete W.label;this.data.referenceType=void 0}function K(){const W=this.stack[this.stack.length-1];if(this.data.inReference){const se=this.data.referenceType||"shortcut";W.type+="Reference",W.referenceType=se,delete W.url,delete W.title}else delete W.identifier,delete W.label;this.data.referenceType=void 0}function re(W){const se=this.sliceSerialize(W),we=this.stack[this.stack.length-2];we.label=OB(se),we.identifier=ma(se).toLowerCase()}function ge(){const W=this.stack[this.stack.length-1],se=this.resume(),we=this.stack[this.stack.length-1];if(this.data.inReference=!0,we.type==="link"){const De=W.children;we.children=De}else we.alt=se}function O(){const W=this.resume(),se=this.stack[this.stack.length-1];se.url=W}function j(){const W=this.resume(),se=this.stack[this.stack.length-1];se.title=W}function q(){this.data.inReference=void 0}function k(){this.data.referenceType="collapsed"}function Z(W){const se=this.resume(),we=this.stack[this.stack.length-1];we.label=se,we.identifier=ma(this.sliceSerialize(W)).toLowerCase(),this.data.referenceType="full"}function de(W){this.data.characterReferenceType=W.type}function fe(W){const se=this.sliceSerialize(W),we=this.data.characterReferenceType;let De;we?(De=HT(se,we==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):De=fm(se);const He=this.stack[this.stack.length-1];He.value+=De}function Re(W){const se=this.stack.pop();se.position.end=or(W.end)}function We(W){oe.call(this,W);const se=this.stack[this.stack.length-1];se.url=this.sliceSerialize(W)}function ze(W){oe.call(this,W);const se=this.stack[this.stack.length-1];se.url="mailto:"+this.sliceSerialize(W)}function Ut(){return{type:"blockquote",children:[]}}function jn(){return{type:"code",lang:null,meta:null,value:""}}function Li(){return{type:"inlineCode",value:""}}function vl(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function si(){return{type:"emphasis",children:[]}}function rs(){return{type:"heading",depth:0,children:[]}}function ss(){return{type:"break"}}function bl(){return{type:"html",value:""}}function wl(){return{type:"image",title:null,url:"",alt:null}}function as(){return{type:"link",title:null,url:"",children:[]}}function os(W){return{type:"list",ordered:W.type==="listOrdered",start:null,spread:W._spread,children:[]}}function Ta(W){return{type:"listItem",spread:W._spread,checked:null,children:[]}}function Wc(){return{type:"paragraph",children:[]}}function Xc(){return{type:"strong",children:[]}}function zt(){return{type:"text",value:""}}function Jc(){return{type:"thematicBreak"}}}function or(t){return{line:t.line,column:t.column,offset:t.offset}}function eE(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?eE(t,r):jB(t,r)}}function jB(t,e){let n;for(n in e)if(ZT.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function ZS(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+zo({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+zo({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+zo({start:e.start,end:e.end})+") is still open")}function MB(t){const e=this;e.parser=n;function n(r){return DB(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function LB(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function IB(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function PB(t,e){const n=e.value?e.value+`
`:"",r={},a=e.lang?e.lang.split(/\s+/):[];a.length>0&&(r.className=["language-"+a[0]]);let o={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(o.data={meta:e.meta}),t.patch(e,o),o=t.applyData(e,o),o={type:"element",tagName:"pre",properties:{},children:[o]},t.patch(e,o),o}function BB(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function UB(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function zB(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),a=_a(r.toLowerCase()),o=t.footnoteOrder.indexOf(r);let u,h=t.footnoteCounts.get(r);h===void 0?(h=0,t.footnoteOrder.push(r),u=t.footnoteOrder.length):u=o+1,h+=1,t.footnoteCounts.set(r,h);const f={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+a,id:n+"fnref-"+a+(h>1?"-"+h:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(u)}]};t.patch(e,f);const d={type:"element",tagName:"sup",properties:{},children:[f]};return t.patch(e,d),t.applyData(e,d)}function VB(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function $B(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function tE(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const a=t.all(e),o=a[0];o&&o.type==="text"?o.value="["+o.value:a.unshift({type:"text",value:"["});const u=a[a.length-1];return u&&u.type==="text"?u.value+=r:a.push({type:"text",value:r}),a}function HB(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return tE(t,e);const a={src:_a(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(a.title=r.title);const o={type:"element",tagName:"img",properties:a,children:[]};return t.patch(e,o),t.applyData(e,o)}function FB(t,e){const n={src:_a(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function qB(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function KB(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return tE(t,e);const a={href:_a(r.url||"")};r.title!==null&&r.title!==void 0&&(a.title=r.title);const o={type:"element",tagName:"a",properties:a,children:t.all(e)};return t.patch(e,o),t.applyData(e,o)}function GB(t,e){const n={href:_a(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function YB(t,e,n){const r=t.all(e),a=n?WB(n):nE(e),o={},u=[];if(typeof e.checked=="boolean"){const g=r[0];let y;g&&g.type==="element"&&g.tagName==="p"?y=g:(y={type:"element",tagName:"p",properties:{},children:[]},r.unshift(y)),y.children.length>0&&y.children.unshift({type:"text",value:" "}),y.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let h=-1;for(;++h<r.length;){const g=r[h];(a||h!==0||g.type!=="element"||g.tagName!=="p")&&u.push({type:"text",value:`
`}),g.type==="element"&&g.tagName==="p"&&!a?u.push(...g.children):u.push(g)}const f=r[r.length-1];f&&(a||f.type!=="element"||f.tagName!=="p")&&u.push({type:"text",value:`
`});const d={type:"element",tagName:"li",properties:o,children:u};return t.patch(e,d),t.applyData(e,d)}function WB(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=nE(n[r])}return e}function nE(t){const e=t.spread;return e??t.children.length>1}function XB(t,e){const n={},r=t.all(e);let a=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++a<r.length;){const u=r[a];if(u.type==="element"&&u.tagName==="li"&&u.properties&&Array.isArray(u.properties.className)&&u.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,o),t.applyData(e,o)}function JB(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function QB(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function ZB(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function eU(t,e){const n=t.all(e),r=n.shift(),a=[];if(r){const u={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],u),a.push(u)}if(n.length>0){const u={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},h=um(e.children[1]),f=IT(e.children[e.children.length-1]);h&&f&&(u.position={start:h,end:f}),a.push(u)}const o={type:"element",tagName:"table",properties:{},children:t.wrap(a,!0)};return t.patch(e,o),t.applyData(e,o)}function tU(t,e,n){const r=n?n.children:void 0,o=(r?r.indexOf(e):1)===0?"th":"td",u=n&&n.type==="table"?n.align:void 0,h=u?u.length:e.children.length;let f=-1;const d=[];for(;++f<h;){const y=e.children[f],v={},b=u?u[f]:void 0;b&&(v.align=b);let x={type:"element",tagName:o,properties:v,children:[]};y&&(x.children=t.all(y),t.patch(y,x),x=t.applyData(y,x)),d.push(x)}const g={type:"element",tagName:"tr",properties:{},children:t.wrap(d,!0)};return t.patch(e,g),t.applyData(e,g)}function nU(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const ex=9,tx=32;function iU(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),a=0;const o=[];for(;r;)o.push(nx(e.slice(a,r.index),a>0,!0),r[0]),a=r.index+r[0].length,r=n.exec(e);return o.push(nx(e.slice(a),a>0,!1)),o.join("")}function nx(t,e,n){let r=0,a=t.length;if(e){let o=t.codePointAt(r);for(;o===ex||o===tx;)r++,o=t.codePointAt(r)}if(n){let o=t.codePointAt(a-1);for(;o===ex||o===tx;)a--,o=t.codePointAt(a-1)}return a>r?t.slice(r,a):""}function rU(t,e){const n={type:"text",value:iU(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function sU(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const aU={blockquote:LB,break:IB,code:PB,delete:BB,emphasis:UB,footnoteReference:zB,heading:VB,html:$B,imageReference:HB,image:FB,inlineCode:qB,linkReference:KB,link:GB,listItem:YB,list:XB,paragraph:JB,root:QB,strong:ZB,table:eU,tableCell:nU,tableRow:tU,text:rU,thematicBreak:sU,toml:Wu,yaml:Wu,definition:Wu,footnoteDefinition:Wu};function Wu(){}const iE=-1,Uc=0,$o=1,vc=2,mm=3,ym=4,vm=5,bm=6,rE=7,sE=8,ix=typeof self=="object"?self:globalThis,oU=(t,e)=>{const n=(a,o)=>(t.set(o,a),a),r=a=>{if(t.has(a))return t.get(a);const[o,u]=e[a];switch(o){case Uc:case iE:return n(u,a);case $o:{const h=n([],a);for(const f of u)h.push(r(f));return h}case vc:{const h=n({},a);for(const[f,d]of u)h[r(f)]=r(d);return h}case mm:return n(new Date(u),a);case ym:{const{source:h,flags:f}=u;return n(new RegExp(h,f),a)}case vm:{const h=n(new Map,a);for(const[f,d]of u)h.set(r(f),r(d));return h}case bm:{const h=n(new Set,a);for(const f of u)h.add(r(f));return h}case rE:{const{name:h,message:f}=u;return n(new ix[h](f),a)}case sE:return n(BigInt(u),a);case"BigInt":return n(Object(BigInt(u)),a);case"ArrayBuffer":return n(new Uint8Array(u).buffer,u);case"DataView":{const{buffer:h}=new Uint8Array(u);return n(new DataView(h),u)}}return n(new ix[o](u),a)};return r},rx=t=>oU(new Map,t)(0),ea="",{toString:lU}={},{keys:uU}=Object,Eo=t=>{const e=typeof t;if(e!=="object"||!t)return[Uc,e];const n=lU.call(t).slice(8,-1);switch(n){case"Array":return[$o,ea];case"Object":return[vc,ea];case"Date":return[mm,ea];case"RegExp":return[ym,ea];case"Map":return[vm,ea];case"Set":return[bm,ea];case"DataView":return[$o,n]}return n.includes("Array")?[$o,n]:n.includes("Error")?[rE,n]:[vc,n]},Xu=([t,e])=>t===Uc&&(e==="function"||e==="symbol"),cU=(t,e,n,r)=>{const a=(u,h)=>{const f=r.push(u)-1;return n.set(h,f),f},o=u=>{if(n.has(u))return n.get(u);let[h,f]=Eo(u);switch(h){case Uc:{let g=u;switch(f){case"bigint":h=sE,g=u.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+f);g=null;break;case"undefined":return a([iE],u)}return a([h,g],u)}case $o:{if(f){let v=u;return f==="DataView"?v=new Uint8Array(u.buffer):f==="ArrayBuffer"&&(v=new Uint8Array(u)),a([f,[...v]],u)}const g=[],y=a([h,g],u);for(const v of u)g.push(o(v));return y}case vc:{if(f)switch(f){case"BigInt":return a([f,u.toString()],u);case"Boolean":case"Number":case"String":return a([f,u.valueOf()],u)}if(e&&"toJSON"in u)return o(u.toJSON());const g=[],y=a([h,g],u);for(const v of uU(u))(t||!Xu(Eo(u[v])))&&g.push([o(v),o(u[v])]);return y}case mm:return a([h,u.toISOString()],u);case ym:{const{source:g,flags:y}=u;return a([h,{source:g,flags:y}],u)}case vm:{const g=[],y=a([h,g],u);for(const[v,b]of u)(t||!(Xu(Eo(v))||Xu(Eo(b))))&&g.push([o(v),o(b)]);return y}case bm:{const g=[],y=a([h,g],u);for(const v of u)(t||!Xu(Eo(v)))&&g.push(o(v));return y}}const{message:d}=u;return a([h,{name:f,message:d}],u)};return o},sx=(t,{json:e,lossy:n}={})=>{const r=[];return cU(!(e||n),!!e,new Map,r)(t),r},bc=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?rx(sx(t,e)):structuredClone(t):(t,e)=>rx(sx(t,e));function hU(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function dU(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function fU(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||hU,r=t.options.footnoteBackLabel||dU,a=t.options.footnoteLabel||"Footnotes",o=t.options.footnoteLabelTagName||"h2",u=t.options.footnoteLabelProperties||{className:["sr-only"]},h=[];let f=-1;for(;++f<t.footnoteOrder.length;){const d=t.footnoteById.get(t.footnoteOrder[f]);if(!d)continue;const g=t.all(d),y=String(d.identifier).toUpperCase(),v=_a(y.toLowerCase());let b=0;const x=[],E=t.footnoteCounts.get(y);for(;E!==void 0&&++b<=E;){x.length>0&&x.push({type:"text",value:" "});let R=typeof n=="string"?n:n(f,b);typeof R=="string"&&(R={type:"text",value:R}),x.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+v+(b>1?"-"+b:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(f,b),className:["data-footnote-backref"]},children:Array.isArray(R)?R:[R]})}const T=g[g.length-1];if(T&&T.type==="element"&&T.tagName==="p"){const R=T.children[T.children.length-1];R&&R.type==="text"?R.value+=" ":T.children.push({type:"text",value:" "}),T.children.push(...x)}else g.push(...x);const A={type:"element",tagName:"li",properties:{id:e+"fn-"+v},children:t.wrap(g,!0)};t.patch(d,A),h.push(A)}if(h.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...bc(u),id:"footnote-label"},children:[{type:"text",value:a}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(h,!0)},{type:"text",value:`
`}]}}const aE=(function(t){if(t==null)return yU;if(typeof t=="function")return zc(t);if(typeof t=="object")return Array.isArray(t)?pU(t):gU(t);if(typeof t=="string")return mU(t);throw new Error("Expected function, string, or object as test")});function pU(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=aE(t[n]);return zc(r);function r(...a){let o=-1;for(;++o<e.length;)if(e[o].apply(this,a))return!0;return!1}}function gU(t){const e=t;return zc(n);function n(r){const a=r;let o;for(o in t)if(a[o]!==e[o])return!1;return!0}}function mU(t){return zc(e);function e(n){return n&&n.type===t}}function zc(t){return e;function e(n,r,a){return!!(vU(n)&&t.call(this,n,typeof r=="number"?r:void 0,a||void 0))}}function yU(){return!0}function vU(t){return t!==null&&typeof t=="object"&&"type"in t}const oE=[],bU=!0,ax=!1,wU="skip";function SU(t,e,n,r){let a;typeof e=="function"&&typeof n!="function"?(r=n,n=e):a=e;const o=aE(a),u=r?-1:1;h(t,void 0,[])();function h(f,d,g){const y=f&&typeof f=="object"?f:{};if(typeof y.type=="string"){const b=typeof y.tagName=="string"?y.tagName:typeof y.name=="string"?y.name:void 0;Object.defineProperty(v,"name",{value:"node ("+(f.type+(b?"<"+b+">":""))+")"})}return v;function v(){let b=oE,x,E,T;if((!e||o(f,d,g[g.length-1]||void 0))&&(b=xU(n(f,g)),b[0]===ax))return b;if("children"in f&&f.children){const A=f;if(A.children&&b[0]!==wU)for(E=(r?A.children.length:-1)+u,T=g.concat(A);E>-1&&E<A.children.length;){const R=A.children[E];if(x=h(R,E,T)(),x[0]===ax)return x;E=typeof x[1]=="number"?x[1]:E+u}}return b}}}function xU(t){return Array.isArray(t)?t:typeof t=="number"?[bU,t]:t==null?oE:[t]}function lE(t,e,n,r){let a,o,u;typeof e=="function"&&typeof n!="function"?(o=void 0,u=e,a=n):(o=e,u=n,a=r),SU(t,o,h,a);function h(f,d){const g=d[d.length-1],y=g?g.children.indexOf(f):void 0;return u(f,y,g)}}const hg={}.hasOwnProperty,_U={};function TU(t,e){const n=e||_U,r=new Map,a=new Map,o=new Map,u={...aU,...n.handlers},h={all:d,applyData:AU,definitionById:r,footnoteById:a,footnoteCounts:o,footnoteOrder:[],handlers:u,one:f,options:n,patch:EU,wrap:CU};return lE(t,function(g){if(g.type==="definition"||g.type==="footnoteDefinition"){const y=g.type==="definition"?r:a,v=String(g.identifier).toUpperCase();y.has(v)||y.set(v,g)}}),h;function f(g,y){const v=g.type,b=h.handlers[v];if(hg.call(h.handlers,v)&&b)return b(h,g,y);if(h.options.passThrough&&h.options.passThrough.includes(v)){if("children"in g){const{children:E,...T}=g,A=bc(T);return A.children=h.all(g),A}return bc(g)}return(h.options.unknownHandler||kU)(h,g,y)}function d(g){const y=[];if("children"in g){const v=g.children;let b=-1;for(;++b<v.length;){const x=h.one(v[b],g);if(x){if(b&&v[b-1].type==="break"&&(!Array.isArray(x)&&x.type==="text"&&(x.value=ox(x.value)),!Array.isArray(x)&&x.type==="element")){const E=x.children[0];E&&E.type==="text"&&(E.value=ox(E.value))}Array.isArray(x)?y.push(...x):y.push(x)}}}return y}}function EU(t,e){t.position&&(e.position=lP(t))}function AU(t,e){let n=e;if(t&&t.data){const r=t.data.hName,a=t.data.hChildren,o=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const u="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:u}}n.type==="element"&&o&&Object.assign(n.properties,bc(o)),"children"in n&&n.children&&a!==null&&a!==void 0&&(n.children=a)}return n}function kU(t,e){const n=e.data||{},r="value"in e&&!(hg.call(n,"hProperties")||hg.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function CU(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function ox(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function lx(t,e){const n=TU(t,e),r=n.one(t,void 0),a=fU(n),o=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return a&&o.children.push({type:"text",value:`
`},a),o}function OU(t,e){return t&&"run"in t?async function(n,r){const a=lx(n,{file:r,...e});await t.run(a,r)}:function(n,r){return lx(n,{file:r,...t||e})}}function ux(t){if(t)throw t}var Yf,cx;function RU(){if(cx)return Yf;cx=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,a=function(d){return typeof Array.isArray=="function"?Array.isArray(d):e.call(d)==="[object Array]"},o=function(d){if(!d||e.call(d)!=="[object Object]")return!1;var g=t.call(d,"constructor"),y=d.constructor&&d.constructor.prototype&&t.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!g&&!y)return!1;var v;for(v in d);return typeof v>"u"||t.call(d,v)},u=function(d,g){n&&g.name==="__proto__"?n(d,g.name,{enumerable:!0,configurable:!0,value:g.newValue,writable:!0}):d[g.name]=g.newValue},h=function(d,g){if(g==="__proto__")if(t.call(d,g)){if(r)return r(d,g).value}else return;return d[g]};return Yf=function f(){var d,g,y,v,b,x,E=arguments[0],T=1,A=arguments.length,R=!1;for(typeof E=="boolean"&&(R=E,E=arguments[1]||{},T=2),(E==null||typeof E!="object"&&typeof E!="function")&&(E={});T<A;++T)if(d=arguments[T],d!=null)for(g in d)y=h(E,g),v=h(d,g),E!==v&&(R&&v&&(o(v)||(b=a(v)))?(b?(b=!1,x=y&&a(y)?y:[]):x=y&&o(y)?y:{},u(E,{name:g,newValue:f(R,x,v)})):typeof v<"u"&&u(E,{name:g,newValue:v}));return E},Yf}var DU=RU();const Wf=b1(DU);function dg(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function NU(){const t=[],e={run:n,use:r};return e;function n(...a){let o=-1;const u=a.pop();if(typeof u!="function")throw new TypeError("Expected function as last argument, not "+u);h(null,...a);function h(f,...d){const g=t[++o];let y=-1;if(f){u(f);return}for(;++y<a.length;)(d[y]===null||d[y]===void 0)&&(d[y]=a[y]);a=d,g?jU(g,h)(...d):u(null,...d)}}function r(a){if(typeof a!="function")throw new TypeError("Expected `middelware` to be a function, not "+a);return t.push(a),e}}function jU(t,e){let n;return r;function r(...u){const h=t.length>u.length;let f;h&&u.push(a);try{f=t.apply(this,u)}catch(d){const g=d;if(h&&n)throw g;return a(g)}h||(f&&f.then&&typeof f.then=="function"?f.then(o,a):f instanceof Error?a(f):o(f))}function a(u,...h){n||(n=!0,e(u,...h))}function o(u){a(null,u)}}const Xn={basename:MU,dirname:LU,extname:IU,join:PU,sep:"/"};function MU(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');ml(t);let n=0,r=-1,a=t.length,o;if(e===void 0||e.length===0||e.length>t.length){for(;a--;)if(t.codePointAt(a)===47){if(o){n=a+1;break}}else r<0&&(o=!0,r=a+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let u=-1,h=e.length-1;for(;a--;)if(t.codePointAt(a)===47){if(o){n=a+1;break}}else u<0&&(o=!0,u=a+1),h>-1&&(t.codePointAt(a)===e.codePointAt(h--)?h<0&&(r=a):(h=-1,r=u));return n===r?r=u:r<0&&(r=t.length),t.slice(n,r)}function LU(t){if(ml(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function IU(t){ml(t);let e=t.length,n=-1,r=0,a=-1,o=0,u;for(;e--;){const h=t.codePointAt(e);if(h===47){if(u){r=e+1;break}continue}n<0&&(u=!0,n=e+1),h===46?a<0?a=e:o!==1&&(o=1):a>-1&&(o=-1)}return a<0||n<0||o===0||o===1&&a===n-1&&a===r+1?"":t.slice(a,n)}function PU(...t){let e=-1,n;for(;++e<t.length;)ml(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":BU(n)}function BU(t){ml(t);const e=t.codePointAt(0)===47;let n=UU(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function UU(t,e){let n="",r=0,a=-1,o=0,u=-1,h,f;for(;++u<=t.length;){if(u<t.length)h=t.codePointAt(u);else{if(h===47)break;h=47}if(h===47){if(!(a===u-1||o===1))if(a!==u-1&&o===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(f=n.lastIndexOf("/"),f!==n.length-1){f<0?(n="",r=0):(n=n.slice(0,f),r=n.length-1-n.lastIndexOf("/")),a=u,o=0;continue}}else if(n.length>0){n="",r=0,a=u,o=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(a+1,u):n=t.slice(a+1,u),r=u-a-1;a=u,o=0}else h===46&&o>-1?o++:o=-1}return n}function ml(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const zU={cwd:VU};function VU(){return"/"}function fg(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function $U(t){if(typeof t=="string")t=new URL(t);else if(!fg(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return HU(t)}function HU(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const a=new TypeError("File URL path must not include encoded / characters");throw a.code="ERR_INVALID_FILE_URL_PATH",a}}return decodeURIComponent(e)}const Xf=["history","path","basename","stem","extname","dirname"];class uE{constructor(e){let n;e?fg(e)?n={path:e}:typeof e=="string"||FU(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":zU.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Xf.length;){const o=Xf[r];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let a;for(a in n)Xf.includes(a)||(this[a]=n[a])}get basename(){return typeof this.path=="string"?Xn.basename(this.path):void 0}set basename(e){Qf(e,"basename"),Jf(e,"basename"),this.path=Xn.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Xn.dirname(this.path):void 0}set dirname(e){hx(this.basename,"dirname"),this.path=Xn.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Xn.extname(this.path):void 0}set extname(e){if(Jf(e,"extname"),hx(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Xn.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){fg(e)&&(e=$U(e)),Qf(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Xn.basename(this.path,this.extname):void 0}set stem(e){Qf(e,"stem"),Jf(e,"stem"),this.path=Xn.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const a=this.message(e,n,r);throw a.fatal=!0,a}info(e,n,r){const a=this.message(e,n,r);return a.fatal=void 0,a}message(e,n,r){const a=new Bt(e,n,r);return this.path&&(a.name=this.path+":"+a.name,a.file=this.path),a.fatal=!1,this.messages.push(a),a}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function Jf(t,e){if(t&&t.includes(Xn.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Xn.sep+"`")}function Qf(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function hx(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function FU(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const qU=(function(t){const r=this.constructor.prototype,a=r[t],o=function(){return a.apply(o,arguments)};return Object.setPrototypeOf(o,r),o}),KU={}.hasOwnProperty;class wm extends qU{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=NU()}copy(){const e=new wm;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(Wf(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(tp("data",this.frozen),this.namespace[e]=n,this):KU.call(this.namespace,e)&&this.namespace[e]||void 0:e?(tp("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const a=n.call(e,...r);typeof a=="function"&&this.transformers.use(a)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=Ju(e),r=this.parser||this.Parser;return Zf("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),Zf("process",this.parser||this.Parser),ep("process",this.compiler||this.Compiler),n?a(void 0,n):new Promise(a);function a(o,u){const h=Ju(e),f=r.parse(h);r.run(f,h,function(g,y,v){if(g||!y||!v)return d(g);const b=y,x=r.stringify(b,v);WU(x)?v.value=x:v.result=x,d(g,v)});function d(g,y){g||!y?u(g):o?o(y):n(void 0,y)}}}processSync(e){let n=!1,r;return this.freeze(),Zf("processSync",this.parser||this.Parser),ep("processSync",this.compiler||this.Compiler),this.process(e,a),fx("processSync","process",n),r;function a(o,u){n=!0,ux(o),r=u}}run(e,n,r){dx(e),this.freeze();const a=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?o(void 0,r):new Promise(o);function o(u,h){const f=Ju(n);a.run(e,f,d);function d(g,y,v){const b=y||e;g?h(g):u?u(b):r(void 0,b,v)}}}runSync(e,n){let r=!1,a;return this.run(e,n,o),fx("runSync","run",r),a;function o(u,h){ux(u),a=h,r=!0}}stringify(e,n){this.freeze();const r=Ju(n),a=this.compiler||this.Compiler;return ep("stringify",a),dx(e),a(e,r)}use(e,...n){const r=this.attachers,a=this.namespace;if(tp("use",this.frozen),e!=null)if(typeof e=="function")f(e,n);else if(typeof e=="object")Array.isArray(e)?h(e):u(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function o(d){if(typeof d=="function")f(d,[]);else if(typeof d=="object")if(Array.isArray(d)){const[g,...y]=d;f(g,y)}else u(d);else throw new TypeError("Expected usable value, not `"+d+"`")}function u(d){if(!("plugins"in d)&&!("settings"in d))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");h(d.plugins),d.settings&&(a.settings=Wf(!0,a.settings,d.settings))}function h(d){let g=-1;if(d!=null)if(Array.isArray(d))for(;++g<d.length;){const y=d[g];o(y)}else throw new TypeError("Expected a list of plugins, not `"+d+"`")}function f(d,g){let y=-1,v=-1;for(;++y<r.length;)if(r[y][0]===d){v=y;break}if(v===-1)r.push([d,...g]);else if(g.length>0){let[b,...x]=g;const E=r[v][1];dg(E)&&dg(b)&&(b=Wf(!0,E,b)),r[v]=[d,b,...x]}}}}const GU=new wm().freeze();function Zf(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function ep(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function tp(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function dx(t){if(!dg(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function fx(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function Ju(t){return YU(t)?t:new uE(t)}function YU(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function WU(t){return typeof t=="string"||XU(t)}function XU(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const JU="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",px=[],gx={allowDangerousHtml:!0},QU=/^(https?|ircs?|mailto|xmpp)$/i,ZU=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function e4(t){const e=t4(t),n=n4(t);return i4(e.runSync(e.parse(n),n),t)}function t4(t){const e=t.rehypePlugins||px,n=t.remarkPlugins||px,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...gx}:gx;return GU().use(MB).use(n).use(OU,r).use(e)}function n4(t){const e=t.children||"",n=new uE;return typeof e=="string"&&(n.value=e),n}function i4(t,e){const n=e.allowedElements,r=e.allowElement,a=e.components,o=e.disallowedElements,u=e.skipHtml,h=e.unwrapDisallowed,f=e.urlTransform||r4;for(const g of ZU)Object.hasOwn(e,g.from)&&(""+g.from+(g.to?"use `"+g.to+"` instead":"remove it")+JU+g.id,void 0);return lE(t,d),fP(t,{Fragment:S.Fragment,components:a,ignoreInvalidStyle:!0,jsx:S.jsx,jsxs:S.jsxs,passKeys:!0,passNode:!0});function d(g,y,v){if(g.type==="raw"&&v&&typeof y=="number")return u?v.children.splice(y,1):v.children[y]={type:"text",value:g.value},y;if(g.type==="element"){let b;for(b in qf)if(Object.hasOwn(qf,b)&&Object.hasOwn(g.properties,b)){const x=g.properties[b],E=qf[b];(E===null||E.includes(g.tagName))&&(g.properties[b]=f(String(x||""),b,g))}}if(g.type==="element"){let b=n?!n.includes(g.tagName):o?o.includes(g.tagName):!1;if(!b&&r&&typeof y=="number"&&(b=!r(g,y,v)),b&&v&&typeof y=="number")return h&&g.children?v.children.splice(y,1,...g.children):v.children.splice(y,1),y}}}function r4(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),a=t.indexOf("/");return e===-1||a!==-1&&e>a||n!==-1&&e>n||r!==-1&&e>r||QU.test(t.slice(0,e))?t:""}const s4=()=>{};var mx={};const cE=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let a=t.charCodeAt(r);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},a4=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const a=t[n++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const o=t[n++];e[r++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=t[n++],u=t[n++],h=t[n++],f=((a&7)<<18|(o&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const o=t[n++],u=t[n++];e[r++]=String.fromCharCode((a&15)<<12|(o&63)<<6|u&63)}}return e.join("")},hE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<t.length;a+=3){const o=t[a],u=a+1<t.length,h=u?t[a+1]:0,f=a+2<t.length,d=f?t[a+2]:0,g=o>>2,y=(o&3)<<4|h>>4;let v=(h&15)<<2|d>>6,b=d&63;f||(b=64,u||(v=64)),r.push(n[g],n[y],n[v],n[b])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(cE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):a4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<t.length;){const o=n[t.charAt(a++)],h=a<t.length?n[t.charAt(a)]:0;++a;const d=a<t.length?n[t.charAt(a)]:64;++a;const y=a<t.length?n[t.charAt(a)]:64;if(++a,o==null||h==null||d==null||y==null)throw new o4;const v=o<<2|h>>4;if(r.push(v),d!==64){const b=h<<4&240|d>>2;if(r.push(b),y!==64){const x=d<<6&192|y;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class o4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const l4=function(t){const e=cE(t);return hE.encodeByteArray(e,!0)},wc=function(t){return l4(t).replace(/\./g,"")},u4=function(t){try{return hE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function c4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const h4=()=>c4().__FIREBASE_DEFAULTS__,d4=()=>{if(typeof process>"u"||typeof mx>"u")return;const t=mx.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},f4=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&u4(t[1]);return e&&JSON.parse(e)},dE=()=>{try{return s4()||h4()||d4()||f4()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},p4=t=>dE()?.emulatorHosts?.[t],g4=t=>{const e=p4(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},fE=()=>dE()?.config;class m4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function pE(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function y4(t){return(await fetch(t,{credentials:"include"})).ok}function v4(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",a=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[wc(JSON.stringify(n)),wc(JSON.stringify(u)),""].join(".")}const Ho={};function b4(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ho))Ho[e]?t.emulator.push(e):t.prod.push(e);return t}function w4(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let yx=!1;function S4(t,e){if(typeof window>"u"||typeof document>"u"||!pE(window.location.host)||Ho[t]===e||Ho[t]||yx)return;Ho[t]=e;function n(v){return`__firebase__banner__${v}`}const r="__firebase__banner",o=b4().prod.length>0;function u(){const v=document.getElementById(r);v&&v.remove()}function h(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function f(v,b){v.setAttribute("width","24"),v.setAttribute("id",b),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function d(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{yx=!0,u()},v}function g(v,b){v.setAttribute("id",b),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function y(){const v=w4(r),b=n("text"),x=document.getElementById(b)||document.createElement("span"),E=n("learnmore"),T=document.getElementById(E)||document.createElement("a"),A=n("preprendIcon"),R=document.getElementById(A)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const C=v.element;h(C),g(T,E);const D=d();f(R,A),C.append(R,x,T,D),document.body.appendChild(C)}o?(x.innerText="Preview backend disconnected.",R.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(R.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}function gE(){try{return typeof indexedDB=="object"}catch{return!1}}function mE(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}function x4(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const _4="FirebaseError";class yr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=_4,Object.setPrototypeOf(this,yr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vc.prototype.create)}}class Vc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},a=`${this.service}/${e}`,o=this.errors[e],u=o?T4(o,r):"Error",h=`${this.serviceName}: ${u} (${a}).`;return new yr(a,h,r)}}function T4(t,e){return t.replace(E4,(n,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const E4=/\{\$([^}]+)}/g;function pg(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const a of n){if(!r.includes(a))return!1;const o=t[a],u=e[a];if(vx(o)&&vx(u)){if(!pg(o,u))return!1}else if(o!==u)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function vx(t){return t!==null&&typeof t=="object"}function $c(t){return t&&t._delegate?t._delegate:t}class ni{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Vr="[DEFAULT]";class A4{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new m4;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(C4(e))try{this.getOrInitializeService({instanceIdentifier:Vr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:a});r.resolve(o)}catch{}}}}clearInstance(e=Vr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Vr){return this.instances.has(e)}getOptions(e=Vr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);r===h&&u.resolve(a)}return a}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const o=this.instances.get(r);return o&&e(o,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:k4(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Vr){return this.component?this.component.multipleInstances?e:Vr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function k4(t){return t===Vr?void 0:t}function C4(t){return t.instantiationMode==="EAGER"}class O4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new A4(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var rt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(rt||(rt={}));const R4={debug:rt.DEBUG,verbose:rt.VERBOSE,info:rt.INFO,warn:rt.WARN,error:rt.ERROR,silent:rt.SILENT},D4=rt.INFO,N4={[rt.DEBUG]:"log",[rt.VERBOSE]:"log",[rt.INFO]:"info",[rt.WARN]:"warn",[rt.ERROR]:"error"},j4=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),a=N4[e];if(a)console[a](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let yE=class{constructor(e){this.name=e,this._logLevel=D4,this._logHandler=j4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in rt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?R4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,rt.DEBUG,...e),this._logHandler(this,rt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,rt.VERBOSE,...e),this._logHandler(this,rt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,rt.INFO,...e),this._logHandler(this,rt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,rt.WARN,...e),this._logHandler(this,rt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,rt.ERROR,...e),this._logHandler(this,rt.ERROR,...e)}};const M4=(t,e)=>e.some(n=>t instanceof n);let bx,wx;function L4(){return bx||(bx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function I4(){return wx||(wx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vE=new WeakMap,gg=new WeakMap,bE=new WeakMap,np=new WeakMap,Sm=new WeakMap;function P4(t){const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("success",o),t.removeEventListener("error",u)},o=()=>{n(Ci(t.result)),a()},u=()=>{r(t.error),a()};t.addEventListener("success",o),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&vE.set(n,t)}).catch(()=>{}),Sm.set(e,t),e}function B4(t){if(gg.has(t))return;const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",u),t.removeEventListener("abort",u)},o=()=>{n(),a()},u=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",o),t.addEventListener("error",u),t.addEventListener("abort",u)});gg.set(t,e)}let mg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return gg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||bE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ci(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function U4(t){mg=t(mg)}function z4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ip(this),e,...n);return bE.set(r,e.sort?e.sort():[e]),Ci(r)}:I4().includes(t)?function(...e){return t.apply(ip(this),e),Ci(vE.get(this))}:function(...e){return Ci(t.apply(ip(this),e))}}function V4(t){return typeof t=="function"?z4(t):(t instanceof IDBTransaction&&B4(t),M4(t,L4())?new Proxy(t,mg):t)}function Ci(t){if(t instanceof IDBRequest)return P4(t);if(np.has(t))return np.get(t);const e=V4(t);return e!==t&&(np.set(t,e),Sm.set(e,t)),e}const ip=t=>Sm.get(t);function Hc(t,e,{blocked:n,upgrade:r,blocking:a,terminated:o}={}){const u=indexedDB.open(t,e),h=Ci(u);return r&&u.addEventListener("upgradeneeded",f=>{r(Ci(u.result),f.oldVersion,f.newVersion,Ci(u.transaction),f)}),n&&u.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),h.then(f=>{o&&f.addEventListener("close",()=>o()),a&&f.addEventListener("versionchange",d=>a(d.oldVersion,d.newVersion,d))}).catch(()=>{}),h}function rp(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",r=>e(r.oldVersion,r)),Ci(n).then(()=>{})}const $4=["get","getKey","getAll","getAllKeys","count"],H4=["put","add","delete","clear"],sp=new Map;function Sx(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(sp.get(e))return sp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,a=H4.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||$4.includes(n)))return;const o=async function(u,...h){const f=this.transaction(u,a?"readwrite":"readonly");let d=f.store;return r&&(d=d.index(h.shift())),(await Promise.all([d[n](...h),a&&f.done]))[0]};return sp.set(e,o),o}U4(t=>({...t,get:(e,n,r)=>Sx(e,n)||t.get(e,n,r),has:(e,n)=>!!Sx(e,n)||t.has(e,n)}));class F4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(q4(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function q4(t){return t.getComponent()?.type==="VERSION"}const yg="@firebase/app",xx="0.14.7";const Di=new yE("@firebase/app"),K4="@firebase/app-compat",G4="@firebase/analytics-compat",Y4="@firebase/analytics",W4="@firebase/app-check-compat",X4="@firebase/app-check",J4="@firebase/auth",Q4="@firebase/auth-compat",Z4="@firebase/database",e6="@firebase/data-connect",t6="@firebase/database-compat",n6="@firebase/functions",i6="@firebase/functions-compat",r6="@firebase/installations",s6="@firebase/installations-compat",a6="@firebase/messaging",o6="@firebase/messaging-compat",l6="@firebase/performance",u6="@firebase/performance-compat",c6="@firebase/remote-config",h6="@firebase/remote-config-compat",d6="@firebase/storage",f6="@firebase/storage-compat",p6="@firebase/firestore",g6="@firebase/ai",m6="@firebase/firestore-compat",y6="firebase",v6="12.8.0";const vg="[DEFAULT]",b6={[yg]:"fire-core",[K4]:"fire-core-compat",[Y4]:"fire-analytics",[G4]:"fire-analytics-compat",[X4]:"fire-app-check",[W4]:"fire-app-check-compat",[J4]:"fire-auth",[Q4]:"fire-auth-compat",[Z4]:"fire-rtdb",[e6]:"fire-data-connect",[t6]:"fire-rtdb-compat",[n6]:"fire-fn",[i6]:"fire-fn-compat",[r6]:"fire-iid",[s6]:"fire-iid-compat",[a6]:"fire-fcm",[o6]:"fire-fcm-compat",[l6]:"fire-perf",[u6]:"fire-perf-compat",[c6]:"fire-rc",[h6]:"fire-rc-compat",[d6]:"fire-gcs",[f6]:"fire-gcs-compat",[p6]:"fire-fst",[m6]:"fire-fst-compat",[g6]:"fire-vertex","fire-js":"fire-js",[y6]:"fire-js-all"};const Sc=new Map,w6=new Map,bg=new Map;function _x(t,e){try{t.container.addComponent(e)}catch(n){Di.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ni(t){const e=t.name;if(bg.has(e))return Di.debug(`There were multiple attempts to register component ${e}.`),!1;bg.set(e,t);for(const n of Sc.values())_x(n,t);for(const n of w6.values())_x(n,t);return!0}function yl(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function wE(t){return t==null?!1:t.settings!==void 0}const S6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fr=new Vc("app","Firebase",S6);class x6{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ni("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fr.create("app-deleted",{appName:this._name})}}const _6=v6;function SE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:vg,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw fr.create("bad-app-name",{appName:String(a)});if(n||(n=fE()),!n)throw fr.create("no-options");const o=Sc.get(a);if(o){if(pg(n,o.options)&&pg(r,o.config))return o;throw fr.create("duplicate-app",{appName:a})}const u=new O4(a);for(const f of bg.values())u.addComponent(f);const h=new x6(n,r,u);return Sc.set(a,h),h}function xm(t=vg){const e=Sc.get(t);if(!e&&t===vg&&fE())return SE();if(!e)throw fr.create("no-app",{appName:t});return e}function Nn(t,e,n){let r=b6[t]??t;n&&(r+=`-${n}`);const a=r.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const u=[`Unable to register library "${r}" with version "${e}":`];a&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&o&&u.push("and"),o&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Di.warn(u.join(" "));return}Ni(new ni(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const T6="firebase-heartbeat-database",E6=1,al="firebase-heartbeat-store";let ap=null;function xE(){return ap||(ap=Hc(T6,E6,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(al)}catch(n){console.warn(n)}}}}).catch(t=>{throw fr.create("idb-open",{originalErrorMessage:t.message})})),ap}async function A6(t){try{const n=(await xE()).transaction(al),r=await n.objectStore(al).get(_E(t));return await n.done,r}catch(e){if(e instanceof yr)Di.warn(e.message);else{const n=fr.create("idb-get",{originalErrorMessage:e?.message});Di.warn(n.message)}}}async function Tx(t,e){try{const r=(await xE()).transaction(al,"readwrite");await r.objectStore(al).put(e,_E(t)),await r.done}catch(n){if(n instanceof yr)Di.warn(n.message);else{const r=fr.create("idb-set",{originalErrorMessage:n?.message});Di.warn(r.message)}}}function _E(t){return`${t.name}!${t.options.appId}`}const k6=1024,C6=30;class O6{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new D6(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Ex();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>C6){const a=N6(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Di.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Ex(),{heartbeatsToSend:n,unsentEntries:r}=R6(this._heartbeatsCache.heartbeats),a=wc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Di.warn(e),""}}}function Ex(){return new Date().toISOString().substring(0,10)}function R6(t,e=k6){const n=[];let r=t.slice();for(const a of t){const o=n.find(u=>u.agent===a.agent);if(o){if(o.dates.push(a.date),Ax(n)>e){o.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Ax(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class D6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return gE()?mE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await A6(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Tx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Tx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Ax(t){return wc(JSON.stringify({version:2,heartbeats:t})).length}function N6(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function j6(t){Ni(new ni("platform-logger",e=>new F4(e),"PRIVATE")),Ni(new ni("heartbeat",e=>new O6(e),"PRIVATE")),Nn(yg,xx,t),Nn(yg,xx,"esm2020"),Nn("fire-js","")}j6("");var kx="@firebase/ai",wg="2.7.0";const ya="AI",Cx="us-central1",M6="firebasevertexai.googleapis.com",xc="v1beta",Ox=wg,L6="gl-js",I6=180*1e3,P6="gemini-2.5-flash-lite";class Ce extends yr{constructor(e,n,r){const a=ya,o=`${a}/${e}`,u=`${a}: ${n} (${o})`;super(e,u),this.code=e,this.customErrorData=r,Error.captureStackTrace&&Error.captureStackTrace(this,Ce),Object.setPrototypeOf(this,Ce.prototype),this.toString=()=>u}}const Rx=["user","model","function","system"],TE={HARM_SEVERITY_UNSUPPORTED:"HARM_SEVERITY_UNSUPPORTED"},Dx={SAFETY:"SAFETY",RECITATION:"RECITATION"},Wr={PREFER_ON_DEVICE:"prefer_on_device",ONLY_ON_DEVICE:"only_on_device",ONLY_IN_CLOUD:"only_in_cloud",PREFER_IN_CLOUD:"prefer_in_cloud"},ur={ON_DEVICE:"on_device",IN_CLOUD:"in_cloud"};const Ee={ERROR:"error",REQUEST_ERROR:"request-error",RESPONSE_ERROR:"response-error",FETCH_ERROR:"fetch-error",SESSION_CLOSED:"session-closed",INVALID_CONTENT:"invalid-content",API_NOT_ENABLED:"api-not-enabled",INVALID_SCHEMA:"invalid-schema",NO_API_KEY:"no-api-key",NO_APP_ID:"no-app-id",NO_MODEL:"no-model",NO_PROJECT_ID:"no-project-id",PARSE_FAILED:"parse-failed",UNSUPPORTED:"unsupported"};const Mi={VERTEX_AI:"VERTEX_AI",GOOGLE_AI:"GOOGLE_AI"};class EE{constructor(e){this.backendType=e}}class _m extends EE{constructor(){super(Mi.GOOGLE_AI)}_getModelPath(e,n){return`/${xc}/projects/${e}/${n}`}_getTemplatePath(e,n){return`/${xc}/projects/${e}/templates/${n}`}}class Fc extends EE{constructor(e=Cx){super(Mi.VERTEX_AI),e?this.location=e:this.location=Cx}_getModelPath(e,n){return`/${xc}/projects/${e}/locations/${this.location}/${n}`}_getTemplatePath(e,n){return`/${xc}/projects/${e}/locations/${this.location}/templates/${n}`}}function B6(t){if(t instanceof _m)return`${ya}/googleai`;if(t instanceof Fc)return`${ya}/vertexai/${t.location}`;throw new Ce(Ee.ERROR,`Invalid backend: ${JSON.stringify(t.backendType)}`)}function U6(t){const e=t.split("/");if(e[0]!==ya)throw new Ce(Ee.ERROR,`Invalid instance identifier, unknown prefix '${e[0]}'`);switch(e[1]){case"vertexai":const r=e[2];if(!r)throw new Ce(Ee.ERROR,`Invalid instance identifier, unknown location '${t}'`);return new Fc(r);case"googleai":return new _m;default:throw new Ce(Ee.ERROR,`Invalid instance identifier string: '${t}'`)}}const Ht=new yE("@firebase/vertexai");var qr;(function(t){t.UNAVAILABLE="unavailable",t.DOWNLOADABLE="downloadable",t.DOWNLOADING="downloading",t.AVAILABLE="available"})(qr||(qr={}));const op=[{type:"image"}];class $n{constructor(e,n,r){this.languageModelProvider=e,this.mode=n,this.isDownloading=!1,this.onDeviceParams={createOptions:{expectedInputs:op}},r&&(this.onDeviceParams=r,this.onDeviceParams.createOptions?this.onDeviceParams.createOptions.expectedInputs||(this.onDeviceParams.createOptions.expectedInputs=op):this.onDeviceParams.createOptions={expectedInputs:op})}async isAvailable(e){if(!this.mode)return Ht.debug("On-device inference unavailable because mode is undefined."),!1;if(this.mode===Wr.ONLY_IN_CLOUD)return Ht.debug('On-device inference unavailable because mode is "only_in_cloud".'),!1;const n=await this.downloadIfAvailable();if(this.mode===Wr.ONLY_ON_DEVICE){if(n===qr.UNAVAILABLE)throw new Ce(Ee.API_NOT_ENABLED,"Local LanguageModel API not available in this environment.");return(n===qr.DOWNLOADABLE||n===qr.DOWNLOADING)&&(Ht.debug("Waiting for download of LanguageModel to complete."),await this.downloadPromise),!0}return n!==qr.AVAILABLE?(Ht.debug(`On-device inference unavailable because availability is "${n}".`),!1):$n.isOnDeviceRequest(e)?!0:(Ht.debug("On-device inference unavailable because request is incompatible."),!1)}async generateContent(e){const n=await this.createSession(),r=await Promise.all(e.contents.map($n.toLanguageModelMessage)),a=await n.prompt(r,this.onDeviceParams.promptOptions);return $n.toResponse(a)}async generateContentStream(e){const n=await this.createSession(),r=await Promise.all(e.contents.map($n.toLanguageModelMessage)),a=n.promptStreaming(r,this.onDeviceParams.promptOptions);return $n.toStreamResponse(a)}async countTokens(e){throw new Ce(Ee.REQUEST_ERROR,"Count Tokens is not yet available for on-device model.")}static isOnDeviceRequest(e){if(e.contents.length===0)return Ht.debug("Empty prompt rejected for on-device inference."),!1;for(const n of e.contents){if(n.role==="function")return Ht.debug('"Function" role rejected for on-device inference.'),!1;for(const r of n.parts)if(r.inlineData&&$n.SUPPORTED_MIME_TYPES.indexOf(r.inlineData.mimeType)===-1)return Ht.debug(`Unsupported mime type "${r.inlineData.mimeType}" rejected for on-device inference.`),!1}return!0}async downloadIfAvailable(){const e=await this.languageModelProvider?.availability(this.onDeviceParams.createOptions);return e===qr.DOWNLOADABLE&&this.download(),e}download(){this.isDownloading||(this.isDownloading=!0,this.downloadPromise=this.languageModelProvider?.create(this.onDeviceParams.createOptions).finally(()=>{this.isDownloading=!1}))}static async toLanguageModelMessage(e){const n=await Promise.all(e.parts.map($n.toLanguageModelMessageContent));return{role:$n.toLanguageModelMessageRole(e.role),content:n}}static async toLanguageModelMessageContent(e){if(e.text)return{type:"text",value:e.text};if(e.inlineData){const r=await(await fetch(`data:${e.inlineData.mimeType};base64,${e.inlineData.data}`)).blob();return{type:"image",value:await createImageBitmap(r)}}throw new Ce(Ee.REQUEST_ERROR,"Processing of this Part type is not currently supported.")}static toLanguageModelMessageRole(e){return e==="model"?"assistant":"user"}async createSession(){if(!this.languageModelProvider)throw new Ce(Ee.UNSUPPORTED,"Chrome AI requested for unsupported browser version.");const e=await this.languageModelProvider.create(this.onDeviceParams.createOptions);return this.oldSession&&this.oldSession.destroy(),this.oldSession=e,e}static toResponse(e){return{json:async()=>({candidates:[{content:{parts:[{text:e}]}}]})}}static toStreamResponse(e){const n=new TextEncoder;return{body:e.pipeThrough(new TransformStream({transform(r,a){const o=JSON.stringify({candidates:[{content:{role:"model",parts:[{text:r}]}}]});a.enqueue(n.encode(`data: ${o}

`))}}))}}}$n.SUPPORTED_MIME_TYPES=["image/jpeg","image/png"];function z6(t,e,n){if(typeof e<"u"&&t)return new $n(e.LanguageModel,t,n)}let V6=class{constructor(e,n,r,a,o){this.app=e,this.backend=n,this.chromeAdapterFactory=o;const u=a?.getImmediate({optional:!0}),h=r?.getImmediate({optional:!0});this.auth=h||null,this.appCheck=u||null,n instanceof Fc?this.location=n.location:this.location=""}_delete(){return Promise.resolve()}set options(e){this._options=e}get options(){return this._options}};function $6(t,{instanceIdentifier:e}){if(!e)throw new Ce(Ee.ERROR,"AIService instance identifier is undefined.");const n=U6(e),r=t.getProvider("app").getImmediate(),a=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return new V6(r,n,a,o,z6)}function H6(t){if(t.app?.options?.apiKey)if(t.app?.options?.projectId){if(!t.app?.options?.appId)throw new Ce(Ee.NO_APP_ID,'The "appId" field is empty in the local Firebase config. Firebase AI requires this field to contain a valid app ID.')}else throw new Ce(Ee.NO_PROJECT_ID,'The "projectId" field is empty in the local Firebase config. Firebase AI requires this field to contain a valid project ID.');else throw new Ce(Ee.NO_API_KEY,'The "apiKey" field is empty in the local Firebase config. Firebase AI requires this field to contain a valid API key.');const e={apiKey:t.app.options.apiKey,project:t.app.options.projectId,appId:t.app.options.appId,automaticDataCollectionEnabled:t.app.automaticDataCollectionEnabled,location:t.location,backend:t.backend};if(wE(t.app)&&t.app.settings.appCheckToken){const n=t.app.settings.appCheckToken;e.getAppCheckToken=()=>Promise.resolve({token:n})}else t.appCheck&&(t.options?.useLimitedUseAppCheckTokens?e.getAppCheckToken=()=>t.appCheck.getLimitedUseToken():e.getAppCheckToken=()=>t.appCheck.getToken());return t.auth&&(e.getAuthToken=()=>t.auth.getToken()),e}class Fo{constructor(e,n){this._apiSettings=H6(e),this.model=Fo.normalizeModelName(n,this._apiSettings.backend.backendType)}static normalizeModelName(e,n){return n===Mi.GOOGLE_AI?Fo.normalizeGoogleAIModelName(e):Fo.normalizeVertexAIModelName(e)}static normalizeGoogleAIModelName(e){return`models/${e}`}static normalizeVertexAIModelName(e){let n;return e.includes("/")?e.startsWith("models/")?n=`publishers/google/${e}`:n=e:n=`publishers/google/models/${e}`,n}}const F6="Timeout has expired.",lp="AbortError";class q6{constructor(e){this.params=e}toString(){const e=new URL(this.baseUrl);return e.pathname=this.pathname,e.search=this.queryParams.toString(),e.toString()}get pathname(){return this.params.templateId?`${this.params.apiSettings.backend._getTemplatePath(this.params.apiSettings.project,this.params.templateId)}:${this.params.task}`:`${this.params.apiSettings.backend._getModelPath(this.params.apiSettings.project,this.params.model)}:${this.params.task}`}get baseUrl(){return this.params.singleRequestOptions?.baseUrl??`https://${M6}`}get queryParams(){const e=new URLSearchParams;return this.params.stream&&e.set("alt","sse"),e}}function K6(){const t=[];return t.push(`${L6}/${Ox}`),t.push(`fire/${Ox}`),t.join(" ")}async function G6(t){const e=new Headers;if(e.append("Content-Type","application/json"),e.append("x-goog-api-client",K6()),e.append("x-goog-api-key",t.params.apiSettings.apiKey),t.params.apiSettings.automaticDataCollectionEnabled&&e.append("X-Firebase-Appid",t.params.apiSettings.appId),t.params.apiSettings.getAppCheckToken){const n=await t.params.apiSettings.getAppCheckToken();n&&(e.append("X-Firebase-AppCheck",n.token),n.error&&Ht.warn(`Unable to obtain a valid App Check token: ${n.error.message}`))}if(t.params.apiSettings.getAuthToken){const n=await t.params.apiSettings.getAuthToken();n&&e.append("Authorization",`Firebase ${n.accessToken}`)}return e}async function Tm(t,e){const n=new q6(t);let r;const a=t.singleRequestOptions?.signal,o=t.singleRequestOptions?.timeout!=null&&t.singleRequestOptions.timeout>=0?t.singleRequestOptions.timeout:I6,u=new AbortController,h=setTimeout(()=>{u.abort(new DOMException(F6,lp)),Ht.debug(`Aborting request to ${n} due to timeout (${o}ms)`)},o),f=AbortSignal.any(a?[a,u.signal]:[u.signal]);if(a&&a.aborted)throw clearTimeout(h),new DOMException(a.reason??"Aborted externally before fetch",lp);try{const d={method:"POST",headers:await G6(n),signal:f,body:e};if(r=await fetch(n.toString(),d),!r.ok){let g="",y;try{const v=await r.json();g=v.error.message,v.error.details&&(g+=` ${JSON.stringify(v.error.details)}`,y=v.error.details)}catch{}throw r.status===403&&y&&y.some(v=>v.reason==="SERVICE_DISABLED")&&y.some(v=>v.links?.[0]?.description.includes("Google developers console API activation"))?new Ce(Ee.API_NOT_ENABLED,`The Firebase AI SDK requires the Firebase AI API ('firebasevertexai.googleapis.com') to be enabled in your Firebase project. Enable this API by visiting the Firebase Console at https://console.firebase.google.com/project/${n.params.apiSettings.project}/ailogic/ and clicking "Get started". If you enabled this API recently, wait a few minutes for the action to propagate to our systems and then retry.`,{status:r.status,statusText:r.statusText,errorDetails:y}):new Ce(Ee.FETCH_ERROR,`Error fetching from ${n}: [${r.status} ${r.statusText}] ${g}`,{status:r.status,statusText:r.statusText,errorDetails:y})}}catch(d){let g=d;throw d.code!==Ee.FETCH_ERROR&&d.code!==Ee.API_NOT_ENABLED&&d instanceof Error&&d.name!==lp&&(g=new Ce(Ee.ERROR,`Error fetching from ${n.toString()}: ${d.message}`),g.stack=d.stack),g}finally{clearTimeout(h)}return r}function Qu(t){if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&Ht.warn(`This response had ${t.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),AE(t.candidates[0]))throw new Ce(Ee.RESPONSE_ERROR,`Response error: ${Xr(t)}. Response body stored in error.response`,{response:t});return!0}else return!1}function _c(t,e=ur.IN_CLOUD){t.candidates&&!t.candidates[0].hasOwnProperty("index")&&(t.candidates[0].index=0);const n=Y6(t);return n.inferenceSource=e,n}function Y6(t){return t.text=()=>{if(Qu(t))return Nx(t,e=>!e.thought);if(t.promptFeedback)throw new Ce(Ee.RESPONSE_ERROR,`Text not available. ${Xr(t)}`,{response:t});return""},t.thoughtSummary=()=>{if(Qu(t)){const e=Nx(t,n=>!!n.thought);return e===""?void 0:e}else if(t.promptFeedback)throw new Ce(Ee.RESPONSE_ERROR,`Thought summary not available. ${Xr(t)}`,{response:t})},t.inlineDataParts=()=>{if(Qu(t))return X6(t);if(t.promptFeedback)throw new Ce(Ee.RESPONSE_ERROR,`Data not available. ${Xr(t)}`,{response:t})},t.functionCalls=()=>{if(Qu(t))return W6(t);if(t.promptFeedback)throw new Ce(Ee.RESPONSE_ERROR,`Function call not available. ${Xr(t)}`,{response:t})},t}function Nx(t,e){const n=[];if(t.candidates?.[0].content?.parts)for(const r of t.candidates?.[0].content?.parts)r.text&&e(r)&&n.push(r.text);return n.length>0?n.join(""):""}function W6(t){const e=[];if(t.candidates?.[0].content?.parts)for(const n of t.candidates?.[0].content?.parts)n.functionCall&&e.push(n.functionCall);if(e.length>0)return e}function X6(t){const e=[];if(t.candidates?.[0].content?.parts)for(const n of t.candidates?.[0].content?.parts)n.inlineData&&e.push(n);if(e.length>0)return e}const J6=[Dx.RECITATION,Dx.SAFETY];function AE(t){return!!t.finishReason&&J6.some(e=>e===t.finishReason)}function Xr(t){let e="";if((!t.candidates||t.candidates.length===0)&&t.promptFeedback)e+="Response was blocked",t.promptFeedback?.blockReason&&(e+=` due to ${t.promptFeedback.blockReason}`),t.promptFeedback?.blockReasonMessage&&(e+=`: ${t.promptFeedback.blockReasonMessage}`);else if(t.candidates?.[0]){const n=t.candidates[0];AE(n)&&(e+=`Candidate was blocked due to ${n.finishReason}`,n.finishMessage&&(e+=`: ${n.finishMessage}`))}return e}function kE(t){if(t.safetySettings?.forEach(e=>{if(e.method)throw new Ce(Ee.UNSUPPORTED,"SafetySetting.method is not supported in the the Gemini Developer API. Please remove this property.")}),t.generationConfig?.topK){const e=Math.round(t.generationConfig.topK);e!==t.generationConfig.topK&&(Ht.warn("topK in GenerationConfig has been rounded to the nearest integer to match the format for requests to the Gemini Developer API."),t.generationConfig.topK=e)}return t}function Em(t){return{candidates:t.candidates?Z6(t.candidates):void 0,prompt:t.promptFeedback?ez(t.promptFeedback):void 0,usageMetadata:t.usageMetadata}}function Q6(t,e){return{generateContentRequest:{model:e,...t}}}function Z6(t){const e=[];let n;return e&&t.forEach(r=>{let a;if(r.citationMetadata&&(a={citations:r.citationMetadata.citationSources}),r.safetyRatings&&(n=r.safetyRatings.map(u=>({...u,severity:u.severity??TE.HARM_SEVERITY_UNSUPPORTED,probabilityScore:u.probabilityScore??0,severityScore:u.severityScore??0}))),r.content?.parts?.some(u=>u?.videoMetadata))throw new Ce(Ee.UNSUPPORTED,"Part.videoMetadata is not supported in the Gemini Developer API. Please remove this property.");const o={index:r.index,content:r.content,finishReason:r.finishReason,finishMessage:r.finishMessage,safetyRatings:n,citationMetadata:a,groundingMetadata:r.groundingMetadata,urlContextMetadata:r.urlContextMetadata};e.push(o)}),e}function ez(t){const e=[];return t.safetyRatings.forEach(r=>{e.push({category:r.category,probability:r.probability,severity:r.severity??TE.HARM_SEVERITY_UNSUPPORTED,probabilityScore:r.probabilityScore??0,severityScore:r.severityScore??0,blocked:r.blocked})}),{blockReason:t.blockReason,safetyRatings:e,blockReasonMessage:t.blockReasonMessage}}const jx=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function tz(t,e,n){const r=t.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),a=rz(r),[o,u]=a.tee();return{stream:iz(o,e,n),response:nz(u,e,n)}}async function nz(t,e,n){const r=[],a=t.getReader();for(;;){const{done:o,value:u}=await a.read();if(o){let h=sz(r);return e.backend.backendType===Mi.GOOGLE_AI&&(h=Em(h)),_c(h,n)}r.push(u)}}async function*iz(t,e,n){const r=t.getReader();for(;;){const{value:a,done:o}=await r.read();if(o)break;let u;e.backend.backendType===Mi.GOOGLE_AI?u=_c(Em(a),n):u=_c(a,n);const h=u.candidates?.[0];!h?.content?.parts&&!h?.finishReason&&!h?.citationMetadata&&!h?.urlContextMetadata||(yield u)}}function rz(t){const e=t.getReader();return new ReadableStream({start(r){let a="";return o();function o(){return e.read().then(({value:u,done:h})=>{if(h){if(a.trim()){r.error(new Ce(Ee.PARSE_FAILED,"Failed to parse stream"));return}r.close();return}a+=u;let f=a.match(jx),d;for(;f;){try{d=JSON.parse(f[1])}catch{r.error(new Ce(Ee.PARSE_FAILED,`Error parsing JSON response: "${f[1]}`));return}r.enqueue(d),a=a.substring(f[0].length),f=a.match(jx)}return o()})}}})}function sz(t){const n={promptFeedback:t[t.length-1]?.promptFeedback};for(const r of t)if(r.candidates)for(const a of r.candidates){const o=a.index||0;n.candidates||(n.candidates=[]),n.candidates[o]||(n.candidates[o]={index:a.index}),n.candidates[o].citationMetadata=a.citationMetadata,n.candidates[o].finishReason=a.finishReason,n.candidates[o].finishMessage=a.finishMessage,n.candidates[o].safetyRatings=a.safetyRatings,n.candidates[o].groundingMetadata=a.groundingMetadata;const u=a.urlContextMetadata;if(typeof u=="object"&&u!==null&&Object.keys(u).length>0&&(n.candidates[o].urlContextMetadata=u),a.content){if(!a.content.parts)continue;n.candidates[o].content||(n.candidates[o].content={role:a.content.role||"user",parts:[]});for(const h of a.content.parts){const f={...h};h.text!==""&&Object.keys(f).length>0&&n.candidates[o].content.parts.push(f)}}}return n}const az=[Ee.FETCH_ERROR,Ee.ERROR,Ee.API_NOT_ENABLED];async function CE(t,e,n,r){if(!e)return{response:await r(),inferenceSource:ur.IN_CLOUD};switch(e.mode){case Wr.ONLY_ON_DEVICE:if(await e.isAvailable(t))return{response:await n(),inferenceSource:ur.ON_DEVICE};throw new Ce(Ee.UNSUPPORTED,"Inference mode is ONLY_ON_DEVICE, but an on-device model is not available.");case Wr.ONLY_IN_CLOUD:return{response:await r(),inferenceSource:ur.IN_CLOUD};case Wr.PREFER_IN_CLOUD:try{return{response:await r(),inferenceSource:ur.IN_CLOUD}}catch(a){if(a instanceof Ce&&az.includes(a.code))return{response:await n(),inferenceSource:ur.ON_DEVICE};throw a}case Wr.PREFER_ON_DEVICE:return await e.isAvailable(t)?{response:await n(),inferenceSource:ur.ON_DEVICE}:{response:await r(),inferenceSource:ur.IN_CLOUD};default:throw new Ce(Ee.ERROR,`Unexpected infererence mode: ${e.mode}`)}}async function oz(t,e,n,r){return t.backend.backendType===Mi.GOOGLE_AI&&(n=kE(n)),Tm({task:"streamGenerateContent",model:e,apiSettings:t,stream:!0,singleRequestOptions:r},JSON.stringify(n))}async function OE(t,e,n,r,a){const o=await CE(n,r,()=>r.generateContentStream(n),()=>oz(t,e,n,a));return tz(o.response,t,o.inferenceSource)}async function lz(t,e,n,r){return t.backend.backendType===Mi.GOOGLE_AI&&(n=kE(n)),Tm({model:e,task:"generateContent",apiSettings:t,stream:!1,singleRequestOptions:r},JSON.stringify(n))}async function RE(t,e,n,r,a){const o=await CE(n,r,()=>r.generateContent(n),()=>lz(t,e,n,a)),u=await uz(o.response,t);return{response:_c(u,o.inferenceSource)}}async function uz(t,e){const n=await t.json();return e.backend.backendType===Mi.GOOGLE_AI?Em(n):n}function DE(t){if(t!=null){if(typeof t=="string")return{role:"system",parts:[{text:t}]};if(t.text)return{role:"system",parts:[t]};if(t.parts)return t.role?t:{role:"system",parts:t.parts}}}function Sg(t){let e=[];if(typeof t=="string")e=[{text:t}];else for(const n of t)typeof n=="string"?e.push({text:n}):e.push(n);return cz(e)}function cz(t){const e={role:"user",parts:[]},n={role:"function",parts:[]};let r=!1,a=!1;for(const o of t)"functionResponse"in o?(n.parts.push(o),a=!0):(e.parts.push(o),r=!0);if(r&&a)throw new Ce(Ee.INVALID_CONTENT,"Within a single message, FunctionResponse cannot be mixed with other type of Part in the request for sending chat message.");if(!r&&!a)throw new Ce(Ee.INVALID_CONTENT,"No Content is provided for sending chat message.");return r?e:n}function up(t){let e;return t.contents?e=t:e={contents:[Sg(t)]},t.systemInstruction&&(e.systemInstruction=DE(t.systemInstruction)),e}const Mx=["text","inlineData","functionCall","functionResponse","thought","thoughtSignature"],hz={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","thought","thoughtSignature"],system:["text"]},Lx={user:["model"],function:["model"],model:["user","function"],system:[]};function dz(t){let e=null;for(const n of t){const{role:r,parts:a}=n;if(!e&&r!=="user")throw new Ce(Ee.INVALID_CONTENT,`First Content should be with role 'user', got ${r}`);if(!Rx.includes(r))throw new Ce(Ee.INVALID_CONTENT,`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify(Rx)}`);if(!Array.isArray(a))throw new Ce(Ee.INVALID_CONTENT,"Content should have 'parts' property with an array of Parts");if(a.length===0)throw new Ce(Ee.INVALID_CONTENT,"Each Content should have at least one part");const o={text:0,inlineData:0,functionCall:0,functionResponse:0,thought:0,thoughtSignature:0,executableCode:0,codeExecutionResult:0};for(const h of a)for(const f of Mx)f in h&&(o[f]+=1);const u=hz[r];for(const h of Mx)if(!u.includes(h)&&o[h]>0)throw new Ce(Ee.INVALID_CONTENT,`Content with role '${r}' can't contain '${h}' part`);if(e&&!Lx[r].includes(e.role))throw new Ce(Ee.INVALID_CONTENT,`Content with role '${r}' can't follow '${e.role}'. Valid previous roles: ${JSON.stringify(Lx)}`);e=n}}const Ix="SILENT_ERROR";class fz{constructor(e,n,r,a,o){this.model=n,this.chromeAdapter=r,this.params=a,this.requestOptions=o,this._history=[],this._sendPromise=Promise.resolve(),this._apiSettings=e,a?.history&&(dz(a.history),this._history=a.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e,n){await this._sendPromise;const r=Sg(e),a={safetySettings:this.params?.safetySettings,generationConfig:this.params?.generationConfig,tools:this.params?.tools,toolConfig:this.params?.toolConfig,systemInstruction:this.params?.systemInstruction,contents:[...this._history,r]};let o={};return this._sendPromise=this._sendPromise.then(()=>RE(this._apiSettings,this.model,a,this.chromeAdapter,{...this.requestOptions,...n})).then(u=>{if(u.response.candidates&&u.response.candidates.length>0){this._history.push(r);const h={parts:u.response.candidates?.[0].content.parts||[],role:u.response.candidates?.[0].content.role||"model"};this._history.push(h)}else{const h=Xr(u.response);h&&Ht.warn(`sendMessage() was unsuccessful. ${h}. Inspect response object for details.`)}o=u}),await this._sendPromise,o}async sendMessageStream(e,n){await this._sendPromise;const r=Sg(e),a={safetySettings:this.params?.safetySettings,generationConfig:this.params?.generationConfig,tools:this.params?.tools,toolConfig:this.params?.toolConfig,systemInstruction:this.params?.systemInstruction,contents:[...this._history,r]},o=OE(this._apiSettings,this.model,a,this.chromeAdapter,{...this.requestOptions,...n});return this._sendPromise=this._sendPromise.then(()=>o).catch(u=>{throw new Error(Ix)}).then(u=>u.response).then(u=>{if(u.candidates&&u.candidates.length>0){this._history.push(r);const h={...u.candidates[0].content};h.role||(h.role="model"),this._history.push(h)}else{const h=Xr(u);h&&Ht.warn(`sendMessageStream() was unsuccessful. ${h}. Inspect response object for details.`)}}).catch(u=>{u.message!==Ix&&u.name!=="AbortError"&&Ht.error(u)}),o}}async function pz(t,e,n,r){let a="";if(t.backend.backendType===Mi.GOOGLE_AI){const u=Q6(n,e);a=JSON.stringify(u)}else a=JSON.stringify(n);return(await Tm({model:e,task:"countTokens",apiSettings:t,stream:!1,singleRequestOptions:r},a)).json()}async function gz(t,e,n,r,a){if(r?.mode===Wr.ONLY_ON_DEVICE)throw new Ce(Ee.UNSUPPORTED,"countTokens() is not supported for on-device models.");return pz(t,e,n,a)}class mz extends Fo{constructor(e,n,r,a){super(e,n.model),this.chromeAdapter=a,this.generationConfig=n.generationConfig||{},yz(this.generationConfig),this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=DE(n.systemInstruction),this.requestOptions=r||{}}async generateContent(e,n){const r=up(e);return RE(this._apiSettings,this.model,{generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,...r},this.chromeAdapter,{...this.requestOptions,...n})}async generateContentStream(e,n){const r=up(e);return OE(this._apiSettings,this.model,{generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,...r},this.chromeAdapter,{...this.requestOptions,...n})}startChat(e){return new fz(this._apiSettings,this.model,this.chromeAdapter,{tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,generationConfig:this.generationConfig,safetySettings:this.safetySettings,...e},this.requestOptions)}async countTokens(e,n){const r=up(e);return gz(this._apiSettings,this.model,r,this.chromeAdapter,{...this.requestOptions,...n})}}function yz(t){if(t.thinkingConfig?.thinkingBudget!=null&&t.thinkingConfig?.thinkingLevel)throw new Ce(Ee.UNSUPPORTED,"Cannot set both thinkingBudget and thinkingLevel in a config.")}function vz(t=xm(),e){t=$c(t);const n=yl(t,ya),r=e?.backend??new _m,a={useLimitedUseAppCheckTokens:e?.useLimitedUseAppCheckTokens??!1},o=B6(r),u=n.getImmediate({identifier:o});return u.options=a,u}function bz(t,e,n){const r=e;let a;if(r.mode?a=r.inCloudParams||{model:P6}:a=e,!a.model)throw new Ce(Ee.NO_MODEL,"Must provide a model name. Example: getGenerativeModel({ model: 'my-model-name' })");const o=t.chromeAdapterFactory?.(r.mode,typeof window>"u"?void 0:window,r.onDeviceParams);return new mz(t,a,n,o)}function wz(){Ni(new ni(ya,$6,"PUBLIC").setMultipleInstances(!0)),Nn(kx,wg),Nn(kx,wg,"esm2020")}wz();var Sz="firebase",xz="12.8.0";Nn(Sz,xz,"app");const NE="firebasestorage.googleapis.com",_z="storageBucket",Tz=120*1e3,Ez=600*1e3;class ri extends yr{constructor(e,n,r=0){super(cp(e),`Firebase Storage: ${n} (${cp(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ri.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return cp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ii;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ii||(ii={}));function cp(t){return"storage/"+t}function Az(){const t="An unknown error occurred, please check the error payload for server response.";return new ri(ii.UNKNOWN,t)}function kz(){return new ri(ii.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Cz(){return new ri(ii.CANCELED,"User canceled the upload/download.")}function Oz(t){return new ri(ii.INVALID_URL,"Invalid URL '"+t+"'.")}function Rz(t){return new ri(ii.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Px(t){return new ri(ii.INVALID_ARGUMENT,t)}function jE(){return new ri(ii.APP_DELETED,"The Firebase app was deleted.")}function Dz(t){return new ri(ii.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class Fn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Fn.makeFromUrl(e,n)}catch{return new Fn(e,"")}if(r.path==="")return r;throw Rz(e)}static makeFromUrl(e,n){let r=null;const a="([A-Za-z0-9.\\-_]+)";function o(D){D.path.charAt(D.path.length-1)==="/"&&(D.path_=D.path_.slice(0,-1))}const u="(/(.*))?$",h=new RegExp("^gs://"+a+u,"i"),f={bucket:1,path:3};function d(D){D.path_=decodeURIComponent(D.path)}const g="v[A-Za-z0-9_]+",y=n.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",b=new RegExp(`^https?://${y}/${g}/b/${a}/o${v}`,"i"),x={bucket:1,path:3},E=n===NE?"(?:storage.googleapis.com|storage.cloud.google.com)":n,T="([^?#]*)",A=new RegExp(`^https?://${E}/${a}/${T}`,"i"),C=[{regex:h,indices:f,postModify:o},{regex:b,indices:x,postModify:d},{regex:A,indices:{bucket:1,path:2},postModify:d}];for(let D=0;D<C.length;D++){const $=C[D],M=$.regex.exec(e);if(M){const F=M[$.indices.bucket];let Y=M[$.indices.path];Y||(Y=""),r=new Fn(F,Y),$.postModify(r);break}}if(r==null)throw Oz(e);return r}}class Nz{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function jz(t,e,n){let r=1,a=null,o=null,u=!1,h=0;function f(){return h===2}let d=!1;function g(...T){d||(d=!0,e.apply(null,T))}function y(T){a=setTimeout(()=>{a=null,t(b,f())},T)}function v(){o&&clearTimeout(o)}function b(T,...A){if(d){v();return}if(T){v(),g.call(null,T,...A);return}if(f()||u){v(),g.call(null,T,...A);return}r<64&&(r*=2);let C;h===1?(h=2,C=0):C=(r+Math.random())*1e3,y(C)}let x=!1;function E(T){x||(x=!0,v(),!d&&(a!==null?(T||(h=2),clearTimeout(a),y(0)):T||(h=1)))}return y(0),o=setTimeout(()=>{u=!0,E(!0)},n),E}function Mz(t){t(!1)}function Lz(t){return t!==void 0}function Bx(t,e,n,r){if(r<e)throw Px(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Px(`Invalid value for '${t}'. Expected ${n} or less.`)}function Iz(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const a=e(r)+"="+e(t[r]);n=n+a+"&"}return n=n.slice(0,-1),n}var Tc;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Tc||(Tc={}));function Pz(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||a||o}class Bz{constructor(e,n,r,a,o,u,h,f,d,g,y,v=!0,b=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=a,this.successCodes_=o,this.additionalRetryCodes_=u,this.callback_=h,this.errorCallback_=f,this.timeout_=d,this.progressCallback_=g,this.connectionFactory_=y,this.retry=v,this.isUsingEmulator=b,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,E)=>{this.resolve_=x,this.reject_=E,this.start_()})}start_(){const e=(r,a)=>{if(a){r(!1,new Zu(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const u=h=>{const f=h.loaded,d=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,d)};this.progressCallback_!==null&&o.addUploadProgressListener(u),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(u),this.pendingConnection_=null;const h=o.getErrorCode()===Tc.NO_ERROR,f=o.getStatus();if(!h||Pz(f,this.additionalRetryCodes_)&&this.retry){const g=o.getErrorCode()===Tc.ABORT;r(!1,new Zu(!1,null,g));return}const d=this.successCodes_.indexOf(f)!==-1;r(!0,new Zu(d,o))})},n=(r,a)=>{const o=this.resolve_,u=this.reject_,h=a.connection;if(a.wasSuccessCode)try{const f=this.callback_(h,h.getResponse());Lz(f)?o(f):o()}catch(f){u(f)}else if(h!==null){const f=Az();f.serverResponse=h.getErrorText(),this.errorCallback_?u(this.errorCallback_(h,f)):u(f)}else if(a.canceled){const f=this.appDelete_?jE():Cz();u(f)}else{const f=kz();u(f)}};this.canceled_?n(!1,new Zu(!1,null,!0)):this.backoffId_=jz(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Mz(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Zu{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Uz(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function zz(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Vz(t,e){e&&(t["X-Firebase-GMPID"]=e)}function $z(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Hz(t,e,n,r,a,o,u=!0,h=!1){const f=Iz(t.urlParams),d=t.url+f,g=Object.assign({},t.headers);return Vz(g,e),Uz(g,n),zz(g,o),$z(g,r),new Bz(d,t.method,g,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,u,h)}function Fz(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function qz(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}class Ec{constructor(e,n){this._service=e,n instanceof Fn?this._location=n:this._location=Fn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ec(e,n)}get root(){const e=new Fn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return qz(this._location.path)}get storage(){return this._service}get parent(){const e=Fz(this._location.path);if(e===null)return null;const n=new Fn(this._location.bucket,e);return new Ec(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Dz(e)}}function Ux(t,e){const n=e?.[_z];return n==null?null:Fn.makeFromBucketSpec(n,t)}function Kz(t,e,n,r={}){t.host=`${e}:${n}`;const a=pE(e);a&&(y4(`https://${t.host}/b`),S4("Storage",!0)),t._isUsingEmulator=!0,t._protocol=a?"https":"http";const{mockUserToken:o}=r;o&&(t._overrideAuthToken=typeof o=="string"?o:v4(o,t.app.options.projectId))}class Gz{constructor(e,n,r,a,o,u=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=a,this._firebaseVersion=o,this._isUsingEmulator=u,this._bucket=null,this._host=NE,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Tz,this._maxUploadRetryTime=Ez,this._requests=new Set,a!=null?this._bucket=Fn.makeFromBucketSpec(a,this._host):this._bucket=Ux(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Fn.makeFromBucketSpec(this._url,e):this._bucket=Ux(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Bx("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Bx("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(wE(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ec(this,e)}_makeRequest(e,n,r,a,o=!0){if(this._deleted)return new Nz(jE());{const u=Hz(e,this._appId,r,a,n,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,n){const[r,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,a).getPromise()}}const zx="@firebase/storage",Vx="0.14.0";const ME="storage";function Yz(t=xm(),e){t=$c(t);const r=yl(t,ME).getImmediate({identifier:e}),a=g4("storage");return a&&Wz(r,...a),r}function Wz(t,e,n,r={}){Kz(t,e,n,r)}function Xz(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new Gz(n,r,a,e,_6)}function Jz(){Ni(new ni(ME,Xz,"PUBLIC").setMultipleInstances(!0)),Nn(zx,Vx,""),Nn(zx,Vx,"esm2020")}Jz();const LE="@firebase/installations",Am="0.6.19";const IE=1e4,PE=`w:${Am}`,BE="FIS_v2",Qz="https://firebaseinstallations.googleapis.com/v1",Zz=3600*1e3,e5="installations",t5="Installations";const n5={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ts=new Vc(e5,t5,n5);function UE(t){return t instanceof yr&&t.code.includes("request-failed")}function zE({projectId:t}){return`${Qz}/projects/${t}/installations`}function VE(t){return{token:t.token,requestStatus:2,expiresIn:r5(t.expiresIn),creationTime:Date.now()}}async function $E(t,e){const r=(await e.json()).error;return ts.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function HE({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function i5(t,{refreshToken:e}){const n=HE(t);return n.append("Authorization",s5(e)),n}async function FE(t){const e=await t();return e.status>=500&&e.status<600?t():e}function r5(t){return Number(t.replace("s","000"))}function s5(t){return`${BE} ${t}`}async function a5({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=zE(t),a=HE(t),o=e.getImmediate({optional:!0});if(o){const d=await o.getHeartbeatsHeader();d&&a.append("x-firebase-client",d)}const u={fid:n,authVersion:BE,appId:t.appId,sdkVersion:PE},h={method:"POST",headers:a,body:JSON.stringify(u)},f=await FE(()=>fetch(r,h));if(f.ok){const d=await f.json();return{fid:d.fid||n,registrationStatus:2,refreshToken:d.refreshToken,authToken:VE(d.authToken)}}else throw await $E("Create Installation",f)}function qE(t){return new Promise(e=>{setTimeout(e,t)})}function o5(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}const l5=/^[cdef][\w-]{21}$/,xg="";function u5(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=c5(t);return l5.test(n)?n:xg}catch{return xg}}function c5(t){return o5(t).substr(0,22)}function qc(t){return`${t.appName}!${t.appId}`}const KE=new Map;function GE(t,e){const n=qc(t);YE(n,e),h5(n,e)}function YE(t,e){const n=KE.get(t);if(n)for(const r of n)r(e)}function h5(t,e){const n=d5();n&&n.postMessage({key:t,fid:e}),f5()}let Jr=null;function d5(){return!Jr&&"BroadcastChannel"in self&&(Jr=new BroadcastChannel("[Firebase] FID Change"),Jr.onmessage=t=>{YE(t.data.key,t.data.fid)}),Jr}function f5(){KE.size===0&&Jr&&(Jr.close(),Jr=null)}const p5="firebase-installations-database",g5=1,ns="firebase-installations-store";let hp=null;function km(){return hp||(hp=Hc(p5,g5,{upgrade:(t,e)=>{e===0&&t.createObjectStore(ns)}})),hp}async function Ac(t,e){const n=qc(t),a=(await km()).transaction(ns,"readwrite"),o=a.objectStore(ns),u=await o.get(n);return await o.put(e,n),await a.done,(!u||u.fid!==e.fid)&&GE(t,e.fid),e}async function WE(t){const e=qc(t),r=(await km()).transaction(ns,"readwrite");await r.objectStore(ns).delete(e),await r.done}async function Kc(t,e){const n=qc(t),a=(await km()).transaction(ns,"readwrite"),o=a.objectStore(ns),u=await o.get(n),h=e(u);return h===void 0?await o.delete(n):await o.put(h,n),await a.done,h&&(!u||u.fid!==h.fid)&&GE(t,h.fid),h}async function Cm(t){let e;const n=await Kc(t.appConfig,r=>{const a=m5(r),o=y5(t,a);return e=o.registrationPromise,o.installationEntry});return n.fid===xg?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function m5(t){const e=t||{fid:u5(),registrationStatus:0};return XE(e)}function y5(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(ts.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=v5(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:b5(t)}:{installationEntry:e}}async function v5(t,e){try{const n=await a5(t,e);return Ac(t.appConfig,n)}catch(n){throw UE(n)&&n.customData.serverCode===409?await WE(t.appConfig):await Ac(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function b5(t){let e=await $x(t.appConfig);for(;e.registrationStatus===1;)await qE(100),e=await $x(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Cm(t);return r||n}return e}function $x(t){return Kc(t,e=>{if(!e)throw ts.create("installation-not-found");return XE(e)})}function XE(t){return w5(t)?{fid:t.fid,registrationStatus:0}:t}function w5(t){return t.registrationStatus===1&&t.registrationTime+IE<Date.now()}async function S5({appConfig:t,heartbeatServiceProvider:e},n){const r=x5(t,n),a=i5(t,n),o=e.getImmediate({optional:!0});if(o){const d=await o.getHeartbeatsHeader();d&&a.append("x-firebase-client",d)}const u={installation:{sdkVersion:PE,appId:t.appId}},h={method:"POST",headers:a,body:JSON.stringify(u)},f=await FE(()=>fetch(r,h));if(f.ok){const d=await f.json();return VE(d)}else throw await $E("Generate Auth Token",f)}function x5(t,{fid:e}){return`${zE(t)}/${e}/authTokens:generate`}async function Om(t,e=!1){let n;const r=await Kc(t.appConfig,o=>{if(!JE(o))throw ts.create("not-registered");const u=o.authToken;if(!e&&E5(u))return o;if(u.requestStatus===1)return n=_5(t,e),o;{if(!navigator.onLine)throw ts.create("app-offline");const h=k5(o);return n=T5(t,h),h}});return n?await n:r.authToken}async function _5(t,e){let n=await Hx(t.appConfig);for(;n.authToken.requestStatus===1;)await qE(100),n=await Hx(t.appConfig);const r=n.authToken;return r.requestStatus===0?Om(t,e):r}function Hx(t){return Kc(t,e=>{if(!JE(e))throw ts.create("not-registered");const n=e.authToken;return C5(n)?{...e,authToken:{requestStatus:0}}:e})}async function T5(t,e){try{const n=await S5(t,e),r={...e,authToken:n};return await Ac(t.appConfig,r),n}catch(n){if(UE(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await WE(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await Ac(t.appConfig,r)}throw n}}function JE(t){return t!==void 0&&t.registrationStatus===2}function E5(t){return t.requestStatus===2&&!A5(t)}function A5(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+Zz}function k5(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function C5(t){return t.requestStatus===1&&t.requestTime+IE<Date.now()}async function O5(t){const e=t,{installationEntry:n,registrationPromise:r}=await Cm(e);return r?r.catch(console.error):Om(e).catch(console.error),n.fid}async function R5(t,e=!1){const n=t;return await D5(n),(await Om(n,e)).token}async function D5(t){const{registrationPromise:e}=await Cm(t);e&&await e}function N5(t){if(!t||!t.options)throw dp("App Configuration");if(!t.name)throw dp("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw dp(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function dp(t){return ts.create("missing-app-config-values",{valueName:t})}const QE="installations",j5="installations-internal",M5=t=>{const e=t.getProvider("app").getImmediate(),n=N5(e),r=yl(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},L5=t=>{const e=t.getProvider("app").getImmediate(),n=yl(e,QE).getImmediate();return{getId:()=>O5(n),getToken:a=>R5(n,a)}};function I5(){Ni(new ni(QE,M5,"PUBLIC")),Ni(new ni(j5,L5,"PRIVATE"))}I5();Nn(LE,Am);Nn(LE,Am,"esm2020");const P5="/firebase-messaging-sw.js",B5="/firebase-cloud-messaging-push-scope",ZE="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",U5="https://fcmregistrations.googleapis.com/v1",eA="google.c.a.c_id",z5="google.c.a.c_l",V5="google.c.a.ts",$5="google.c.a.e",Fx=1e4;var qx;(function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(qx||(qx={}));var ol;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(ol||(ol={}));function Ai(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function H5(t){const e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),a=new Uint8Array(r.length);for(let o=0;o<r.length;++o)a[o]=r.charCodeAt(o);return a}const fp="fcm_token_details_db",F5=5,Kx="fcm_token_object_Store";async function q5(t){if("databases"in indexedDB&&!(await indexedDB.databases()).map(o=>o.name).includes(fp))return null;let e=null;return(await Hc(fp,F5,{upgrade:async(r,a,o,u)=>{if(a<2||!r.objectStoreNames.contains(Kx))return;const h=u.objectStore(Kx),f=await h.index("fcmSenderId").get(t);if(await h.clear(),!!f){if(a===2){const d=f;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:d.createTime??Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:typeof d.vapidKey=="string"?d.vapidKey:Ai(d.vapidKey)}}}else if(a===3){const d=f;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Ai(d.auth),p256dh:Ai(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Ai(d.vapidKey)}}}else if(a===4){const d=f;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Ai(d.auth),p256dh:Ai(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Ai(d.vapidKey)}}}}}})).close(),await rp(fp),await rp("fcm_vapid_details_db"),await rp("undefined"),K5(e)?e:null}function K5(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}const G5="firebase-messaging-database",Y5=1,ll="firebase-messaging-store";let pp=null;function tA(){return pp||(pp=Hc(G5,Y5,{upgrade:(t,e)=>{e===0&&t.createObjectStore(ll)}})),pp}async function W5(t){const e=nA(t),r=await(await tA()).transaction(ll).objectStore(ll).get(e);if(r)return r;{const a=await q5(t.appConfig.senderId);if(a)return await Rm(t,a),a}}async function Rm(t,e){const n=nA(t),a=(await tA()).transaction(ll,"readwrite");return await a.objectStore(ll).put(e,n),await a.done,e}function nA({appConfig:t}){return t.appId}const X5={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},Kt=new Vc("messaging","Messaging",X5);async function J5(t,e){const n=await Nm(t),r=iA(e),a={method:"POST",headers:n,body:JSON.stringify(r)};let o;try{o=await(await fetch(Dm(t.appConfig),a)).json()}catch(u){throw Kt.create("token-subscribe-failed",{errorInfo:u?.toString()})}if(o.error){const u=o.error.message;throw Kt.create("token-subscribe-failed",{errorInfo:u})}if(!o.token)throw Kt.create("token-subscribe-no-token");return o.token}async function Q5(t,e){const n=await Nm(t),r=iA(e.subscriptionOptions),a={method:"PATCH",headers:n,body:JSON.stringify(r)};let o;try{o=await(await fetch(`${Dm(t.appConfig)}/${e.token}`,a)).json()}catch(u){throw Kt.create("token-update-failed",{errorInfo:u?.toString()})}if(o.error){const u=o.error.message;throw Kt.create("token-update-failed",{errorInfo:u})}if(!o.token)throw Kt.create("token-update-no-token");return o.token}async function Z5(t,e){const r={method:"DELETE",headers:await Nm(t)};try{const o=await(await fetch(`${Dm(t.appConfig)}/${e}`,r)).json();if(o.error){const u=o.error.message;throw Kt.create("token-unsubscribe-failed",{errorInfo:u})}}catch(a){throw Kt.create("token-unsubscribe-failed",{errorInfo:a?.toString()})}}function Dm({projectId:t}){return`${U5}/projects/${t}/registrations`}async function Nm({appConfig:t,installations:e}){const n=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function iA({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const a={web:{endpoint:n,auth:e,p256dh:t}};return r!==ZE&&(a.web.applicationPubKey=r),a}const eV=10080*60*1e3;async function tV(t){const e=await iV(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Ai(e.getKey("auth")),p256dh:Ai(e.getKey("p256dh"))},r=await W5(t.firebaseDependencies);if(r){if(rV(r.subscriptionOptions,n))return Date.now()>=r.createTime+eV?nV(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{await Z5(t.firebaseDependencies,r.token)}catch(a){console.warn(a)}return Gx(t.firebaseDependencies,n)}else return Gx(t.firebaseDependencies,n)}async function nV(t,e){try{const n=await Q5(t.firebaseDependencies,e),r={...e,token:n,createTime:Date.now()};return await Rm(t.firebaseDependencies,r),n}catch(n){throw n}}async function Gx(t,e){const r={token:await J5(t,e),createTime:Date.now(),subscriptionOptions:e};return await Rm(t,r),r.token}async function iV(t,e){const n=await t.pushManager.getSubscription();return n||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:H5(e)})}function rV(t,e){const n=e.vapidKey===t.vapidKey,r=e.endpoint===t.endpoint,a=e.auth===t.auth,o=e.p256dh===t.p256dh;return n&&r&&a&&o}function Yx(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return sV(e,t),aV(e,t),oV(e,t),e}function sV(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const a=e.notification.image;a&&(t.notification.image=a);const o=e.notification.icon;o&&(t.notification.icon=o)}function aV(t,e){e.data&&(t.data=e.data)}function oV(t,e){if(!e.fcmOptions&&!e.notification?.click_action)return;t.fcmOptions={};const n=e.fcmOptions?.link??e.notification?.click_action;n&&(t.fcmOptions.link=n);const r=e.fcmOptions?.analytics_label;r&&(t.fcmOptions.analyticsLabel=r)}function lV(t){return typeof t=="object"&&!!t&&eA in t}function uV(t){if(!t||!t.options)throw gp("App Configuration Object");if(!t.name)throw gp("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw gp(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function gp(t){return Kt.create("missing-app-config-values",{valueName:t})}class cV{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const a=uV(e);this.firebaseDependencies={app:e,appConfig:a,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}async function hV(t){try{t.swRegistration=await navigator.serviceWorker.register(P5,{scope:B5}),t.swRegistration.update().catch(()=>{}),await dV(t.swRegistration)}catch(e){throw Kt.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}}async function dV(t){return new Promise((e,n)=>{const r=setTimeout(()=>n(new Error(`Service worker not registered after ${Fx} ms`)),Fx),a=t.installing||t.waiting;t.active?(clearTimeout(r),e()):a?a.onstatechange=o=>{o.target?.state==="activated"&&(a.onstatechange=null,clearTimeout(r),e())}:(clearTimeout(r),n(new Error("No incoming service worker found.")))})}async function fV(t,e){if(!e&&!t.swRegistration&&await hV(t),!(!e&&t.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw Kt.create("invalid-sw-registration");t.swRegistration=e}}async function pV(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=ZE)}async function rA(t,e){if(!navigator)throw Kt.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw Kt.create("permission-blocked");return await pV(t,e?.vapidKey),await fV(t,e?.serviceWorkerRegistration),tV(t)}async function gV(t,e,n){const r=mV(e);(await t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[eA],message_name:n[z5],message_time:n[V5],message_device_time:Math.floor(Date.now()/1e3)})}function mV(t){switch(t){case ol.NOTIFICATION_CLICKED:return"notification_open";case ol.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}async function yV(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===ol.PUSH_RECEIVED&&(typeof t.onMessageHandler=="function"?t.onMessageHandler(Yx(n)):t.onMessageHandler.next(Yx(n)));const r=n.data;lV(r)&&r[$5]==="1"&&await gV(t,n.messageType,r)}const Wx="@firebase/messaging",Xx="0.12.23";const vV=t=>{const e=new cV(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>yV(e,n)),e},bV=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>rA(e,r)}};function wV(){Ni(new ni("messaging",vV,"PUBLIC")),Ni(new ni("messaging-internal",bV,"PRIVATE")),Nn(Wx,Xx),Nn(Wx,Xx,"esm2020")}async function sA(){try{await mE()}catch{return!1}return typeof window<"u"&&gE()&&x4()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function aA(t=xm()){return sA().then(e=>{if(!e)throw Kt.create("unsupported-browser")},e=>{throw Kt.create("indexed-db-unsupported")}),yl($c(t),"messaging").getImmediate()}async function SV(t,e){return t=$c(t),rA(t,e)}wV();const xV=Object.freeze(Object.defineProperty({__proto__:null,getMessaging:aA,getToken:SV,isSupported:sA},Symbol.toStringTag,{value:"Module"})),_V={apiKey:"AIzaSyDK0KcHLT3A1noYEXmTqMVPoQrtk6Ccfp8",authDomain:"claude-vertex-prod.firebaseapp.com",projectId:"claude-vertex-prod",storageBucket:"claude-vertex-prod.firebasestorage.app",messagingSenderId:"232175138568",appId:"1:232175138568:web:cef732b3e36e56db031ebd",measurementId:""},Gc=SE(_V);Yz(Gc);const TV=aA(Gc),EV=Object.freeze(Object.defineProperty({__proto__:null,app:Gc,messaging:TV},Symbol.toStringTag,{value:"Module"}));class AV{genModel=null;initError=null;constructor(){try{const e=vz(Gc,{backend:new Fc("us-central1")});this.genModel=bz(e,{model:"gemini-2.5-pro",safetySettings:[{category:"HARM_CATEGORY_HARASSMENT",threshold:"BLOCK_MEDIUM_AND_ABOVE"}]})}catch(e){console.error("Failed to initialize Vertex AI:",e),this.initError=e.message||String(e)}}createSystemPrompt(e){const n=new Date().toISOString().split("T")[0],r=e.activeTasks?e.activeTasks.map(o=>`- [${o.title}] (${o.price} )`).join(`
`):"No active tasks.",a=e.location||e.userProfile?.city||"Unknown";return`
You are a helpful AI assistant for the 'Telegram AI App'.
IDENTITY: You are Gemini 2.5 Pro, a large language model trained by Google. You are NOT ChatGPT.
Current Date: ${n}
User Location: ${a}
User Context:
- Name: ${e.userProfile?.name||"User"}
- Credits: ${e.userProfile?.credits||0} 
- Tasks:
${r}

Goal: Be helpful, concise, and friendly. Answer in the same language as the user (default Estonian).
`}async sendMessage(e,n,r){if(console.log(" AI Service (Vertex): Sending message...",{context:n,lastUserMessage:e[e.length-1]}),!this.genModel)return`Viga: Google Vertex AI ei ole initsialiseeritud. 
Detailid: ${this.initError||"Tundmatu viga"}`;try{const a=this.createSystemPrompt(n),o=e.slice(0,-1).map(b=>({role:b.role==="assistant"?"model":"user",parts:[{text:b.content}]})),h=e[e.length-1].content;let f;return o.length>0&&o[0].role==="model"?f=[{role:"user",parts:[{text:`SYSTEM INSTRUCTION:
${a}`}]},...o]:f=[{role:"user",parts:[{text:`SYSTEM INSTRUCTION:
${a}`}]},{role:"model",parts:[{text:"Arusaadav. Olen valmis aitama."}]},...o],(await this.genModel.startChat({history:f}).sendMessage(h)).response.text()||"Vabandust, thi vastus."}catch(a){return console.error("Vertex AI Error:",a),a.message?.includes("403")||a.message?.includes("API key")?"Viga: Ligips keelatud. Kontrolli Firebase/Google Cloud igusi.":`Vabandust, tekkis viga: ${a.message}`}}async analyzeImage(e,n="Analyze this image"){if(!this.genModel)return"AI Service not initialized";try{let r;if(e.startsWith("data:")){const o=e.split(",")[1],u=e.split(";")[0].split(":")[1];r={inlineData:{data:o,mimeType:u}}}else{const u=await(await fetch(e)).blob();r={inlineData:{data:(await new Promise(d=>{const g=new FileReader;g.onloadend=()=>d(g.result),g.readAsDataURL(u)})).split(",")[1],mimeType:u.type}}}return(await this.genModel.generateContent([n,r])).response.text()}catch(r){return console.error("AI Vision Error:",r),"Viga pildi analsimisel: "+r.message}}}const oA=new AV,kV=async t=>{try{return await oA.analyzeImage(t,"START DIRECTLY with the content. DO NOT use introductory phrases like 'Here is the analysis'. Format the title as: '# Dokument  [Organization Name]'. Language: Ukrainian. Highlight key details, dates, sums, and names.")}catch(e){throw console.error("Vision API error:",e),new Error("Viga analsimisel: "+(e.message||"Tundmatu viga"))}},CV=async t=>{const n=await fetch("http://localhost:8080/render-pdf",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({html:t})});if(!n.ok){const r=await n.text();throw new Error(`PDF Render Failed: ${r}`)}return await n.blob()},OV=`
    @page {
        size: A4;
        margin-top: 35mm;
        margin-bottom: 35mm;
        margin-left: 25mm;
        margin-right: 25mm;
    }
    
    body {
        font-family: Arial, sans-serif;
        font-size: 14px;
        line-height: 1.6;
        color: #000;
        background: #fff;
        margin: 0;
        padding: 0;
        -webkit-print-color-adjust: exact;
    }

    .analysis-container {
        /* No fixed padding here to allow Puppeteer margin to work */
        width: 100%;
    }

    h1, h2, h3, h4 {
        color: #0057B8;
        page-break-after: avoid;
    }

    ul {
        padding-left: 20px;
    }

    li {
        margin-bottom: 5px;
    }

    /* Prevent breaking inside list items if possible */
    li, p {
        page-break-inside: avoid;
    }
    
    .original-document-img {
        page-break-before: always;
        max-width: 100%;
        height: auto;
        display: block;
        margin-top: 20px;
    }
`,RV=({file:t,onClose:e,onDelete:n,onSave:r})=>{const[a,o]=V.useState(null),[u,h]=V.useState(!1),[f,d]=V.useState(!1),g=V.useRef(null),y=async()=>{h(!0),o(null);try{const x=await kV(t.file_url);o(x)}catch(x){const E=x instanceof Error?x.message:" '  ";alert(": "+E)}h(!1)},v=async()=>{if(a){d(!0);try{const x=g.current?.innerHTML||"";let E="";try{const he=await(await fetch(t.file_url)).blob();E=`<img src="${await new Promise(Q=>{const P=new FileReader;P.onloadend=()=>Q(P.result),P.readAsDataURL(he)})}" class="original-document-img" alt="Original Document" style="max-width: 100%; height: auto; display: block; margin: 20px auto;" />`}catch(ie){console.warn("Failed to load original image for PDF",ie)}const T=`
                <!DOCTYPE html>
                <html>
                <head>
                    <style>${OV}</style>
                </head>
                <body>
                    <div class="analysis-container">
                        ${x}
                    </div>
                    ${E}
                </body>
                </html>
            `,A=await CV(T),R=new Date().toISOString().split("T")[0],C=new Date().toTimeString().split(" ")[0].replace(/:/g,"-"),D=`Jobcenter_${R}_${C}.pdf`,$=`${t.user_id}/${D}`,M=window.URL.createObjectURL(A),F=document.createElement("a");F.href=M,F.download=D,document.body.appendChild(F),F.click(),window.URL.revokeObjectURL(M),document.body.removeChild(F);const{error:Y}=await Oe.storage.from("documents").upload($,A);if(Y)throw Y;const{data:{publicUrl:ee}}=Oe.storage.from("documents").getPublicUrl($),{data:oe,error:ne}=await Oe.from("user_files").insert({user_id:t.user_id,file_name:D,file_url:ee,file_type:"pdf"}).select().single();if(ne)throw ne;oe&&(r(oe),alert("   !"),e())}catch(x){console.error(x),alert("PDF Save Failed: "+x.message)}finally{d(!1)}}},b=()=>{confirm(" ?")&&(n(t.id),e())};return S.jsx("div",{className:"modal-overlay",onClick:e,children:S.jsxs("div",{className:"modal-content",onClick:x=>x.stopPropagation(),style:{maxHeight:"90vh",overflowY:"auto",display:"flex",flexDirection:"column"},children:[S.jsxs("div",{className:"modal-header",children:[S.jsx("h3",{children:""}),S.jsx("button",{className:"close-btn",onClick:e,children:""})]}),S.jsx("div",{style:{background:"#f0f0f0",borderRadius:"12px",padding:"10px",display:"flex",justifyContent:"center",marginBottom:"15px"},children:S.jsx("img",{src:t.file_url,style:{maxWidth:"100%",maxHeight:"300px",objectFit:"contain"},alt:"Document"})}),!a&&S.jsx("button",{className:"primary-btn",onClick:y,disabled:u,style:{background:"linear-gradient(45deg, #0057B8, #60a5fa)",marginBottom:"10px"},children:u?" ...":" "}),a&&S.jsxs("div",{ref:g,style:{background:"#ffffff",padding:"20px",borderRadius:"0px",border:"1px solid #e0e0e0",marginTop:"10px",color:"#000000"},children:[S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"1px solid #eee",paddingBottom:"10px",marginBottom:"10px"},children:[S.jsx("h4",{style:{margin:0,color:"#0057B8"},children:"  "}),S.jsx("span",{style:{fontSize:"12px",color:"#666"},children:new Date().toLocaleDateString("uk-UA")})]}),S.jsx("div",{style:{lineHeight:"1.6",fontSize:"14px",fontFamily:"Arial, sans-serif"},children:S.jsx(e4,{components:{h2:({...x})=>S.jsx("h2",{style:{fontSize:"16px",color:"#0057B8",marginTop:"15px",marginBottom:"10px"},...x}),ul:({...x})=>S.jsx("ul",{style:{paddingLeft:"20px",listStyleType:"disc"},...x}),li:({...x})=>S.jsx("li",{style:{marginBottom:"5px",paddingLeft:"5px"},...x})},children:a})})]}),a&&S.jsx("button",{className:"external-link-btn",style:{marginTop:"15px"},onClick:v,disabled:f,children:f?" ...":"   "}),S.jsx("button",{onClick:b,style:{marginTop:"20px",background:"none",border:"none",color:"red",cursor:"pointer"},children:"  "})]})})},DV=({message:t})=>{const e=t.role==="user";return t.role==="system"?null:S.jsx("div",{style:{display:"flex",justifyContent:e?"flex-end":"flex-start",marginBottom:"12px",padding:"0 10px"},children:S.jsxs("div",{style:{maxWidth:"80%",padding:"12px 16px",borderRadius:"18px",borderBottomRightRadius:e?"4px":"18px",borderBottomLeftRadius:e?"18px":"4px",backgroundColor:e?"#007AFF":"#E9E9EB",color:e?"white":"black",boxShadow:"0 1px 2px rgba(0,0,0,0.1)",fontSize:"15px",lineHeight:"1.4"},children:[S.jsx("div",{style:{whiteSpace:"pre-wrap"},children:t.content}),S.jsx("div",{style:{fontSize:"10px",marginTop:"4px",opacity:.7,textAlign:"right"},children:t.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})})},NV=({onSend:t,disabled:e,placeholder:n})=>{const[r,a]=V.useState(""),o=()=>{!r.trim()||e||(t(r),a(""))},u=h=>{h.key==="Enter"&&!h.shiftKey&&(h.preventDefault(),o())};return S.jsxs("div",{style:{padding:"10px",borderTop:"1px solid var(--border-color)",backgroundColor:"var(--card-bg)",display:"flex",alignItems:"center",gap:"8px"},children:[S.jsx("textarea",{value:r,onChange:h=>a(h.target.value),onKeyDown:u,placeholder:n||"Ksi midagi...",disabled:e,style:{flex:1,padding:"10px 14px",borderRadius:"20px",border:"1px solid var(--input-border)",backgroundColor:"var(--input-bg)",color:"var(--text-primary)",resize:"none",height:"44px",fontFamily:"inherit",outline:"none"}}),S.jsx("button",{onClick:o,disabled:!r.trim()||e,style:{background:"#007AFF",color:"white",border:"none",width:"40px",height:"40px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",cursor:e?"not-allowed":"pointer",opacity:e?.6:1},children:S.jsx(xD,{size:20})})]})};class jV{static build(e,n,r="home"){return{userProfile:{name:e.username,city:e.city||"Unknown",status:e.residence_permit||"Unknown",credits:e.credits||0},activeTasks:n,unreadNewsCount:0,currentView:r}}static generateSystemPrompt(e){return`
ROLE: Personal Immigration Assistant (Germany)
USER: ${e.userProfile.name}
LOC: ${e.userProfile.city}
STATUS: ${e.userProfile.status}

CONTEXT:
User has ${e.activeTasks.length} active tasks: ${e.activeTasks.join(", ")}.

INSTRUCTION:
Answer short, precise, and helpful. Use emojis. 
Focus on helping the user complete their immigration tasks.
        `.trim()}}const MV=({userData:t,activeTasks:e})=>{const[n,r]=V.useState([{id:"welcome",role:"assistant",content:`, ${t.username}! 
   .
     ?`,timestamp:new Date}]),[a,o]=V.useState(!1),u=V.useRef(null),h=()=>{u.current?.scrollIntoView({behavior:"smooth"})};V.useEffect(()=>{h()},[n]);const f=async d=>{const g={id:Date.now().toString(),role:"user",content:d,timestamp:new Date};r(y=>[...y,g]),o(!0);try{const y=jV.build(t,e,"chat"),v=await oA.sendMessage([...n,g],y),b={id:(Date.now()+1).toString(),role:"assistant",content:v,timestamp:new Date};r(x=>[...x,b])}catch(y){console.error("Chat Error:",y)}finally{o(!1)}};return S.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100%"},children:[S.jsxs("div",{className:"task-card",style:{marginBottom:"20px",justifyContent:"center",background:"linear-gradient(135deg, #007AFF 0%, #0056b3 100%)",color:"white"},children:[S.jsx("span",{style:{fontSize:"24px"},children:""}),S.jsx("h4",{style:{fontSize:"18px",fontWeight:"700",color:"white"},children:"AI "})]}),S.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"16px 0"},children:[n.map(d=>S.jsx(DV,{message:d},d.id)),a&&S.jsx("div",{style:{marginLeft:"20px",color:"#8E8E93",fontSize:"13px"},children:"Kirjutan..."}),S.jsx("div",{ref:u})]}),S.jsx(NV,{onSend:f,disabled:a,placeholder:" ..."})]})};typeof window<"u"&&(window.__NETSIM__={offline:!1,force401:!1,latency:0});const LV=()=>{const[t,e]=V.useState(!0),[n,r]=V.useState(window.__NETSIM__);return V.useEffect(()=>{window.__NETSIM__=n},[n]),null};function IV(){const{session:t,userData:e,loading:n,login:r,register:a,recovery:o,logout:u,updatePassword:h,updateProfile:f,setUserData:d}=y2(),{theme:g,setTheme:y}=v2("light"),{tasks:v,news:b,personalTasks:x,userFiles:E,completedTasks:T,unlockedTasks:A,loadAppData:R,toggleTask:C,unlockTask:D,addPersonalTask:$,togglePersonalTask:M,deletePersonalTask:F,addUserFile:Y,deleteUserFile:ee}=w2(),[oe,ne]=V.useState("login"),[ie,he]=V.useState("home"),[ae,Q]=V.useState(null),[P,K]=V.useState(null),[re,ge]=V.useState(!1),O=new Date().toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric"});V.useEffect(()=>{const Z=window.Telegram?.WebApp;Z&&(Z.ready(),Z.expand()),m2()},[]),V.useEffect(()=>{t?.user&&e?(R(t.user.id,e.land,e.city),ne("app")):!n&&!t&&ne("login")},[t,e,n,R]);const j=async Z=>{if(!t?.user)return;ge(!0);const de=new FileReader;de.readAsDataURL(Z),de.onload=async()=>{let fe=de.result;Z.type.startsWith("image/")&&(fe=await S2(fe));const Re=await x2(fe),We=_2("Dokument"),ze=`${t.user.id}/${We}`,{error:Ut}=await Oe.storage.from("documents").upload(ze,Re);if(Ut){alert("Viga: "+Ut.message),ge(!1);return}const{data:{publicUrl:jn}}=Oe.storage.from("documents").getPublicUrl(ze),{data:Li}=await Oe.from("user_files").insert({user_id:t.user.id,file_name:We,file_url:jn,file_type:"image"}).select().single();Li&&Y(Li),ge(!1)}},q=async Z=>{if(!t?.user||!e)return;if(e.credits<Z.price){alert("Pole piisavalt teemante!");return}if(!confirm(`Avada ${Z.price}  eest?`))return;const de=await D(Z,t.user.id,e.credits);de&&d({...e,credits:de.newCredits})},k=async Z=>{if(!t?.user||!e)return;const de=e.credits+Z;d({...e,credits:de}),await Oe.from("profiles").update({credits:de}).eq("id",t.user.id),alert(`Lisatud +${Z} `)};return n||re?S.jsx(PD,{}):oe==="login"?S.jsx(T2,{onLogin:r,onSwitchToRegister:()=>ne("register"),onSwitchToRecovery:()=>ne("recovery"),loading:n}):oe==="register"?S.jsx(E2,{onRegister:a,onSwitchToLogin:()=>ne("login"),loading:n}):oe==="recovery"?S.jsx(A2,{onRecovery:o,onSwitchToLogin:()=>ne("login")}):oe==="app"&&e?S.jsxs("div",{className:`app-main ${g}-theme`,children:[S.jsx(k2,{userData:e,todayDate:O}),S.jsxs("div",{className:"content-scroll",children:[ie==="home"&&S.jsx(BD,{news:b,onNewsClick:Z=>Q(Z),onNavigate:Z=>{Z==="documents"&&he("portfolio"),Z==="chat"&&he("assistant"),Z==="roadmap"&&he("tasks")}}),ie==="tasks"&&S.jsx(UD,{tasks:v,completedTasks:T,unlockedTasks:A,onTaskClick:Z=>Q(Z),onToggleTask:Z=>C(Z,t.user.id)}),ie==="portfolio"&&S.jsx(zD,{userFiles:E,personalTasks:x,onFileSelect:j,onFileClick:Z=>K(Z),onAddPersonalTask:Z=>$(t.user.id,Z),onTogglePersonalTask:M,onDeletePersonalTask:F}),S.jsx("div",{style:{display:ie==="assistant"?"block":"none",height:"100%"},children:S.jsx(MV,{userData:e,activeTasks:v.filter(Z=>!T.includes(Z.id))})}),ie==="news"&&S.jsx(II,{land:e.land,city:e.city}),ie==="menu"&&S.jsx(PI,{userData:e,theme:g,onThemeChange:y,onUpdateProfile:f,onUpdatePassword:h,onAddCredits:k,onLogout:u})]}),P&&S.jsx(RV,{file:P,onClose:()=>K(null),onDelete:ee,onSave:Y}),ae&&S.jsx(BI,{task:ae,unlockedTasks:A,onClose:()=>Q(null),onUnlock:q}),S.jsx(ID,{activeTab:ie,onTabChange:he}),S.jsx(LV,{})]}):null}const Jx="a41d7757c0952d57222c8675eba71cc04a0c80b6",Qx="2026-02-17T20:33:55+01:00",Zx="185",e1="main",PV="https://wbajyysqvkkdqsugupyj.supabase.co",BV=!0,mp=20;function UV(){const[t,e]=V.useState([]),[n,r]=V.useState(!0),[a,o]=V.useState(!1),[u,h]=V.useState(null),[f,d]=V.useState(!0),[g,y]=V.useState(!1),v=(()=>{try{return new URL(PV).host}catch{return"unknown"}})(),b=["Environment: PRODUCTION (LIVE)",`SHA: ${Jx}`,`Build Time: ${Qx}`,`Deploy Run: #${Zx}`,`Branch: ${e1}`,`Supabase Host: ${v}`,`Anon Key Present: ${BV}`,`Checked: ${new Date().toISOString()}`].join(`
`),x=async A=>{try{const{data:R,error:C}=await Oe.from("news").select("id, title, link, source, published_at, created_at, image_url").order("published_at",{ascending:!1,nullsFirst:!1}).order("created_at",{ascending:!1}).range(A,A+mp-1);return C?(h(`Supabase read error: ${C.message} (code: ${C.code})`),[]):R||[]}catch(R){return h(`Network error: ${R.message}`),[]}};V.useEffect(()=>{let A=!1;return(async()=>{r(!0);const R=await x(0);A||(e(R),d(R.length===mp),r(!1))})(),()=>{A=!0}},[]);const E=async()=>{o(!0);const A=await x(t.length);e(R=>[...R,...A]),d(A.length===mp),o(!1)},T=()=>{navigator.clipboard.writeText(b).then(()=>{y(!0),setTimeout(()=>y(!1),2e3)})};return S.jsxs("div",{className:"prod-state",children:[S.jsxs("header",{className:"prod-state__header",children:[S.jsx("div",{className:"prod-state__badge",children:"PRODUCTION (LIVE)"}),S.jsx("h1",{className:"prod-state__title",children:"Production State"}),S.jsx("p",{className:"prod-state__subtitle",children:"navestic.com  Build Verification"})]}),S.jsxs("section",{className:"prod-state__meta",children:[S.jsx("h2",{className:"prod-state__section-title",children:"Build Info"}),S.jsxs("div",{className:"prod-state__grid",children:[S.jsxs("div",{className:"prod-state__field",children:[S.jsx("span",{className:"prod-state__label",children:"Commit SHA"}),S.jsx("code",{className:"prod-state__value",children:Jx})]}),S.jsxs("div",{className:"prod-state__field",children:[S.jsx("span",{className:"prod-state__label",children:"Build Time"}),S.jsx("code",{className:"prod-state__value",children:Qx})]}),S.jsxs("div",{className:"prod-state__field",children:[S.jsx("span",{className:"prod-state__label",children:"Deploy Run"}),S.jsxs("code",{className:"prod-state__value",children:["#",Zx]})]}),S.jsxs("div",{className:"prod-state__field",children:[S.jsx("span",{className:"prod-state__label",children:"Branch"}),S.jsx("code",{className:"prod-state__value",children:e1})]})]})]}),S.jsxs("section",{className:"prod-state__meta",children:[S.jsx("h2",{className:"prod-state__section-title",children:"Supabase Target"}),S.jsxs("div",{className:"prod-state__grid",children:[S.jsxs("div",{className:"prod-state__field",children:[S.jsx("span",{className:"prod-state__label",children:"Host"}),S.jsx("code",{className:"prod-state__value",children:v})]}),S.jsxs("div",{className:"prod-state__field",children:[S.jsx("span",{className:"prod-state__label",children:"Anon Key Present"}),S.jsx("code",{className:"prod-state__value prod-state__ok",children:" true"})]})]})]}),S.jsx("section",{className:"prod-state__evidence",children:S.jsx("button",{className:"prod-state__copy-btn",onClick:T,children:g?" Copied!":" Copy Evidence"})}),S.jsxs("section",{className:"prod-state__checklist",children:[S.jsx("h2",{className:"prod-state__section-title",children:"Operator Checklist"}),S.jsxs("ol",{className:"prod-state__checklist-list",children:[S.jsx("li",{children:'Open GitHub Actions  latest "Deploy to Firebase Hosting" run'}),S.jsx("li",{children:"Note the commit SHA and run number"}),S.jsxs("li",{children:["Compare with SHA and Run # shown above  ",S.jsx("strong",{children:"must match exactly"})]}),S.jsxs("li",{children:["Branch must be ",S.jsx("code",{children:"main"})]}),S.jsx("li",{children:"News feed below loads (or shows explicit RLS error)"})]})]}),S.jsxs("section",{className:"prod-state__news",children:[S.jsxs("h2",{className:"prod-state__section-title",children:["Production News Feed",S.jsx("span",{className:"prod-state__count",children:!n&&!u&&` (${t.length} items)`})]}),n&&S.jsx("div",{className:"prod-state__loading",children:"Loading news"}),u&&S.jsxs("div",{className:"prod-state__error-panel",children:[S.jsx("strong",{children:" Read Error"}),S.jsx("pre",{children:u}),S.jsx("p",{children:"This may indicate RLS policy blocking anonymous reads. Check Supabase RLS configuration."})]}),!n&&!u&&t.length===0&&S.jsx("div",{className:"prod-state__empty",children:"No news items found in database."}),S.jsx("div",{className:"prod-state__news-grid",children:t.map(A=>S.jsxs("a",{href:A.link,target:"_blank",rel:"noopener noreferrer",className:"prod-state__card",children:[A.image_url&&S.jsx("img",{src:A.image_url,alt:"",className:"prod-state__card-img",loading:"lazy",onError:R=>{R.target.style.display="none"}}),S.jsxs("div",{className:"prod-state__card-body",children:[S.jsx("h3",{className:"prod-state__card-title",children:A.title}),S.jsxs("div",{className:"prod-state__card-meta",children:[S.jsx("span",{className:"prod-state__card-source",children:A.source}),S.jsx("span",{className:"prod-state__card-date",children:A.published_at?new Date(A.published_at).toLocaleString("de-DE",{dateStyle:"short",timeStyle:"short"}):new Date(A.created_at).toLocaleString("de-DE",{dateStyle:"short",timeStyle:"short"})})]})]})]},A.id))}),f&&!n&&!u&&t.length>0&&S.jsx("button",{className:"prod-state__load-more",onClick:E,disabled:a,children:a?"Loading":"Load More"})]}),S.jsx("footer",{className:"prod-state__footer",children:"Production State View  Read-Only  No mutations"})]})}const xe=t=>typeof t=="string",Ao=()=>{let t,e;const n=new Promise((r,a)=>{t=r,e=a});return n.resolve=t,n.reject=e,n},t1=t=>t==null?"":""+t,zV=(t,e,n)=>{t.forEach(r=>{e[r]&&(n[r]=e[r])})},VV=/###/g,n1=t=>t&&t.indexOf("###")>-1?t.replace(VV,"."):t,i1=t=>!t||xe(t),qo=(t,e,n)=>{const r=xe(e)?e.split("."):e;let a=0;for(;a<r.length-1;){if(i1(t))return{};const o=n1(r[a]);!t[o]&&n&&(t[o]=new n),Object.prototype.hasOwnProperty.call(t,o)?t=t[o]:t={},++a}return i1(t)?{}:{obj:t,k:n1(r[a])}},r1=(t,e,n)=>{const{obj:r,k:a}=qo(t,e,Object);if(r!==void 0||e.length===1){r[a]=n;return}let o=e[e.length-1],u=e.slice(0,e.length-1),h=qo(t,u,Object);for(;h.obj===void 0&&u.length;)o=`${u[u.length-1]}.${o}`,u=u.slice(0,u.length-1),h=qo(t,u,Object),h?.obj&&typeof h.obj[`${h.k}.${o}`]<"u"&&(h.obj=void 0);h.obj[`${h.k}.${o}`]=n},$V=(t,e,n,r)=>{const{obj:a,k:o}=qo(t,e,Object);a[o]=a[o]||[],a[o].push(n)},kc=(t,e)=>{const{obj:n,k:r}=qo(t,e);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},HV=(t,e,n)=>{const r=kc(t,n);return r!==void 0?r:kc(e,n)},lA=(t,e,n)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?xe(t[r])||t[r]instanceof String||xe(e[r])||e[r]instanceof String?n&&(t[r]=e[r]):lA(t[r],e[r],n):t[r]=e[r]);return t},ta=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var FV={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const qV=t=>xe(t)?t.replace(/[&<>"'\/]/g,e=>FV[e]):t;class KV{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const GV=[" ",",","?","!",";"],YV=new KV(20),WV=(t,e,n)=>{e=e||"",n=n||"";const r=GV.filter(u=>e.indexOf(u)<0&&n.indexOf(u)<0);if(r.length===0)return!0;const a=YV.getRegExp(`(${r.map(u=>u==="?"?"\\?":u).join("|")})`);let o=!a.test(t);if(!o){const u=t.indexOf(n);u>0&&!a.test(t.substring(0,u))&&(o=!0)}return o},_g=(t,e,n=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const r=e.split(n);let a=t;for(let o=0;o<r.length;){if(!a||typeof a!="object")return;let u,h="";for(let f=o;f<r.length;++f)if(f!==o&&(h+=n),h+=r[f],u=a[h],u!==void 0){if(["string","number","boolean"].indexOf(typeof u)>-1&&f<r.length-1)continue;o+=f-o+1;break}a=u}return a},ul=t=>t?.replace("_","-"),XV={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console?.[t]?.apply?.(console,e)}};class Cc{constructor(e,n={}){this.init(e,n)}init(e,n={}){this.prefix=n.prefix||"i18next:",this.logger=e||XV,this.options=n,this.debug=n.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,a){return a&&!this.debug?null:(xe(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new Cc(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new Cc(this.logger,e)}}var Qn=new Cc;class Yc{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const a=this.observers[r].get(n)||0;this.observers[r].set(n,a+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e,...n){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([a,o])=>{for(let u=0;u<o;u++)a(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([a,o])=>{for(let u=0;u<o;u++)a.apply(a,[e,...n])})}}class s1 extends Yc{constructor(e,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r,a={}){const o=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,u=a.ignoreJSONStructure!==void 0?a.ignoreJSONStructure:this.options.ignoreJSONStructure;let h;e.indexOf(".")>-1?h=e.split("."):(h=[e,n],r&&(Array.isArray(r)?h.push(...r):xe(r)&&o?h.push(...r.split(o)):h.push(r)));const f=kc(this.data,h);return!f&&!n&&!r&&e.indexOf(".")>-1&&(e=h[0],n=h[1],r=h.slice(2).join(".")),f||!u||!xe(r)?f:_g(this.data?.[e]?.[n],r,o)}addResource(e,n,r,a,o={silent:!1}){const u=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator;let h=[e,n];r&&(h=h.concat(u?r.split(u):r)),e.indexOf(".")>-1&&(h=e.split("."),a=n,n=h[1]),this.addNamespaces(n),r1(this.data,h,a),o.silent||this.emit("added",e,n,r,a)}addResources(e,n,r,a={silent:!1}){for(const o in r)(xe(r[o])||Array.isArray(r[o]))&&this.addResource(e,n,o,r[o],{silent:!0});a.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,a,o,u={silent:!1,skipCopy:!1}){let h=[e,n];e.indexOf(".")>-1&&(h=e.split("."),a=r,r=n,n=h[1]),this.addNamespaces(n);let f=kc(this.data,h)||{};u.skipCopy||(r=JSON.parse(JSON.stringify(r))),a?lA(f,r,o):f={...f,...r},r1(this.data,h,f),u.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(a=>n[a]&&Object.keys(n[a]).length>0)}toJSON(){return this.data}}var uA={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,a){return t.forEach(o=>{e=this.processors[o]?.process(e,n,r,a)??e}),e}};const cA=Symbol("i18next/PATH_KEY");function JV(){const t=[],e=Object.create(null);let n;return e.get=(r,a)=>(n?.revoke?.(),a===cA?t:(t.push(a),n=Proxy.revocable(r,e),n.proxy)),Proxy.revocable(Object.create(null),e).proxy}function Tg(t,e){const{[cA]:n}=t(JV());return n.join(e?.keySeparator??".")}const a1={},yp=t=>!xe(t)&&typeof t!="boolean"&&typeof t!="number";class Oc extends Yc{constructor(e,n={}){super(),zV(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Qn.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,n={interpolation:{}}){const r={...n};if(e==null)return!1;const a=this.resolve(e,r);if(a?.res===void 0)return!1;const o=yp(a.res);return!(r.returnObjects===!1&&o)}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const a=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let o=n.ns||this.options.defaultNS||[];const u=r&&e.indexOf(r)>-1,h=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!WV(e,r,a);if(u&&!h){const f=e.match(this.interpolator.nestingRegexp);if(f&&f.length>0)return{key:e,namespaces:xe(o)?[o]:o};const d=e.split(r);(r!==a||r===a&&this.options.ns.indexOf(d[0])>-1)&&(o=d.shift()),e=d.join(a)}return{key:e,namespaces:xe(o)?[o]:o}}translate(e,n,r){let a=typeof n=="object"?{...n}:n;if(typeof a!="object"&&this.options.overloadTranslationOptionHandler&&(a=this.options.overloadTranslationOptionHandler(arguments)),typeof a=="object"&&(a={...a}),a||(a={}),e==null)return"";typeof e=="function"&&(e=Tg(e,{...this.options,...a})),Array.isArray(e)||(e=[String(e)]);const o=a.returnDetails!==void 0?a.returnDetails:this.options.returnDetails,u=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,{key:h,namespaces:f}=this.extractFromKey(e[e.length-1],a),d=f[f.length-1];let g=a.nsSeparator!==void 0?a.nsSeparator:this.options.nsSeparator;g===void 0&&(g=":");const y=a.lng||this.language,v=a.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(y?.toLowerCase()==="cimode")return v?o?{res:`${d}${g}${h}`,usedKey:h,exactUsedKey:h,usedLng:y,usedNS:d,usedParams:this.getUsedParamsDetails(a)}:`${d}${g}${h}`:o?{res:h,usedKey:h,exactUsedKey:h,usedLng:y,usedNS:d,usedParams:this.getUsedParamsDetails(a)}:h;const b=this.resolve(e,a);let x=b?.res;const E=b?.usedKey||h,T=b?.exactUsedKey||h,A=["[object Number]","[object Function]","[object RegExp]"],R=a.joinArrays!==void 0?a.joinArrays:this.options.joinArrays,C=!this.i18nFormat||this.i18nFormat.handleAsObject,D=a.count!==void 0&&!xe(a.count),$=Oc.hasDefaultValue(a),M=D?this.pluralResolver.getSuffix(y,a.count,a):"",F=a.ordinal&&D?this.pluralResolver.getSuffix(y,a.count,{ordinal:!1}):"",Y=D&&!a.ordinal&&a.count===0,ee=Y&&a[`defaultValue${this.options.pluralSeparator}zero`]||a[`defaultValue${M}`]||a[`defaultValue${F}`]||a.defaultValue;let oe=x;C&&!x&&$&&(oe=ee);const ne=yp(oe),ie=Object.prototype.toString.apply(oe);if(C&&oe&&ne&&A.indexOf(ie)<0&&!(xe(R)&&Array.isArray(oe))){if(!a.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const he=this.options.returnedObjectHandler?this.options.returnedObjectHandler(E,oe,{...a,ns:f}):`key '${h} (${this.language})' returned an object instead of string.`;return o?(b.res=he,b.usedParams=this.getUsedParamsDetails(a),b):he}if(u){const he=Array.isArray(oe),ae=he?[]:{},Q=he?T:E;for(const P in oe)if(Object.prototype.hasOwnProperty.call(oe,P)){const K=`${Q}${u}${P}`;$&&!x?ae[P]=this.translate(K,{...a,defaultValue:yp(ee)?ee[P]:void 0,joinArrays:!1,ns:f}):ae[P]=this.translate(K,{...a,joinArrays:!1,ns:f}),ae[P]===K&&(ae[P]=oe[P])}x=ae}}else if(C&&xe(R)&&Array.isArray(x))x=x.join(R),x&&(x=this.extendTranslation(x,e,a,r));else{let he=!1,ae=!1;!this.isValidLookup(x)&&$&&(he=!0,x=ee),this.isValidLookup(x)||(ae=!0,x=h);const P=(a.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&ae?void 0:x,K=$&&ee!==x&&this.options.updateMissing;if(ae||he||K){if(this.logger.log(K?"updateKey":"missingKey",y,d,h,K?ee:x),u){const j=this.resolve(h,{...a,keySeparator:!1});j&&j.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let re=[];const ge=this.languageUtils.getFallbackCodes(this.options.fallbackLng,a.lng||this.language);if(this.options.saveMissingTo==="fallback"&&ge&&ge[0])for(let j=0;j<ge.length;j++)re.push(ge[j]);else this.options.saveMissingTo==="all"?re=this.languageUtils.toResolveHierarchy(a.lng||this.language):re.push(a.lng||this.language);const O=(j,q,k)=>{const Z=$&&k!==x?k:P;this.options.missingKeyHandler?this.options.missingKeyHandler(j,d,q,Z,K,a):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(j,d,q,Z,K,a),this.emit("missingKey",j,d,q,x)};this.options.saveMissing&&(this.options.saveMissingPlurals&&D?re.forEach(j=>{const q=this.pluralResolver.getSuffixes(j,a);Y&&a[`defaultValue${this.options.pluralSeparator}zero`]&&q.indexOf(`${this.options.pluralSeparator}zero`)<0&&q.push(`${this.options.pluralSeparator}zero`),q.forEach(k=>{O([j],h+k,a[`defaultValue${k}`]||ee)})}):O(re,h,ee))}x=this.extendTranslation(x,e,a,b,r),ae&&x===h&&this.options.appendNamespaceToMissingKey&&(x=`${d}${g}${h}`),(ae||he)&&this.options.parseMissingKeyHandler&&(x=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${d}${g}${h}`:h,he?x:void 0,a))}return o?(b.res=x,b.usedParams=this.getUsedParamsDetails(a),b):x}extendTranslation(e,n,r,a,o){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const f=xe(e)&&(r?.interpolation?.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let d;if(f){const y=e.match(this.interpolator.nestingRegexp);d=y&&y.length}let g=r.replace&&!xe(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(g={...this.options.interpolation.defaultVariables,...g}),e=this.interpolator.interpolate(e,g,r.lng||this.language||a.usedLng,r),f){const y=e.match(this.interpolator.nestingRegexp),v=y&&y.length;d<v&&(r.nest=!1)}!r.lng&&a&&a.res&&(r.lng=this.language||a.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...y)=>o?.[0]===y[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${y[0]} in key: ${n[0]}`),null):this.translate(...y,n),r)),r.interpolation&&this.interpolator.reset()}const u=r.postProcess||this.options.postProcess,h=xe(u)?[u]:u;return e!=null&&h?.length&&r.applyPostProcessor!==!1&&(e=uA.handle(h,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...a,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,n={}){let r,a,o,u,h;return xe(e)&&(e=[e]),e.forEach(f=>{if(this.isValidLookup(r))return;const d=this.extractFromKey(f,n),g=d.key;a=g;let y=d.namespaces;this.options.fallbackNS&&(y=y.concat(this.options.fallbackNS));const v=n.count!==void 0&&!xe(n.count),b=v&&!n.ordinal&&n.count===0,x=n.context!==void 0&&(xe(n.context)||typeof n.context=="number")&&n.context!=="",E=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);y.forEach(T=>{this.isValidLookup(r)||(h=T,!a1[`${E[0]}-${T}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(h)&&(a1[`${E[0]}-${T}`]=!0,this.logger.warn(`key "${a}" for languages "${E.join(", ")}" won't get resolved as namespace "${h}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),E.forEach(A=>{if(this.isValidLookup(r))return;u=A;const R=[g];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(R,g,A,T,n);else{let D;v&&(D=this.pluralResolver.getSuffix(A,n.count,n));const $=`${this.options.pluralSeparator}zero`,M=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(v&&(n.ordinal&&D.indexOf(M)===0&&R.push(g+D.replace(M,this.options.pluralSeparator)),R.push(g+D),b&&R.push(g+$)),x){const F=`${g}${this.options.contextSeparator||"_"}${n.context}`;R.push(F),v&&(n.ordinal&&D.indexOf(M)===0&&R.push(F+D.replace(M,this.options.pluralSeparator)),R.push(F+D),b&&R.push(F+$))}}let C;for(;C=R.pop();)this.isValidLookup(r)||(o=C,r=this.getResource(A,T,C,n))}))})}),{res:r,usedKey:a,exactUsedKey:o,usedLng:u,usedNS:h}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r,a={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,n,r,a):this.resourceStore.getResource(e,n,r,a)}getUsedParamsDetails(e={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!xe(e.replace);let a=r?e.replace:e;if(r&&typeof e.count<"u"&&(a.count=e.count),this.options.interpolation.defaultVariables&&(a={...this.options.interpolation.defaultVariables,...a}),!r){a={...a};for(const o of n)delete a[o]}return a}static hasDefaultValue(e){const n="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}}class o1{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Qn.create("languageUtils")}getScriptPartFromCode(e){if(e=ul(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=ul(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(xe(e)&&e.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(e)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;const a=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(a))&&(n=a)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;const a=this.getScriptPartFromCode(r);if(this.isSupportedCode(a))return n=a;const o=this.getLanguagePartFromCode(r);if(this.isSupportedCode(o))return n=o;n=this.options.supportedLngs.find(u=>{if(u===o)return u;if(!(u.indexOf("-")<0&&o.indexOf("-")<0)&&(u.indexOf("-")>0&&o.indexOf("-")<0&&u.substring(0,u.indexOf("-"))===o||u.indexOf(o)===0&&o.length>1))return u})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),xe(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){const r=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],e),a=[],o=u=>{u&&(this.isSupportedCode(u)?a.push(u):this.logger.warn(`rejecting language code not found in supportedLngs: ${u}`))};return xe(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(e))):xe(e)&&o(this.formatLanguageCode(e)),r.forEach(u=>{a.indexOf(u)<0&&o(this.formatLanguageCode(u))}),a}}const l1={zero:0,one:1,two:2,few:3,many:4,other:5},u1={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class QV{constructor(e,n={}){this.languageUtils=e,this.options=n,this.logger=Qn.create("pluralResolver"),this.pluralRulesCache={}}clearCache(){this.pluralRulesCache={}}getRule(e,n={}){const r=ul(e==="dev"?"en":e),a=n.ordinal?"ordinal":"cardinal",o=JSON.stringify({cleanedCode:r,type:a});if(o in this.pluralRulesCache)return this.pluralRulesCache[o];let u;try{u=new Intl.PluralRules(r,{type:a})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),u1;if(!e.match(/-|_/))return u1;const f=this.languageUtils.getLanguagePartFromCode(e);u=this.getRule(f,n)}return this.pluralRulesCache[o]=u,u}needsPlural(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),r?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,n,r={}){return this.getSuffixes(e,r).map(a=>`${n}${a}`)}getSuffixes(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),r?r.resolvedOptions().pluralCategories.sort((a,o)=>l1[a]-l1[o]).map(a=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${a}`):[]}getSuffix(e,n,r={}){const a=this.getRule(e,r);return a?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${a.select(n)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",n,r))}}const c1=(t,e,n,r=".",a=!0)=>{let o=HV(t,e,n);return!o&&a&&xe(n)&&(o=_g(t,n,r),o===void 0&&(o=_g(e,n,r))),o},vp=t=>t.replace(/\$/g,"$$$$");class h1{constructor(e={}){this.logger=Qn.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(n=>n),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:a,prefix:o,prefixEscaped:u,suffix:h,suffixEscaped:f,formatSeparator:d,unescapeSuffix:g,unescapePrefix:y,nestingPrefix:v,nestingPrefixEscaped:b,nestingSuffix:x,nestingSuffixEscaped:E,nestingOptionsSeparator:T,maxReplaces:A,alwaysFormat:R}=e.interpolation;this.escape=n!==void 0?n:qV,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=a!==void 0?a:!1,this.prefix=o?ta(o):u||"{{",this.suffix=h?ta(h):f||"}}",this.formatSeparator=d||",",this.unescapePrefix=g?"":y||"-",this.unescapeSuffix=this.unescapePrefix?"":g||"",this.nestingPrefix=v?ta(v):b||ta("$t("),this.nestingSuffix=x?ta(x):E||ta(")"),this.nestingOptionsSeparator=T||",",this.maxReplaces=A||1e3,this.alwaysFormat=R!==void 0?R:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,r)=>n?.source===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,n,r,a){let o,u,h;const f=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},d=b=>{if(b.indexOf(this.formatSeparator)<0){const A=c1(n,f,b,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(A,void 0,r,{...a,...n,interpolationkey:b}):A}const x=b.split(this.formatSeparator),E=x.shift().trim(),T=x.join(this.formatSeparator).trim();return this.format(c1(n,f,E,this.options.keySeparator,this.options.ignoreJSONStructure),T,r,{...a,...n,interpolationkey:E})};this.resetRegExp();const g=a?.missingInterpolationHandler||this.options.missingInterpolationHandler,y=a?.interpolation?.skipOnVariables!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:b=>vp(b)},{regex:this.regexp,safeValue:b=>this.escapeValue?vp(this.escape(b)):vp(b)}].forEach(b=>{for(h=0;o=b.regex.exec(e);){const x=o[1].trim();if(u=d(x),u===void 0)if(typeof g=="function"){const T=g(e,o,a);u=xe(T)?T:""}else if(a&&Object.prototype.hasOwnProperty.call(a,x))u="";else if(y){u=o[0];continue}else this.logger.warn(`missed to pass in variable ${x} for interpolating ${e}`),u="";else!xe(u)&&!this.useRawValueToEscape&&(u=t1(u));const E=b.safeValue(u);if(e=e.replace(o[0],E),y?(b.regex.lastIndex+=u.length,b.regex.lastIndex-=o[0].length):b.regex.lastIndex=0,h++,h>=this.maxReplaces)break}}),e}nest(e,n,r={}){let a,o,u;const h=(f,d)=>{const g=this.nestingOptionsSeparator;if(f.indexOf(g)<0)return f;const y=f.split(new RegExp(`${g}[ ]*{`));let v=`{${y[1]}`;f=y[0],v=this.interpolate(v,u);const b=v.match(/'/g),x=v.match(/"/g);((b?.length??0)%2===0&&!x||x.length%2!==0)&&(v=v.replace(/'/g,'"'));try{u=JSON.parse(v),d&&(u={...d,...u})}catch(E){return this.logger.warn(`failed parsing options string in nesting for key ${f}`,E),`${f}${g}${v}`}return u.defaultValue&&u.defaultValue.indexOf(this.prefix)>-1&&delete u.defaultValue,f};for(;a=this.nestingRegexp.exec(e);){let f=[];u={...r},u=u.replace&&!xe(u.replace)?u.replace:u,u.applyPostProcessor=!1,delete u.defaultValue;const d=/{.*}/.test(a[1])?a[1].lastIndexOf("}")+1:a[1].indexOf(this.formatSeparator);if(d!==-1&&(f=a[1].slice(d).split(this.formatSeparator).map(g=>g.trim()).filter(Boolean),a[1]=a[1].slice(0,d)),o=n(h.call(this,a[1].trim(),u),u),o&&a[0]===e&&!xe(o))return o;xe(o)||(o=t1(o)),o||(this.logger.warn(`missed to resolve ${a[1]} for nesting ${e}`),o=""),f.length&&(o=f.reduce((g,y)=>this.format(g,y,r.lng,{...r,interpolationkey:a[1].trim()}),o.trim())),e=e.replace(a[0],o),this.regexp.lastIndex=0}return e}}const ZV=t=>{let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const r=t.split("(");e=r[0].toLowerCase().trim();const a=r[1].substring(0,r[1].length-1);e==="currency"&&a.indexOf(":")<0?n.currency||(n.currency=a.trim()):e==="relativetime"&&a.indexOf(":")<0?n.range||(n.range=a.trim()):a.split(";").forEach(u=>{if(u){const[h,...f]=u.split(":"),d=f.join(":").trim().replace(/^'+|'+$/g,""),g=h.trim();n[g]||(n[g]=d),d==="false"&&(n[g]=!1),d==="true"&&(n[g]=!0),isNaN(d)||(n[g]=parseInt(d,10))}})}return{formatName:e,formatOptions:n}},d1=t=>{const e={};return(n,r,a)=>{let o=a;a&&a.interpolationkey&&a.formatParams&&a.formatParams[a.interpolationkey]&&a[a.interpolationkey]&&(o={...o,[a.interpolationkey]:void 0});const u=r+JSON.stringify(o);let h=e[u];return h||(h=t(ul(r),a),e[u]=h),h(n)}},e8=t=>(e,n,r)=>t(ul(n),r)(e);class t8{constructor(e={}){this.logger=Qn.create("formatter"),this.options=e,this.init(e)}init(e,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const r=n.cacheInBuiltFormats?d1:e8;this.formats={number:r((a,o)=>{const u=new Intl.NumberFormat(a,{...o});return h=>u.format(h)}),currency:r((a,o)=>{const u=new Intl.NumberFormat(a,{...o,style:"currency"});return h=>u.format(h)}),datetime:r((a,o)=>{const u=new Intl.DateTimeFormat(a,{...o});return h=>u.format(h)}),relativetime:r((a,o)=>{const u=new Intl.RelativeTimeFormat(a,{...o});return h=>u.format(h,o.range||"day")}),list:r((a,o)=>{const u=new Intl.ListFormat(a,{...o});return h=>u.format(h)})}}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=d1(n)}format(e,n,r,a={}){const o=n.split(this.formatSeparator);if(o.length>1&&o[0].indexOf("(")>1&&o[0].indexOf(")")<0&&o.find(h=>h.indexOf(")")>-1)){const h=o.findIndex(f=>f.indexOf(")")>-1);o[0]=[o[0],...o.splice(1,h)].join(this.formatSeparator)}return o.reduce((h,f)=>{const{formatName:d,formatOptions:g}=ZV(f);if(this.formats[d]){let y=h;try{const v=a?.formatParams?.[a.interpolationkey]||{},b=v.locale||v.lng||a.locale||a.lng||r;y=this.formats[d](h,b,{...g,...a,...v})}catch(v){this.logger.warn(v)}return y}else this.logger.warn(`there was no format function for ${d}`);return h},e)}}const n8=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class i8 extends Yc{constructor(e,n,r,a={}){super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=a,this.logger=Qn.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=a.maxParallelReads||10,this.readingCalls=0,this.maxRetries=a.maxRetries>=0?a.maxRetries:5,this.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(r,a.backend,a)}queueLoad(e,n,r,a){const o={},u={},h={},f={};return e.forEach(d=>{let g=!0;n.forEach(y=>{const v=`${d}|${y}`;!r.reload&&this.store.hasResourceBundle(d,y)?this.state[v]=2:this.state[v]<0||(this.state[v]===1?u[v]===void 0&&(u[v]=!0):(this.state[v]=1,g=!1,u[v]===void 0&&(u[v]=!0),o[v]===void 0&&(o[v]=!0),f[y]===void 0&&(f[y]=!0)))}),g||(h[d]=!0)}),(Object.keys(o).length||Object.keys(u).length)&&this.queue.push({pending:u,pendingCount:Object.keys(u).length,loaded:{},errors:[],callback:a}),{toLoad:Object.keys(o),pending:Object.keys(u),toLoadLanguages:Object.keys(h),toLoadNamespaces:Object.keys(f)}}loaded(e,n,r){const a=e.split("|"),o=a[0],u=a[1];n&&this.emit("failedLoading",o,u,n),!n&&r&&this.store.addResourceBundle(o,u,r,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&r&&(this.state[e]=0);const h={};this.queue.forEach(f=>{$V(f.loaded,[o],u),n8(f,e),n&&f.errors.push(n),f.pendingCount===0&&!f.done&&(Object.keys(f.loaded).forEach(d=>{h[d]||(h[d]={});const g=f.loaded[d];g.length&&g.forEach(y=>{h[d][y]===void 0&&(h[d][y]=!0)})}),f.done=!0,f.errors.length?f.callback(f.errors):f.callback())}),this.emit("loaded",h),this.queue=this.queue.filter(f=>!f.done)}read(e,n,r,a=0,o=this.retryTimeout,u){if(!e.length)return u(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:a,wait:o,callback:u});return}this.readingCalls++;const h=(d,g)=>{if(this.readingCalls--,this.waitingReads.length>0){const y=this.waitingReads.shift();this.read(y.lng,y.ns,y.fcName,y.tried,y.wait,y.callback)}if(d&&g&&a<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,a+1,o*2,u)},o);return}u(d,g)},f=this.backend[r].bind(this.backend);if(f.length===2){try{const d=f(e,n);d&&typeof d.then=="function"?d.then(g=>h(null,g)).catch(h):h(null,d)}catch(d){h(d)}return}return f(e,n,h)}prepareLoading(e,n,r={},a){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),a&&a();xe(e)&&(e=this.languageUtils.toResolveHierarchy(e)),xe(n)&&(n=[n]);const o=this.queueLoad(e,n,r,a);if(!o.toLoad.length)return o.pending.length||a(),null;o.toLoad.forEach(u=>{this.loadOne(u)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e,n=""){const r=e.split("|"),a=r[0],o=r[1];this.read(a,o,"read",void 0,void 0,(u,h)=>{u&&this.logger.warn(`${n}loading namespace ${o} for language ${a} failed`,u),!u&&h&&this.logger.log(`${n}loaded namespace ${o} for language ${a}`,h),this.loaded(e,u,h)})}saveMissing(e,n,r,a,o,u={},h=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend?.create){const f={...u,isUpdate:o},d=this.backend.create.bind(this.backend);if(d.length<6)try{let g;d.length===5?g=d(e,n,r,a,f):g=d(e,n,r,a),g&&typeof g.then=="function"?g.then(y=>h(null,y)).catch(h):h(null,g)}catch(g){h(g)}else d(e,n,r,a,h,f)}!e||!e[0]||this.store.addResource(e[0],n,r,a)}}}const bp=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),xe(t[1])&&(e.defaultValue=t[1]),xe(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const n=t[3]||t[2];Object.keys(n).forEach(r=>{e[r]=n[r]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),f1=t=>(xe(t.ns)&&(t.ns=[t.ns]),xe(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),xe(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs?.indexOf?.("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t),ec=()=>{},r8=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})};class Ko extends Yc{constructor(e={},n){if(super(),this.options=f1(e),this.services={},this.logger=Qn,this.modules={external:[]},r8(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(e={},n){this.isInitializing=!0,typeof e=="function"&&(n=e,e={}),e.defaultNS==null&&e.ns&&(xe(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const r=bp();this.options={...r,...this.options,...f1(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator),typeof this.options.overloadTranslationOptionHandler!="function"&&(this.options.overloadTranslationOptionHandler=r.overloadTranslationOptionHandler),this.options.debug===!0&&typeof console<"u"&&console.warn("i18next is maintained with support from locize.com  consider powering your project with managed localization (AI, CDN, integrations): https://locize.com");const a=d=>d?typeof d=="function"?new d:d:null;if(!this.options.isClone){this.modules.logger?Qn.init(a(this.modules.logger),this.options):Qn.init(null,this.options);let d;this.modules.formatter?d=this.modules.formatter:d=t8;const g=new o1(this.options);this.store=new s1(this.options.resources,this.options);const y=this.services;y.logger=Qn,y.resourceStore=this.store,y.languageUtils=g,y.pluralResolver=new QV(g,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),d&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(y.formatter=a(d),y.formatter.init&&y.formatter.init(y,this.options),this.options.interpolation.format=y.formatter.format.bind(y.formatter)),y.interpolator=new h1(this.options),y.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},y.backendConnector=new i8(a(this.modules.backend),y.resourceStore,y,this.options),y.backendConnector.on("*",(b,...x)=>{this.emit(b,...x)}),this.modules.languageDetector&&(y.languageDetector=a(this.modules.languageDetector),y.languageDetector.init&&y.languageDetector.init(y,this.options.detection,this.options)),this.modules.i18nFormat&&(y.i18nFormat=a(this.modules.i18nFormat),y.i18nFormat.init&&y.i18nFormat.init(this)),this.translator=new Oc(this.services,this.options),this.translator.on("*",(b,...x)=>{this.emit(b,...x)}),this.modules.external.forEach(b=>{b.init&&b.init(this)})}if(this.format=this.options.interpolation.format,n||(n=ec),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const d=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);d.length>0&&d[0]!=="dev"&&(this.options.lng=d[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(d=>{this[d]=(...g)=>this.store[d](...g)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(d=>{this[d]=(...g)=>(this.store[d](...g),this)});const h=Ao(),f=()=>{const d=(g,y)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),h.resolve(y),n(g,y)};if(this.languages&&!this.isInitialized)return d(null,this.t.bind(this));this.changeLanguage(this.options.lng,d)};return this.options.resources||!this.options.initAsync?f():setTimeout(f,0),h}loadResources(e,n=ec){let r=n;const a=xe(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(a?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const o=[],u=h=>{if(!h||h==="cimode")return;this.services.languageUtils.toResolveHierarchy(h).forEach(d=>{d!=="cimode"&&o.indexOf(d)<0&&o.push(d)})};a?u(a):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(f=>u(f)),this.options.preload?.forEach?.(h=>u(h)),this.services.backendConnector.load(o,this.options.ns,h=>{!h&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(h)})}else r(null)}reloadResources(e,n,r){const a=Ao();return typeof e=="function"&&(r=e,e=void 0),typeof n=="function"&&(r=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),r||(r=ec),this.services.backendConnector.reload(e,n,o=>{a.resolve(),r(o)}),a}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&uA.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,n){this.isLanguageChangingTo=e;const r=Ao();this.emit("languageChanging",e);const a=h=>{this.language=h,this.languages=this.services.languageUtils.toResolveHierarchy(h),this.resolvedLanguage=void 0,this.setResolvedLanguage(h)},o=(h,f)=>{f?this.isLanguageChangingTo===e&&(a(f),this.translator.changeLanguage(f),this.isLanguageChangingTo=void 0,this.emit("languageChanged",f),this.logger.log("languageChanged",f)):this.isLanguageChangingTo=void 0,r.resolve((...d)=>this.t(...d)),n&&n(h,(...d)=>this.t(...d))},u=h=>{!e&&!h&&this.services.languageDetector&&(h=[]);const f=xe(h)?h:h&&h[0],d=this.store.hasLanguageSomeTranslations(f)?f:this.services.languageUtils.getBestMatchFromCodes(xe(h)?[h]:h);d&&(this.language||a(d),this.translator.language||this.translator.changeLanguage(d),this.services.languageDetector?.cacheUserLanguage?.(d)),this.loadResources(d,g=>{o(g,d)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?u(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(u):this.services.languageDetector.detect(u):u(e),r}getFixedT(e,n,r){const a=(o,u,...h)=>{let f;typeof u!="object"?f=this.options.overloadTranslationOptionHandler([o,u].concat(h)):f={...u},f.lng=f.lng||a.lng,f.lngs=f.lngs||a.lngs,f.ns=f.ns||a.ns,f.keyPrefix!==""&&(f.keyPrefix=f.keyPrefix||r||a.keyPrefix);const d=this.options.keySeparator||".";let g;return f.keyPrefix&&Array.isArray(o)?g=o.map(y=>(typeof y=="function"&&(y=Tg(y,{...this.options,...u})),`${f.keyPrefix}${d}${y}`)):(typeof o=="function"&&(o=Tg(o,{...this.options,...u})),g=f.keyPrefix?`${f.keyPrefix}${d}${o}`:o),this.t(g,f)};return xe(e)?a.lng=e:a.lngs=e,a.ns=n,a.keyPrefix=r,a}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],a=this.options?this.options.fallbackLng:!1,o=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const u=(h,f)=>{const d=this.services.backendConnector.state[`${h}|${f}`];return d===-1||d===0||d===2};if(n.precheck){const h=n.precheck(this,u);if(h!==void 0)return h}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||u(r,e)&&(!a||u(o,e)))}loadNamespaces(e,n){const r=Ao();return this.options.ns?(xe(e)&&(e=[e]),e.forEach(a=>{this.options.ns.indexOf(a)<0&&this.options.ns.push(a)}),this.loadResources(a=>{r.resolve(),n&&n(a)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){const r=Ao();xe(e)&&(e=[e]);const a=this.options.preload||[],o=e.filter(u=>a.indexOf(u)<0&&this.services.languageUtils.isSupportedCode(u));return o.length?(this.options.preload=a.concat(o),this.loadResources(u=>{r.resolve(),n&&n(u)}),r):(n&&n(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";try{const a=new Intl.Locale(e);if(a&&a.getTextInfo){const o=a.getTextInfo();if(o&&o.direction)return o.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services?.languageUtils||new o1(bp());return e.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},n){const r=new Ko(e,n);return r.createInstance=Ko.createInstance,r}cloneInstance(e={},n=ec){const r=e.forkResourceStore;r&&delete e.forkResourceStore;const a={...this.options,...e,isClone:!0},o=new Ko(a);if((e.debug!==void 0||e.prefix!==void 0)&&(o.logger=o.logger.clone(e)),["store","services","language"].forEach(h=>{o[h]=this[h]}),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},r){const h=Object.keys(this.store.data).reduce((f,d)=>(f[d]={...this.store.data[d]},f[d]=Object.keys(f[d]).reduce((g,y)=>(g[y]={...f[d][y]},g),f[d]),f),{});o.store=new s1(h,a),o.services.resourceStore=o.store}if(e.interpolation){const f={...bp().interpolation,...this.options.interpolation,...e.interpolation},d={...a,interpolation:f};o.services.interpolator=new h1(d)}return o.translator=new Oc(o.services,a),o.translator.on("*",(h,...f)=>{o.emit(h,...f)}),o.init(a,n),o.translator.options=a,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Gt=Ko.createInstance();Gt.createInstance;Gt.dir;Gt.init;Gt.loadResources;Gt.reloadResources;Gt.use;Gt.changeLanguage;Gt.getFixedT;Gt.t;Gt.exists;Gt.setDefaultNamespace;Gt.hasLoadedNamespace;Gt.loadNamespaces;Gt.loadLanguages;const s8=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,a8={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},o8=t=>a8[t],l8=t=>t.replace(s8,o8);let p1={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:l8,transDefaultProps:void 0};const u8=(t={})=>{p1={...p1,...t}},c8={type:"3rdParty",init(t){u8(t.options.react)}},{slice:h8,forEach:d8}=[];function f8(t){return d8.call(h8.call(arguments,1),e=>{if(e)for(const n in e)t[n]===void 0&&(t[n]=e[n])}),t}function p8(t){return typeof t!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(n=>n.test(t))}const g1=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,g8=function(t,e){const r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},a=encodeURIComponent(e);let o=`${t}=${a}`;if(r.maxAge>0){const u=r.maxAge-0;if(Number.isNaN(u))throw new Error("maxAge should be a Number");o+=`; Max-Age=${Math.floor(u)}`}if(r.domain){if(!g1.test(r.domain))throw new TypeError("option domain is invalid");o+=`; Domain=${r.domain}`}if(r.path){if(!g1.test(r.path))throw new TypeError("option path is invalid");o+=`; Path=${r.path}`}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");o+=`; Expires=${r.expires.toUTCString()}`}if(r.httpOnly&&(o+="; HttpOnly"),r.secure&&(o+="; Secure"),r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return r.partitioned&&(o+="; Partitioned"),o},m1={create(t,e,n,r){let a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(a.expires=new Date,a.expires.setTime(a.expires.getTime()+n*60*1e3)),r&&(a.domain=r),document.cookie=g8(t,e,a)},read(t){const e=`${t}=`,n=document.cookie.split(";");for(let r=0;r<n.length;r++){let a=n[r];for(;a.charAt(0)===" ";)a=a.substring(1,a.length);if(a.indexOf(e)===0)return a.substring(e.length,a.length)}return null},remove(t,e){this.create(t,"",-1,e)}};var m8={name:"cookie",lookup(t){let{lookupCookie:e}=t;if(e&&typeof document<"u")return m1.read(e)||void 0},cacheUserLanguage(t,e){let{lookupCookie:n,cookieMinutes:r,cookieDomain:a,cookieOptions:o}=e;n&&typeof document<"u"&&m1.create(n,t,r,a,o)}},y8={name:"querystring",lookup(t){let{lookupQuerystring:e}=t,n;if(typeof window<"u"){let{search:r}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(r=window.location.hash.substring(window.location.hash.indexOf("?")));const o=r.substring(1).split("&");for(let u=0;u<o.length;u++){const h=o[u].indexOf("=");h>0&&o[u].substring(0,h)===e&&(n=o[u].substring(h+1))}}return n}},v8={name:"hash",lookup(t){let{lookupHash:e,lookupFromHashIndex:n}=t,r;if(typeof window<"u"){const{hash:a}=window.location;if(a&&a.length>2){const o=a.substring(1);if(e){const u=o.split("&");for(let h=0;h<u.length;h++){const f=u[h].indexOf("=");f>0&&u[h].substring(0,f)===e&&(r=u[h].substring(f+1))}}if(r)return r;if(!r&&n>-1){const u=a.match(/\/([a-zA-Z-]*)/g);return Array.isArray(u)?u[typeof n=="number"?n:0]?.replace("/",""):void 0}}}return r}};let na=null;const y1=()=>{if(na!==null)return na;try{if(na=typeof window<"u"&&window.localStorage!==null,!na)return!1;const t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{na=!1}return na};var b8={name:"localStorage",lookup(t){let{lookupLocalStorage:e}=t;if(e&&y1())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupLocalStorage:n}=e;n&&y1()&&window.localStorage.setItem(n,t)}};let ia=null;const v1=()=>{if(ia!==null)return ia;try{if(ia=typeof window<"u"&&window.sessionStorage!==null,!ia)return!1;const t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{ia=!1}return ia};var w8={name:"sessionStorage",lookup(t){let{lookupSessionStorage:e}=t;if(e&&v1())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupSessionStorage:n}=e;n&&v1()&&window.sessionStorage.setItem(n,t)}},S8={name:"navigator",lookup(t){const e=[];if(typeof navigator<"u"){const{languages:n,userLanguage:r,language:a}=navigator;if(n)for(let o=0;o<n.length;o++)e.push(n[o]);r&&e.push(r),a&&e.push(a)}return e.length>0?e:void 0}},x8={name:"htmlTag",lookup(t){let{htmlTag:e}=t,n;const r=e||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(n=r.getAttribute("lang")),n}},_8={name:"path",lookup(t){let{lookupFromPathIndex:e}=t;if(typeof window>"u")return;const n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(n)?n[typeof e=="number"?e:0]?.replace("/",""):void 0}},T8={name:"subdomain",lookup(t){let{lookupFromSubdomainIndex:e}=t;const n=typeof e=="number"?e+1:1,r=typeof window<"u"&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(r)return r[n]}};let hA=!1;try{document.cookie,hA=!0}catch{}const dA=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];hA||dA.splice(1,1);const E8=()=>({order:dA,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:t=>t});class fA{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,n)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=f8(n,this.options||{},E8()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=a=>a.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(m8),this.addDetector(y8),this.addDetector(b8),this.addDetector(w8),this.addDetector(S8),this.addDetector(x8),this.addDetector(_8),this.addDetector(T8),this.addDetector(v8)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,n=[];return e.forEach(r=>{if(this.detectors[r]){let a=this.detectors[r].lookup(this.options);a&&typeof a=="string"&&(a=[a]),a&&(n=n.concat(a))}}),n=n.filter(r=>r!=null&&!p8(r)).map(r=>this.options.convertDetectedLanguage(r)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}cacheUserLanguage(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||n.forEach(r=>{this.detectors[r]&&this.detectors[r].cacheUserLanguage(e,this.options)}))}}fA.type="languageDetector";const A8={title:"Telegram AI App",loading:"Loading..."},k8={home:"Home",news:"News",tasks:"Tasks",portfolio:"Portfolio",assistant:"Assistant",menu:"Menu"},C8={title:"Latest News",empty:"No news available.",refresh:"Refresh",categories:{IMPORTANT:"Important",INFO:"Information",FUN:"Fun"}},O8={title:"Your Tasks",completed:"Completed"},R8={login:"Login",register:"Register",logout:"Logout"},D8={app:A8,nav:k8,news:C8,tasks:O8,auth:R8},N8={title:"Telegram AI App",loading:"Laden..."},j8={home:"Startseite",news:"Nachrichten",tasks:"Aufgaben",portfolio:"Portfolio",assistant:"Assistent",menu:"Men"},M8={title:"Aktuelle Nachrichten",empty:"Keine Nachrichten verfgbar.",refresh:"Aktualisieren",categories:{IMPORTANT:"Wichtig",INFO:"Info",FUN:"Spa"}},L8={title:"Deine Aufgaben",completed:"Erledigt"},I8={login:"Anmelden",register:"Registrieren",logout:"Abmelden"},P8={app:N8,nav:j8,news:M8,tasks:L8,auth:I8},B8={},U8={};Gt.use(fA).use(c8).init({resources:{en:{translation:D8},de:{translation:P8},uk:{translation:B8},ru:{translation:U8}},fallbackLng:"en",debug:!1,interpolation:{escapeValue:!1},detection:{order:["localStorage","navigator"],caches:["localStorage"]}});const z8=window.location.pathname==="/production";PC.createRoot(document.getElementById("root")).render(S.jsx(V.StrictMode,{children:z8?S.jsx(UV,{}):S.jsx(IV,{})}));export{ft as n};
